<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 23 â€” When &amp; If (ã¨ããƒ»ã¨) | Minna no Nihongo N5</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #7c3aed;
            --primary-light: #a78bfa;
            --primary-dark: #6d28d9;
            --accent: #f59e0b;
            --accent-light: #fef3c7;
            --accent-dark: #d97706;
            --success: #10b981;
            --success-light: #d1fae5;
            --error: #ef4444;
            --error-light: #fee2e2;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --bg-light: #f5f3ff;
            --bg-card: #ffffff;
            --text-primary: #3b0764;
            --text-secondary: #5b21b6;
            --text-muted: #6b7280;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
        html{scroll-behavior:smooth;}
        body{font-family:'Noto Sans JP','Outfit',sans-serif;background:linear-gradient(135deg,var(--bg-light) 0%,#ede9fe 100%);color:var(--text-primary);line-height:1.7;min-height:100vh;overflow-x:hidden;}

        .progress-container{position:fixed;top:0;left:0;right:0;z-index:1000;background:var(--bg-card);box-shadow:var(--shadow);padding:12px 20px;}
        .progress-header{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;gap:20px;}
        .progress-title{font-size:0.9rem;font-weight:600;color:var(--primary);display:flex;align-items:center;gap:8px;}
        .progress-title .lesson-badge{background:var(--primary);color:white;padding:2px 10px;border-radius:20px;font-size:0.75rem;}
        .progress-bar-wrapper{flex:1;max-width:500px;}
        .progress-bar{height:8px;background:var(--border);border-radius:10px;overflow:hidden;}
        .progress-fill{height:100%;background:linear-gradient(90deg,var(--primary) 0%,var(--accent) 100%);border-radius:10px;transition:width 0.5s ease;width:0%;}
        .progress-text{font-size:0.8rem;color:var(--text-muted);text-align:right;margin-top:4px;}
        .progress-nav{display:flex;gap:8px;}
        .nav-btn{background:var(--primary);color:white;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;font-size:0.85rem;font-weight:500;transition:var(--transition);display:flex;align-items:center;gap:6px;}
        .nav-btn:hover{background:var(--primary-light);transform:translateY(-1px);}
        .nav-btn:disabled{background:var(--border);color:var(--text-muted);cursor:not-allowed;transform:none;}

        .presentation{padding-top:80px;min-height:100vh;}
        .slide{display:none;max-width:1020px;margin:0 auto;padding:40px 20px;animation:fadeIn 0.5s ease;}
        .slide.active{display:block;}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}

        .title-slide{text-align:center;padding:60px 20px;}
        .title-slide .book-badge{display:inline-block;background:linear-gradient(135deg,var(--primary) 0%,var(--primary-light) 100%);color:white;padding:8px 24px;border-radius:30px;font-size:0.9rem;font-weight:500;margin-bottom:24px;letter-spacing:1px;}
        .title-slide h1{font-size:clamp(2.5rem,6vw,4rem);font-weight:700;color:var(--primary);margin-bottom:16px;line-height:1.2;}
        .title-slide .lesson-title-jp{font-size:clamp(1.5rem,4vw,2.5rem);color:var(--accent-dark);margin-bottom:8px;}
        .title-slide .lesson-subtitle{font-size:1.15rem;color:var(--text-secondary);margin-bottom:40px;}
        .title-card{background:var(--bg-card);border-radius:var(--radius-lg);padding:40px;box-shadow:var(--shadow-lg);max-width:720px;margin:0 auto 40px;}
        .title-card h2{color:var(--primary);font-size:1.3rem;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:10px;}
        .grammar-list{display:grid;gap:12px;}
        .grammar-item{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-light);border-radius:var(--radius);border-left:4px solid var(--accent);transition:var(--transition);}
        .grammar-item:hover{transform:translateX(8px);background:var(--accent-light);}
        .grammar-number{width:28px;height:28px;background:var(--primary);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.85rem;font-weight:600;flex-shrink:0;}
        .start-btn{background:linear-gradient(135deg,var(--accent) 0%,var(--primary) 100%);color:white;border:none;padding:16px 48px;border-radius:30px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:var(--transition);box-shadow:0 4px 14px rgba(0,0,0,0.2);}
        .start-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,0.3);}

        .content-card{background:var(--bg-card);border-radius:var(--radius-lg);padding:40px;box-shadow:var(--shadow-lg);margin-bottom:24px;}
        .slide-header{display:flex;align-items:center;gap:16px;margin-bottom:32px;padding-bottom:20px;border-bottom:2px solid var(--border);}
        .grammar-badge{background:var(--primary);color:white;padding:8px 16px;border-radius:8px;font-size:0.85rem;font-weight:600;white-space:nowrap;}
        .slide-header h2{font-size:1.8rem;color:var(--primary);flex:1;}
        .slide-header .jp-title{font-size:1.3rem;color:var(--accent-dark);font-weight:500;}
        ruby{ruby-position:over;}ruby rt{font-size:0.6em;color:var(--text-muted);}

        .example-box{background:linear-gradient(135deg,#f5f3ff 0%,#ede9fe 100%);border-radius:var(--radius);padding:24px;margin:20px 0;border-left:4px solid var(--primary);}
        .example-label{font-size:0.8rem;font-weight:600;color:var(--primary);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;display:flex;align-items:center;gap:8px;}
        .example-japanese{font-size:1.35rem;color:var(--text-primary);margin-bottom:8px;line-height:2;}
        .example-english{font-size:1rem;color:var(--text-secondary);font-style:italic;}

        .example-comparison{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0;}
        .box-a,.box-b,.box-c{padding:20px;border-radius:var(--radius);}
        .box-a{background:linear-gradient(135deg,#f5f3ff 0%,#ddd6fe 100%);border-left:4px solid var(--primary);}
        .box-b{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);border-left:4px solid var(--accent);}
        .box-c{background:linear-gradient(135deg,#dbeafe 0%,#bfdbfe 100%);border-left:4px solid #3b82f6;}
        .style-label{font-size:0.85rem;font-weight:600;margin-bottom:10px;display:flex;align-items:center;gap:8px;}
        .box-a .style-label{color:#5b21b6;}.box-b .style-label{color:#92400e;}.box-c .style-label{color:#1e40af;}

        .structure-box{background:linear-gradient(135deg,#f5f3ff 0%,#a78bfa 100%);border-radius:var(--radius);padding:20px;margin:20px 0;border-left:4px solid var(--accent);}
        .structure-box .label{font-size:0.8rem;font-weight:600;color:var(--accent-dark);text-transform:uppercase;letter-spacing:1px;margin-bottom:12px;}
        .structure-formula{font-size:1.15rem;font-family:'Outfit',monospace;color:var(--primary-dark);background:white;padding:12px 20px;border-radius:8px;display:inline-block;margin:8px 4px;}
        .structure-formula .highlight{color:var(--primary);font-weight:600;}
        .structure-formula .accent{color:var(--accent-dark);font-weight:600;}

        .explanation{margin:24px 0;}
        .explanation h3{font-size:1.1rem;color:var(--primary);margin-bottom:12px;display:flex;align-items:center;gap:10px;}
        .explanation p{color:var(--text-secondary);margin-bottom:12px;}
        .key-point{background:var(--accent-light);padding:16px 20px;border-radius:var(--radius);margin:16px 0;border-left:4px solid var(--accent);}
        .key-point strong{color:var(--primary-dark);}
        .warning-box{background:#fef2f2;padding:16px 20px;border-radius:var(--radius);margin:16px 0;border-left:4px solid var(--error);}
        .warning-box strong{color:#991b1b;}

        .conversation-box{background:linear-gradient(135deg,#ecfdf5 0%,#a7f3d0 100%);border-radius:var(--radius);padding:24px;margin:20px 0;border-left:4px solid #10b981;}
        .conversation-box .example-label{color:#065f46;}
        .conversation-line{margin-bottom:12px;font-size:1.2rem;line-height:2;}.conversation-line:last-child{margin-bottom:0;}
        .speaker{font-weight:600;color:var(--primary-dark);min-width:24px;display:inline-block;}.speaker.b{color:var(--accent-dark);}
        .conversation-translation{font-size:0.9rem;color:var(--text-muted);margin-top:4px;font-style:italic;}

        .ref-connection{margin:24px 0;}
        .ref-toggle{width:100%;background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%);border:none;padding:16px 20px;border-radius:var(--radius);cursor:pointer;display:flex;align-items:center;justify-content:space-between;font-size:1rem;font-weight:500;color:#92400e;transition:var(--transition);}
        .ref-toggle:hover{background:linear-gradient(135deg,#fde68a 0%,#fcd34d 100%);}
        .ref-toggle .icon{transition:transform 0.3s ease;}.ref-toggle.open .icon{transform:rotate(180deg);}
        .ref-content{max-height:0;overflow:hidden;transition:max-height 0.4s ease,padding 0.4s ease;background:#fffbeb;border-radius:0 0 var(--radius) var(--radius);}
        .ref-content.open{max-height:800px;padding:20px;border:1px solid #fde68a;border-top:none;}
        .ref-content p{color:var(--text-secondary);font-size:0.95rem;margin-bottom:10px;}
        .ref-badge{display:inline-block;background:#7c3aed;color:white;padding:2px 10px;border-radius:20px;font-size:0.8rem;margin-right:8px;}

        .table-container{overflow-x:auto;margin:24px 0;}
        .data-table{width:100%;border-collapse:collapse;font-size:0.95rem;}
        .data-table th{background:var(--primary);color:white;padding:14px 16px;text-align:left;font-weight:500;}
        .data-table td{padding:12px 16px;border-bottom:1px solid var(--border);}
        .data-table tr:nth-child(even){background:var(--bg-light);}
        .data-table tr:hover{background:#ede9fe;}

        .timeline-visual{display:flex;align-items:center;gap:0;margin:20px 0;padding:20px;background:white;border-radius:var(--radius);border:2px solid var(--primary-light);overflow-x:auto;}
        .tl-event{text-align:center;padding:12px 16px;flex-shrink:0;min-width:120px;}
        .tl-event .tl-dot{width:16px;height:16px;border-radius:50%;margin:0 auto 8px;}
        .tl-event .tl-label{font-size:0.85rem;font-weight:600;}
        .tl-event .tl-desc{font-size:0.8rem;color:var(--text-muted);}
        .tl-arrow{font-size:1.5rem;color:var(--primary-light);flex-shrink:0;padding:0 4px;}
        .tl-dict .tl-dot{background:var(--accent);}.tl-dict .tl-label{color:var(--accent-dark);}
        .tl-ta .tl-dot{background:var(--primary);}.tl-ta .tl-label{color:var(--primary);}
        .tl-main .tl-dot{background:#10b981;}.tl-main .tl-label{color:#065f46;}

        .quiz-card{background:linear-gradient(135deg,#f5f3ff 0%,#a78bfa 100%);border-radius:var(--radius-lg);padding:40px;box-shadow:var(--shadow-lg);margin-bottom:24px;}
        .quiz-header{display:flex;align-items:center;gap:16px;margin-bottom:32px;}
        .quiz-badge{background:var(--accent);color:white;padding:8px 16px;border-radius:8px;font-size:0.85rem;font-weight:600;}
        .quiz-header h2{font-size:1.5rem;color:var(--primary);}
        .quiz-question{background:white;padding:24px;border-radius:var(--radius);margin-bottom:20px;box-shadow:var(--shadow);}
        .question-number{font-size:0.85rem;font-weight:600;color:var(--accent-dark);margin-bottom:12px;}
        .question-context{font-size:0.95rem;color:var(--text-secondary);font-style:italic;margin-bottom:16px;padding:12px;background:var(--bg-light);border-radius:8px;}
        .fill-blank{display:flex;align-items:center;gap:8px;flex-wrap:wrap;font-size:1.3rem;margin:20px 0;}
        .blank-input{border:2px dashed var(--primary);background:#f5f3ff;padding:8px 16px;border-radius:8px;min-width:100px;font-size:1.1rem;font-family:inherit;text-align:center;transition:var(--transition);}
        .blank-input:focus{outline:none;border-color:var(--accent);background:white;box-shadow:0 0 0 3px rgba(245,158,11,0.2);}
        .check-btn{background:var(--success);color:white;border:none;padding:12px 32px;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;transition:var(--transition);margin-top:20px;}
        .check-btn:hover{background:#059669;transform:translateY(-2px);}
        .feedback-area{margin-top:16px;padding:16px 20px;border-radius:var(--radius);display:none;font-size:1rem;line-height:1.6;}
        .feedback-area.show{display:block;animation:fadeIn 0.3s ease;}
        .feedback-area.correct-feedback{background:var(--success-light);border-left:4px solid var(--success);color:#065f46;}
        .feedback-area.incorrect-feedback{background:var(--error-light);border-left:4px solid var(--error);color:#991b1b;}
        .mc-options{display:grid;gap:12px;margin:16px 0;}
        .mc-option{display:flex;align-items:center;gap:12px;padding:14px 20px;border-radius:var(--radius);border:2px solid var(--border);background:white;cursor:pointer;transition:var(--transition);font-size:1.1rem;}
        .mc-option:hover{border-color:var(--primary);background:#f5f3ff;transform:translateX(4px);}
        .mc-option.correct-choice{border-color:var(--success);background:var(--success-light);}
        .mc-option.incorrect-choice{border-color:var(--error);background:var(--error-light);}
        .mc-option.disabled{pointer-events:none;opacity:0.7;}
        .mc-option .option-letter{width:32px;height:32px;border-radius:50%;background:var(--bg-light);display:flex;align-items:center;justify-content:center;font-weight:600;font-size:0.9rem;color:var(--primary);flex-shrink:0;}
        .mc-option.correct-choice .option-letter{background:var(--success);color:white;}
        .mc-option.incorrect-choice .option-letter{background:var(--error);color:white;}

        .summary-card{background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);border-radius:var(--radius-lg);padding:40px;color:white;text-align:center;}
        .summary-card h2{font-size:2rem;margin-bottom:24px;}
        .summary-card>p{font-size:1.1rem;opacity:0.9;margin-bottom:12px;}
        .summary-points{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin:32px 0;}
        .summary-point{background:rgba(255,255,255,0.15);padding:20px;border-radius:var(--radius);backdrop-filter:blur(10px);}
        .summary-point h4{font-size:1.05rem;margin-bottom:8px;}
        .summary-point p{font-size:0.9rem;opacity:0.9;}
        .restart-btn{background:white;color:var(--primary);border:none;padding:16px 48px;border-radius:30px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:var(--transition);margin-top:24px;}
        .restart-btn:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,0.2);}

        @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
        .pulse{animation:pulse 2s infinite;}

        @media(max-width:768px){
            .progress-header{flex-direction:column;gap:12px;}.progress-bar-wrapper{width:100%;max-width:none;}.progress-nav{width:100%;justify-content:space-between;}
            .content-card,.quiz-card{padding:24px;}.slide-header{flex-direction:column;align-items:flex-start;gap:12px;}
            .example-japanese{font-size:1.15rem;}.example-comparison{grid-template-columns:1fr;}
            .fill-blank{font-size:1.1rem;}.data-table{font-size:0.85rem;}.data-table th,.data-table td{padding:10px 12px;}
            .conversation-line{font-size:1.05rem;}.title-card{padding:24px;}.summary-points{grid-template-columns:1fr 1fr;}
            .timeline-visual{padding:12px;}.tl-event{min-width:90px;padding:8px;}.tl-event .tl-label{font-size:0.75rem;}
        }
        @media(max-width:480px){
            .progress-title{font-size:0.8rem;}.nav-btn{padding:6px 12px;font-size:0.8rem;}.title-slide h1{font-size:2rem;}
            .grammar-item{padding:10px 12px;font-size:0.9rem;}.summary-points{grid-template-columns:1fr;}.mc-option{padding:12px 16px;font-size:1rem;}
        }
    </style>
</head>
<body>
    <div class="progress-container">
        <div class="progress-header">
            <div class="progress-title"><span class="lesson-badge">L23</span> MNN Lesson 23 â€” When &amp; If (ã¨ããƒ»ã¨)</div>
            <div class="progress-bar-wrapper"><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div><div class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">24</span></div></div>
            <div class="progress-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">â—€ <span class="btn-text">Back</span></button>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()"><span class="btn-text">Next</span> â–¶</button>
            </div>
        </div>
    </div>

    <div class="presentation">

        <!-- ======================== SLIDE 1: Title ======================== -->
        <div class="slide active" data-slide="1">
            <div class="title-slide">
                <div class="book-badge">ã¿ã‚“ãªã®<ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby> <ruby>åˆç´š<rt>ã—ã‚‡ãã‚…ã†</rt></ruby> I â€” <ruby>ç¬¬<rt>ã ã„</rt></ruby>2<ruby>ç‰ˆ<rt>ã¯ã‚“</rt></ruby></div>
                <h1>Lesson 23</h1>
                <div class="lesson-title-jp">â° ã¨ããƒ»ã¨ â€” When &amp; If</div>
                <div class="lesson-subtitle">Express timing, conditions, and give directions!</div>
                <div class="title-card">
                    <h2>ğŸ“š Grammar Points</h2>
                    <div class="grammar-list">
                        <div class="grammar-item"><span class="grammar-number">1</span><span><strong>V / Adj / N + ã¨ã</strong> â€” "When ~" (time/occasion)</span></div>
                        <div class="grammar-item"><span class="grammar-number">2</span><span><strong>V dict. vs V ãŸ + ã¨ã</strong> â€” Before vs after (the subtle key!)</span></div>
                        <div class="grammar-item"><span class="grammar-number">3</span><span><strong>V dict. + ã¨</strong> â€” "If/when ~ (then inevitably)"</span></div>
                        <div class="grammar-item"><span class="grammar-number">4</span><span><strong>N ãŒ adj</strong> â€” Describing phenomena with ãŒ</span></div>
                        <div class="grammar-item"><span class="grammar-number">5</span><span><strong>N ã‚’ motion V</strong> â€” Passing through/along</span></div>
                    </div>
                </div>
                <button class="start-btn pulse" onclick="nextSlide()">â° Let's Begin!</button>
            </div>
        </div>

        <!-- ======================== SLIDE 2: ã¨ã â€” Structure ======================== -->
        <div class="slide" data-slide="2">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 1a</span><div><h2>ï½ã¨ãã€ï½</h2><span class="jp-title">"When ~"</span></div></div>
                <div class="structure-box">
                    <div class="label">ğŸ“ Structure â€” ã¨ã connects to ALL word types</div>
                    <div class="structure-formula">V <span class="accent">dictionary form</span> / V <span class="accent">ãªã„-form</span> + <span class="highlight">ã¨ã</span></div>
                    <div class="structure-formula">ã„-adj (<span class="accent">ï½ã„</span>) + <span class="highlight">ã¨ã</span></div>
                    <div class="structure-formula">ãª-adj <span class="accent">ãª</span> + <span class="highlight">ã¨ã</span></div>
                    <div class="structure-formula">N <span class="accent">ã®</span> + <span class="highlight">ã¨ã</span></div>
                </div>
                <div class="explanation">
                    <h3>ğŸ“– What ã¨ã does</h3>
                    <p><strong>ã¨ã</strong> means "when" or "at the time of." It connects a <strong>time/situation clause</strong> to a <strong>main clause</strong>, expressing what happens when a certain condition exists. The word preceding ã¨ã takes the <strong>same form as noun modification</strong> (L22) â€” because ã¨ã IS a noun (<ruby>æ™‚<rt>ã¨ã</rt></ruby> = "time") being modified by the clause before it! This is L22's noun modification in action.</p>
                </div>
                <div class="key-point"><strong>ğŸ’¡ ã¨ã IS noun modification!</strong> ã¨ã literally means "time." When you say <ruby>è¡Œ<rt>ã„</rt></ruby>ã ã¨ã, you're really saying "going time" â€” just like <ruby>è¡Œ<rt>ã„</rt></ruby>ã <ruby>äºº<rt>ã²ã¨</rt></ruby> (going person, L22). The forms before ã¨ã are identical to L22's modifier rules: V plain, ã„-adj ã„, ãª-adj ãª, N ã®. If you mastered L22, ã¨ã is free!</p>
                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">ğŸ“˜ MNN Connections â€” ã¨ã as Noun Modification (L2, L8, L22, L23) <span class="icon">â–¼</span></button>
                    <div class="ref-content">
                        <p><span class="ref-badge">L2</span> N ã® N â†’ N ã® ã¨ã (noun modifies ã¨ã: <ruby>å­<rt>ã“</rt></ruby>ã©ã‚‚ã® ã¨ã)</p>
                        <p><span class="ref-badge">L8</span> ã„-adj N / ãª-adj ãª N â†’ ã„-adj ã¨ã / ãª-adj ãª ã¨ã</p>
                        <p><span class="ref-badge">L22</span> V plain + N (noun modification) â†’ V plain + ã¨ã</p>
                        <p><span class="ref-badge">L23</span> All of the above combined â€” ã¨ã accepts every modifier type!</p>
                        <p>The forms before ã¨ã are <strong>identical</strong> to the forms before any noun in L22.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 3: ã¨ã â€” Examples with All Types ======================== -->
        <div class="slide" data-slide="3">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 1b</span><div><h2>ã¨ã â€” All Word Types</h2><span class="jp-title"><ruby>ä¾‹æ–‡<rt>ã‚Œã„ã¶ã‚“</rt></ruby></span></div></div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘  â€” V dictionary form + ã¨ã</div>
                    <div class="example-japanese"><ruby>å›³æ›¸é¤¨<rt>ã¨ã—ã‚‡ã‹ã‚“</rt></ruby>ã§ <ruby>æœ¬<rt>ã»ã‚“</rt></ruby>ã‚’ <ruby>å€Ÿ<rt>ã‹</rt></ruby>ã‚Šã‚‹ <strong>ã¨ã</strong>ã€ã‚«ãƒ¼ãƒ‰ãŒ <ruby>è¦<rt>ã„</rt></ruby>ã‚Šã¾ã™ã€‚</div>
                    <div class="example-english">When you borrow a book from the library, you need your card.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¡ â€” V ãªã„-form + ã¨ã</div>
                    <div class="example-japanese"><ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ã„<ruby>æ–¹<rt>ã‹ãŸ</rt></ruby>ãŒ ã‚ã‹ã‚‰ãªã„ <strong>ã¨ã</strong>ã€ã‚ãŸã—ã« <ruby>è<rt>ã</rt></ruby>ã„ã¦ ãã ã•ã„ã€‚</div>
                    <div class="example-english">If you don't know how to use it, please ask me.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¢ â€” ã„-adj + ã¨ã</div>
                    <div class="example-japanese"><ruby>ä½“<rt>ã‹ã‚‰ã </rt></ruby>ã® <ruby>èª¿å­<rt>ã¡ã‚‡ã†ã—</rt></ruby>ãŒ <ruby>æ‚ª<rt>ã‚ã‚‹</rt></ruby>ã„ <strong>ã¨ã</strong>ã€ã€Œ<ruby>å…ƒæ°—èŒ¶<rt>ã’ã‚“ãã¡ã‚ƒ</rt></ruby>ã€ã‚’ <ruby>é£²<rt>ã®</rt></ruby>ã¿ã¾ã™ã€‚</div>
                    <div class="example-english">When I don't feel very well, I drink "Genki-cha."</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘£ â€” ãª-adj ãª + ã¨ã</div>
                    <div class="example-japanese"><ruby>æš‡<rt>ã²ã¾</rt></ruby><strong>ãª</strong> ã¨ãã€ã†ã¡ã¸ <ruby>éŠ<rt>ã‚ã</rt></ruby>ã³ã« <ruby>æ¥<rt>ã</rt></ruby>ã¾ã›ã‚“ã‹ã€‚</div>
                    <div class="example-english">Please come and visit me when you have some free time.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¤ â€” N ã® + ã¨ã</div>
                    <div class="example-japanese"><ruby>å¦»<rt>ã¤ã¾</rt></ruby>ãŒ <ruby>ç—…æ°—<rt>ã³ã‚‡ã†ã</rt></ruby><strong>ã®</strong> ã¨ãã€<ruby>ä¼šç¤¾<rt>ã‹ã„ã—ã‚ƒ</rt></ruby>ã‚’ <ruby>ä¼‘<rt>ã‚„ã™</rt></ruby>ã¿ã¾ã™ã€‚</div>
                    <div class="example-english">I take time off when my wife is ill.</div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 4: ã¨ã â€” Past Examples ======================== -->
        <div class="slide" data-slide="4">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 1c</span><div><h2>ã¨ã â€” Past Situations</h2><span class="jp-title"><ruby>éå»<rt>ã‹ã“</rt></ruby>ã® ã¨ã</span></div></div>
                <div class="explanation">
                    <h3>ğŸ“– Key rule: The tense of the main clause determines the tense of the sentence</h3>
                    <p>The tense of the clause modifying ã¨ã is <strong>independent</strong> of the main clause tense. Even if the main clause is past tense (ï½ã¾ã—ãŸ), the ã¨ã clause can be non-past (dictionary form). And vice versa â€” a past-tense ã¨ã clause (ã„-adj ã‹ã£ãŸ, etc.) can pair with a non-past main clause.</p>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¥ â€” ã„-adj past + ã¨ã (past situation)</div>
                    <div class="example-japanese"><ruby>è‹¥<rt>ã‚ã‹</rt></ruby><strong>ã„</strong> ã¨ãã€ã‚ã¾ã‚Š <ruby>å‹‰å¼·<rt>ã¹ã‚“ãã‚‡ã†</rt></ruby> ã—ã¾ã›ã‚“ã§ã—ãŸã€‚</div>
                    <div class="example-english">When I was young, I didn't study very much.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¦ â€” N ã® + ã¨ã (past situation)</div>
                    <div class="example-japanese"><ruby>å­<rt>ã“</rt></ruby>ã©ã‚‚<strong>ã®</strong> ã¨ãã€ã‚ˆã <ruby>å·<rt>ã‹ã‚</rt></ruby>ã§ <ruby>æ³³<rt>ãŠã‚ˆ</rt></ruby>ãã¾ã—ãŸã€‚</div>
                    <div class="example-english">I often swam in the river when I was a child.</div>
                </div>
                <div class="warning-box">
                    <strong>âš ï¸ è‹¥ã„ ã¨ã, NOT è‹¥ã‹ã£ãŸ ã¨ã!</strong>
                    <p style="color:#991b1b;margin-top:8px;">Even though "when I was young" is past in English, Japanese uses è‹¥ã„ ã¨ã (non-past adjective) because the adjective describes the STATE at that time, not a completed action. å­ã©ã‚‚ã® ã¨ã (when I was a child) also uses non-past ã®, not ã ã£ãŸ. The MAIN CLAUSE carries the past tense: æ³³ã<strong>ã¾ã—ãŸ</strong>.</p>
                </div>
                <div class="key-point"><strong>ğŸ’¡ Pattern:</strong> For describing background CONDITIONS (young, a child, ill, free), the ã¨ã clause tends to use non-past forms even when talking about the past. The main clause shows the actual tense. This is subtle but important!</div>
            </div>
        </div>

        <!-- ======================== SLIDE 5: Quiz 1 ======================== -->
        <div class="slide" data-slide="5">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">âœï¸ Quick Check</span><h2>ã¨ã â€” Basic Forms</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 3</div>
                    <div class="question-context">"When I'm free, I read books." â€” <ruby>æš‡<rt>ã²ã¾</rt></ruby> (ãª-adj):</div>
                    <div class="fill-blank"><ruby>æš‡<rt>ã²ã¾</rt></ruby><input type="text" class="blank-input" id="q1-input" placeholder="ï¼Ÿ" style="min-width:50px;"> ã¨ãã€<ruby>æœ¬<rt>ã»ã‚“</rt></ruby>ã‚’ <ruby>èª­<rt>ã‚ˆ</rt></ruby>ã¿ã¾ã™ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q1',['ãª'],'ãª','ãª-adjective before ã¨ã (a noun) uses ãª â€” the same rule as L8/L22 noun modification. æš‡ãª ã¨ã = free time / when free. This is identical to æš‡ãª äºº (a free person).')">Check â†’</button>
                    <div class="feedback-area" id="q1-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 2 of 3</div>
                    <div class="question-context">"When I was a child, I played a lot." â€” <ruby>å­<rt>ã“</rt></ruby>ã©ã‚‚ (noun):</div>
                    <div class="fill-blank"><ruby>å­<rt>ã“</rt></ruby>ã©ã‚‚<input type="text" class="blank-input" id="q2-input" placeholder="ï¼Ÿ" style="min-width:30px;"> ã¨ãã€ã‚ˆã <ruby>éŠ<rt>ã‚ã</rt></ruby>ã³ã¾ã—ãŸã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q2',['ã®'],'ã®','Noun before ã¨ã uses ã® â€” same as L2/L22 noun modification. å­ã©ã‚‚ã® ã¨ã = childhood time. NOT å­ã©ã‚‚ã ã£ãŸ ã¨ã â€” the main clause (éŠã³ã¾ã—ãŸ) carries the past tense.')">Check â†’</button>
                    <div class="feedback-area" id="q2-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 3 of 3</div>
                    <div class="question-context">"When you don't understand, please ask." â€” ã‚ã‹ã‚‰ãªã„:</div>
                    <div class="fill-blank">ã‚ã‹ã‚‰ãªã„ <input type="text" class="blank-input" id="q3-input" placeholder="ï¼Ÿ" style="min-width:40px;">ã€<ruby>è<rt>ã</rt></ruby>ã„ã¦ ãã ã•ã„ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q3',['ã¨ã'],'ã¨ã','ã‚ã‹ã‚‰ãªã„ (ãªã„-form) + ã¨ã = when you don\'t understand. ãªã„-form connects directly to ã¨ã, just like it directly modifies nouns in L22.')">Check â†’</button>
                    <div class="feedback-area" id="q3-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 6: V dict. vs V ãŸ + ã¨ã ======================== -->
        <div class="slide" data-slide="6">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 2</span><div><h2>V dict. vs V ãŸ + ã¨ã</h2><span class="jp-title">The Subtle Timing Key ğŸ”‘</span></div></div>
                <div class="explanation">
                    <h3>ğŸ“– The most important distinction in L23</h3>
                    <p>When the verb before ã¨ã is in <strong>dictionary form</strong>, the main clause action happens <strong>BEFORE</strong> completing the ã¨ã action. When the verb before ã¨ã is in <strong>ãŸ-form</strong>, the main clause action happens <strong>AFTER</strong> completing the ã¨ã action. This subtle distinction changes the meaning entirely!</p>
                </div>
                <div class="example-comparison">
                    <div class="box-b">
                        <div class="style-label">ğŸŸ¡ V dictionary + ã¨ã = BEFORE</div>
                        <div class="example-japanese" style="font-size:1.15rem;">ãƒ‘ãƒªã¸ <ruby>è¡Œ<rt>ã„</rt></ruby><strong>ã</strong> ã¨ãã€ã‹ã°ã‚“ã‚’ <ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸã€‚</div>
                        <div class="example-english">I bought a bag <strong>when going to</strong> Paris.</div>
                        <p style="color:#92400e;margin-top:8px;font-size:0.9rem;">ğŸ“ Bag bought BEFORE arriving in Paris (on the way there)</p>
                    </div>
                    <div class="box-a">
                        <div class="style-label">ğŸŸ£ V ãŸ + ã¨ã = AFTER</div>
                        <div class="example-japanese" style="font-size:1.15rem;">ãƒ‘ãƒªã¸ <ruby>è¡Œ<rt>ã„</rt></ruby>ã£<strong>ãŸ</strong> ã¨ãã€ã‹ã°ã‚“ã‚’ <ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸã€‚</div>
                        <div class="example-english">I bought a bag <strong>when I went to</strong> Paris.</div>
                        <p style="color:#5b21b6;margin-top:8px;font-size:0.9rem;">ğŸ“ Bag bought AFTER arriving in Paris (while there)</p>
                    </div>
                </div>
                <div class="timeline-visual">
                    <div class="tl-event tl-dict"><div class="tl-dot"></div><div class="tl-label"><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ âœ“</div><div class="tl-desc">Bought bag</div></div>
                    <div class="tl-arrow">â†’</div>
                    <div class="tl-event tl-main"><div class="tl-dot"></div><div class="tl-label">ãƒ‘ãƒª<ruby>ç€<rt>ã¤</rt></ruby></div><div class="tl-desc">Arrived Paris</div></div>
                    <div style="width:40px;text-align:center;color:var(--text-muted);font-size:0.8rem;">= <ruby>è¡Œ<rt>ã„</rt></ruby>ã ã¨ã</div>
                </div>
                <div class="timeline-visual" style="margin-top:12px;">
                    <div class="tl-event tl-main"><div class="tl-dot"></div><div class="tl-label">ãƒ‘ãƒª<ruby>ç€<rt>ã¤</rt></ruby></div><div class="tl-desc">Arrived Paris</div></div>
                    <div class="tl-arrow">â†’</div>
                    <div class="tl-event tl-ta"><div class="tl-dot"></div><div class="tl-label"><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ âœ“</div><div class="tl-desc">Bought bag</div></div>
                    <div style="width:40px;text-align:center;color:var(--text-muted);font-size:0.8rem;">= <ruby>è¡Œ<rt>ã„</rt></ruby>ã£ãŸ ã¨ã</div>
                </div>
                <div class="key-point"><strong>ğŸ’¡ Memory aid:</strong> Dictionary form = the action hasn't completed yet â†’ main clause happens BEFORE. ãŸ-form = the action IS completed â†’ main clause happens AFTER. Think: dict = "on the way to," ãŸ = "having arrived."</div>
            </div>
        </div>

        <!-- ======================== SLIDE 7: Quiz 2 ======================== -->
        <div class="slide" data-slide="7">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">âœï¸ Quick Check</span><h2>V dict. vs V ãŸ + ã¨ã</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">"I met Tanaka while going to the office (before arriving)."</div>
                    <div class="mc-options" id="q4-options">
                        <div class="mc-option" onclick="checkMC('q4',this,'A')"><span class="option-letter">A</span><span><ruby>ä¼šç¤¾<rt>ã‹ã„ã—ã‚ƒ</rt></ruby>ã¸ <ruby>è¡Œ<rt>ã„</rt></ruby><strong>ã</strong> ã¨ã (dict = before arriving)</span></div>
                        <div class="mc-option" onclick="checkMC('q4',this,'A')"><span class="option-letter">B</span><span><ruby>ä¼šç¤¾<rt>ã‹ã„ã—ã‚ƒ</rt></ruby>ã¸ <ruby>è¡Œ<rt>ã„</rt></ruby>ã£<strong>ãŸ</strong> ã¨ã (ãŸ = after arriving)</span></div>
                    </div>
                    <div class="feedback-area" id="q4-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">"When I came to Japan (after arriving), I bought a dictionary."</div>
                    <div class="fill-blank"><ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã¸ <ruby>æ¥<rt>ã</rt></ruby><input type="text" class="blank-input" id="q5-input" placeholder="ï¼Ÿ" style="min-width:40px;"> ã¨ãã€<ruby>è¾æ›¸<rt>ã˜ã—ã‚‡</rt></ruby>ã‚’ <ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q5',['ãŸ'],'ãŸ','æ¥ãŸ ã¨ã = after arriving. The bag was bought IN Japan (after coming). If it were æ¥ã‚‹ ã¨ã, the dictionary would have been bought BEFORE arriving in Japan (on the way).')">Check â†’</button>
                    <div class="feedback-area" id="q5-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 8: V dict. + ã¨ ======================== -->
        <div class="slide" data-slide="8">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 3</span><div><h2>V dict. + ã¨ã€ï½</h2><span class="jp-title">"If/when ~ then inevitably ~"</span></div></div>
                <div class="structure-box">
                    <div class="label">ğŸ“ Structure</div>
                    <div class="structure-formula">V <span class="accent">dictionary form</span> + <span class="highlight">ã¨</span>ã€ï½ (inevitable result)</div>
                </div>
                <div class="explanation">
                    <h3>ğŸ“– How it works</h3>
                    <p><strong>ã¨</strong> (different from the quotation ã¨ in L21!) here expresses a <strong>natural, inevitable, or automatic result</strong>. If action A occurs, result B ALWAYS follows â€” like cause and effect. It's used for things like operating machines, giving directions, and describing natural phenomena. The result is NOT something the speaker controls â€” it happens automatically.</p>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘© â€” Machine operation</div>
                    <div class="example-japanese">ã“ã® ãƒœã‚¿ãƒ³ã‚’ <ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™<strong>ã¨</strong>ã€ãŠ<ruby>é‡£<rt>ã¤</rt></ruby>ã‚ŠãŒ <ruby>å‡º<rt>ã§</rt></ruby>ã¾ã™ã€‚</div>
                    <div class="example-english">If you press this button, your change will come out.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘ª â€” Adjustment</div>
                    <div class="example-japanese">ã“ã‚Œã‚’ <ruby>å›<rt>ã¾ã‚</rt></ruby>ã™<strong>ã¨</strong>ã€<ruby>éŸ³<rt>ãŠã¨</rt></ruby>ãŒ <ruby>å¤§<rt>ãŠãŠ</rt></ruby>ãã ãªã‚Šã¾ã™ã€‚</div>
                    <div class="example-english">When you turn this, it gets louder.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘« â€” Directions</div>
                    <div class="example-japanese"><ruby>å³<rt>ã¿ã</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<strong>ã¨</strong>ã€<ruby>éƒµä¾¿å±€<rt>ã‚†ã†ã³ã‚“ãã‚‡ã</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                    <div class="example-english">If you turn right, you'll see a post office.</div>
                </div>
                <div class="warning-box">
                    <strong>âš ï¸ ã¨ is for AUTOMATIC/INEVITABLE results only!</strong>
                    <p style="color:#991b1b;margin-top:8px;">Ã— ãƒœã‚¿ãƒ³ã‚’ <ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™ã¨ã€<ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ã‚‡ã† (let's buy) â€” You can't use ã¨ for suggestions, requests, or intentions. ã¨ describes what INEVITABLY happens, not what you CHOOSE to do. For choices/suggestions, use ã¨ã or ãŸã‚‰ (L25).</p>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 9: Quiz 3 ======================== -->
        <div class="slide" data-slide="9">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">âœï¸ Quick Check</span><h2>V dict. + ã¨</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">"If you go straight, there's a station." â€” <ruby>çœŸ<rt>ã¾</rt></ruby>ã£ã™ã <ruby>è¡Œ<rt>ã„</rt></ruby>ã + ã¨:</div>
                    <div class="fill-blank"><ruby>çœŸ<rt>ã¾</rt></ruby>ã£ã™ã <ruby>è¡Œ<rt>ã„</rt></ruby>ã<input type="text" class="blank-input" id="q6-input" placeholder="ï¼Ÿ" style="min-width:20px;">ã€<ruby>é§…<rt>ãˆã</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q6',['ã¨'],'ã¨','è¡Œã + ã¨ = if/when you go (straight), inevitably... The station is always there â€” this is a natural, inevitable result, perfect for ã¨. Directions are one of the most common uses of V dictionary + ã¨!')">Check â†’</button>
                    <div class="feedback-area" id="q6-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">Which sentence correctly uses ã¨?</div>
                    <div class="mc-options" id="q7-options">
                        <div class="mc-option" onclick="checkMC('q7',this,'A')"><span class="option-letter">A</span><span><ruby>æ˜¥<rt>ã¯ã‚‹</rt></ruby>ã« ãªã‚‹ã¨ã€<ruby>æ¡œ<rt>ã•ãã‚‰</rt></ruby>ãŒ <ruby>å’²<rt>ã•</rt></ruby>ãã¾ã™ã€‚ (natural result)</span></div>
                        <div class="mc-option" onclick="checkMC('q7',this,'A')"><span class="option-letter">B</span><span><ruby>æ˜¥<rt>ã¯ã‚‹</rt></ruby>ã« ãªã‚‹ã¨ã€<ruby>èŠ±è¦‹<rt>ã¯ãªã¿</rt></ruby>ã« <ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã—ã‚‡ã†ã€‚ (let's go)</span></div>
                    </div>
                    <div class="feedback-area" id="q7-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 10: ã¨ã vs ã¨ Comparison ======================== -->
        <div class="slide" data-slide="10">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Compare</span><div><h2>ã¨ã vs ã¨</h2><span class="jp-title"><ruby>æ¯”è¼ƒ<rt>ã²ã‹ã</rt></ruby></span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th></th><th style="background:var(--primary);">ã¨ã (when)</th><th style="background:var(--accent-dark);">ã¨ (if/when â†’ inevitably)</th></tr></thead>
                        <tbody>
                            <tr><td><strong>Meaning</strong></td><td>"When ~" (situation/timing)</td><td>"If/when ~ then always ~"</td></tr>
                            <tr><td><strong>Result</strong></td><td>Any action (choices, requests OK)</td><td>Automatic/inevitable result ONLY</td></tr>
                            <tr><td><strong>Forms</strong></td><td>All: V dict/ãªã„/ãŸ, adj, noun</td><td>V dictionary form only</td></tr>
                            <tr><td><strong>Main clause</strong></td><td>Anything (command, suggestion, past OK)</td><td>NO commands/suggestions/invitations</td></tr>
                            <tr><td><strong>Use for</strong></td><td>General "when" situations</td><td>Machines, directions, natural phenomena</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="example-comparison">
                    <div class="box-a">
                        <div class="style-label">ğŸŸ£ ã¨ã â€” Flexible</div>
                        <div class="example-japanese" style="font-size:1.05rem;"><ruby>æš‡<rt>ã²ã¾</rt></ruby>ãª <strong>ã¨ã</strong>ã€<ruby>éŠ<rt>ã‚ã</rt></ruby>ã³ã« <ruby>æ¥<rt>ã</rt></ruby>ã¦ ãã ã•ã„ã€‚</div>
                        <div class="example-english">When you're free, please come visit. âœ…</div>
                    </div>
                    <div class="box-b">
                        <div class="style-label">ğŸŸ¡ ã¨ â€” Automatic only</div>
                        <div class="example-japanese" style="font-size:1.05rem;"><ruby>å³<rt>ã¿ã</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<strong>ã¨</strong>ã€<ruby>éŠ€è¡Œ<rt>ãã‚“ã“ã†</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                        <div class="example-english">If you turn right, there's a bank. âœ…</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 11: N ãŒ adj ======================== -->
        <div class="slide" data-slide="11">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 4</span><div><h2>N ãŒ adj</h2><span class="jp-title">Describing Phenomena</span></div></div>
                <div class="explanation">
                    <h3>ğŸ“– Expanding ãŒ with adjectives</h3>
                    <p>In L14, you learned that ãŒ is used with verbs to describe <strong>objectively perceived phenomena</strong> (what you see, hear, notice). L23 extends this to <strong>adjective sentences</strong> â€” using ãŒ to objectively describe a state or quality. It's used when neutrally commenting on something you perceive, rather than making a topic-based statement.</p>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¬</div>
                    <div class="example-japanese"><ruby>éŸ³<rt>ãŠã¨</rt></ruby><strong>ãŒ</strong> <ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„ã§ã™ã€‚</div>
                    <div class="example-english">The volume is low.</div>
                </div>
                <div class="example-comparison">
                    <div class="box-a">
                        <div class="style-label">ğŸŸ£ ãŒ â€” Objective observation</div>
                        <div class="example-japanese" style="font-size:1.05rem;"><ruby>éŸ³<rt>ãŠã¨</rt></ruby><strong>ãŒ</strong> <ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„ã§ã™ã€‚</div>
                        <div class="example-english">The volume is low. (noticing it now)</div>
                    </div>
                    <div class="box-b">
                        <div class="style-label">ğŸŸ¡ ã¯ â€” Topic comment</div>
                        <div class="example-japanese" style="font-size:1.05rem;"><ruby>éŸ³<rt>ãŠã¨</rt></ruby><strong>ã¯</strong> <ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„ã§ã™ã€‚</div>
                        <div class="example-english">As for the volume, it's low. (discussing it)</div>
                    </div>
                </div>
                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">ğŸ“˜ MNN Connections â€” ãŒ for Perception (L14, L23) <span class="icon">â–¼</span></button>
                    <div class="ref-content">
                        <p><span class="ref-badge">L14</span> ãŒ with verbs â€” <ruby>é›¨<rt>ã‚ã‚</rt></ruby>ãŒ <ruby>é™<rt>ãµ</rt></ruby>ã£ã¦ ã„ã¾ã™ (It's raining â€” observed phenomenon)</p>
                        <p><span class="ref-badge">L14</span> ãŒ with verbs â€” <ruby>é›»æ°—<rt>ã§ã‚“ã</rt></ruby>ãŒ ã¤ã„ã¦ ã„ã¾ã™ (The light is on)</p>
                        <p><span class="ref-badge">L23</span> ãŒ with adjectives â€” <ruby>éŸ³<rt>ãŠã¨</rt></ruby>ãŒ <ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„ã§ã™ (The volume is low â€” perceived state)</p>
                        <p>Both use ãŒ to mark something the speaker <strong>observes</strong> or <strong>notices</strong>, whether with verbs or adjectives.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 12: N ã‚’ motion V ======================== -->
        <div class="slide" data-slide="12">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Grammar 5</span><div><h2>N ã‚’ motion V</h2><span class="jp-title">"Pass through / along N"</span></div></div>
                <div class="explanation">
                    <h3>ğŸ“– A new use for ã‚’!</h3>
                    <p>You know ã‚’ as the <strong>object marker</strong> (L6: ã”ã¯ã‚“ã‚’ <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã™). Here, ã‚’ marks the <strong>space or path</strong> through which movement occurs. It's used with motion verbs like <ruby>æ•£æ­©<rt>ã•ã‚“ã½</rt></ruby>ã—ã¾ã™ (take a walk), <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚Šã¾ã™ (cross), <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚Šã¾ã™ (turn), and <ruby>æ­©<rt>ã‚ã‚‹</rt></ruby>ãã¾ã™ (walk along).</p>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘­ â€” Walk through</div>
                    <div class="example-japanese"><ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby><strong>ã‚’</strong> <ruby>æ•£æ­©<rt>ã•ã‚“ã½</rt></ruby>ã—ã¾ã™ã€‚</div>
                    <div class="example-english">I go for a walk in the park.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘® â€” Cross</div>
                    <div class="example-japanese"><ruby>é“<rt>ã¿ã¡</rt></ruby><strong>ã‚’</strong> <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚Šã¾ã™ã€‚</div>
                    <div class="example-english">I cross the road.</div>
                </div>
                <div class="example-box">
                    <div class="example-label">ğŸ“ Example â‘¯ â€” Turn</div>
                    <div class="example-japanese"><ruby>äº¤å·®ç‚¹<rt>ã“ã†ã•ã¦ã‚“</rt></ruby><strong>ã‚’</strong> <ruby>å³<rt>ã¿ã</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚Šã¾ã™ã€‚</div>
                    <div class="example-english">I turn right at the intersection.</div>
                </div>
                <div class="key-point"><strong>ğŸ’¡ Two faces of ã‚’:</strong> (1) Object marker: ã‚³ãƒ¼ãƒ’ãƒ¼<strong>ã‚’</strong> <ruby>é£²<rt>ã®</rt></ruby>ã‚€ (drink coffee â€” ã‚’ marks WHAT you drink). (2) Path marker: <ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby><strong>ã‚’</strong> <ruby>æ•£æ­©<rt>ã•ã‚“ã½</rt></ruby>ã™ã‚‹ (walk through the park â€” ã‚’ marks WHERE you move through). Context and the verb type (action vs motion) tell you which meaning!</div>
                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">ğŸ“˜ MNN Connections â€” ã‚’ Evolution (L6, L13, L23) <span class="icon">â–¼</span></button>
                    <div class="ref-content">
                        <p><span class="ref-badge">L6</span> N ã‚’ V â€” Object marker (ã”ã¯ã‚“ã‚’ é£Ÿã¹ã¾ã™)</p>
                        <p><span class="ref-badge">L13</span> N ã‚’ V ãŸã„ã§ã™ â€” Want to do (with ã‚’ retained)</p>
                        <p><span class="ref-badge">L16</span> N ã‚’ V-ã¦ â€” Chaining (ã”ã¯ã‚“ã‚’ é£Ÿã¹ã¦ã€â€¦)</p>
                        <p><span class="ref-badge">L23</span> N ã‚’ motion V â€” Path/space marker (å…¬åœ’ã‚’ æ•£æ­©ã—ã¾ã™, é“ã‚’ æ¸¡ã‚Šã¾ã™)</p>
                        <p>Same particle, now marking the <strong>space traversed</strong> rather than the object acted upon.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 13: Quiz 4 ======================== -->
        <div class="slide" data-slide="13">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">âœï¸ Quick Check</span><h2>N ãŒ adj &amp; N ã‚’ motion V</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">"Cross the bridge." â€” <ruby>æ©‹<rt>ã¯ã—</rt></ruby> + <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚Šã¾ã™. Which particle?</div>
                    <div class="fill-blank"><ruby>æ©‹<rt>ã¯ã—</rt></ruby><input type="text" class="blank-input" id="q8-input" placeholder="ï¼Ÿ" style="min-width:20px;"> <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã£ã¦ ãã ã•ã„ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q8',['ã‚’'],'ã‚’','æ¸¡ã‚Šã¾ã™ (cross) is a motion verb â€” the bridge is the SPACE you move through, so it takes ã‚’. æ©‹ã‚’ æ¸¡ã£ã¦ ãã ã•ã„ = Please cross the bridge. This is ã‚’ as a path marker!')">Check â†’</button>
                    <div class="feedback-area" id="q8-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">Directions: "Turn left at the signal, and there's a hospital."</div>
                    <div class="fill-blank"><ruby>ä¿¡å·<rt>ã—ã‚“ã”ã†</rt></ruby>ã‚’ <ruby>å·¦<rt>ã²ã ã‚Š</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<input type="text" class="blank-input" id="q9-input" placeholder="ï¼Ÿ" style="min-width:20px;">ã€<ruby>ç—…é™¢<rt>ã³ã‚‡ã†ã„ã‚“</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q9',['ã¨'],'ã¨','Directions use V dictionary + ã¨ (if/when â†’ inevitable result). æ›²ãŒã‚‹ã¨ã€ç—…é™¢ãŒ ã‚ã‚Šã¾ã™ = If you turn, there\'s a hospital. The hospital is always there â€” an inevitable result of turning, perfect for ã¨!')">Check â†’</button>
                    <div class="feedback-area" id="q9-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 14: Model Conversation ======================== -->
        <div class="slide" data-slide="14">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Practice</span><div><h2>Model Conversation</h2><span class="jp-title"><ruby>ä¼šè©±<rt>ã‹ã„ã‚</rt></ruby>ã‚Œã‚“ã—ã‚…ã†</span></div></div>
                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Giving Directions &amp; Talking About Life</div>
                    <div class="conversation-line"><span class="speaker">A:</span> ã™ã¿ã¾ã›ã‚“ã€<ruby>éƒµä¾¿å±€<rt>ã‚†ã†ã³ã‚“ãã‚‡ã</rt></ruby>ã¯ ã©ã“ã§ã™ã‹ã€‚</div>
                    <div class="conversation-translation" style="margin-bottom:14px;margin-left:28px;">Excuse me, where's the post office?</div>
                    <div class="conversation-line"><span class="speaker b">B:</span> ã“ã® <ruby>é“<rt>ã¿ã¡</rt></ruby><strong>ã‚’</strong> <ruby>çœŸ<rt>ã¾</rt></ruby>ã£ã™ã <ruby>è¡Œ<rt>ã„</rt></ruby>ã<strong>ã¨</strong>ã€<ruby>äº¤å·®ç‚¹<rt>ã“ã†ã•ã¦ã‚“</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                    <div class="conversation-translation" style="margin-bottom:14px;margin-left:28px;">If you go straight along this road, there's an intersection.</div>
                    <div class="conversation-line"><span class="speaker b">B:</span> <ruby>äº¤å·®ç‚¹<rt>ã“ã†ã•ã¦ã‚“</rt></ruby><strong>ã‚’</strong> <ruby>å³<rt>ã¿ã</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<strong>ã¨</strong>ã€<ruby>éƒµä¾¿å±€<rt>ã‚†ã†ã³ã‚“ãã‚‡ã</rt></ruby>ãŒ ã‚ã‚Šã¾ã™ã€‚</div>
                    <div class="conversation-translation" style="margin-bottom:14px;margin-left:28px;">Turn right at the intersection, and you'll see the post office.</div>
                    <div class="conversation-line"><span class="speaker">A:</span> ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</div>
                    <div class="conversation-translation" style="margin-left:28px;">Thank you!</div>
                </div>
                <div class="key-point"><strong>ğŸ” Directions = N ã‚’ motion V + ã¨!</strong> This conversation uses both L23 direction patterns together: <ruby>é“<rt>ã¿ã¡</rt></ruby>ã‚’ (path marker) + è¡Œãã¨ (inevitable result), <ruby>äº¤å·®ç‚¹<rt>ã“ã†ã•ã¦ã‚“</rt></ruby>ã‚’ (path marker) + æ›²ãŒã‚‹ã¨ (inevitable result). This is the standard pattern for giving directions in Japanese!</div>
            </div>
        </div>

        <!-- ======================== SLIDE 15: Comprehensive Final Quiz ======================== -->
        <div class="slide" data-slide="15">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">ğŸ† Final Quiz</span><h2>Lesson 23 â€” Comprehensive</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 3</div>
                    <div class="question-context">"When I went to Osaka (after arriving), I ate takoyaki."</div>
                    <div class="fill-blank"><ruby>å¤§é˜ª<rt>ãŠãŠã•ã‹</rt></ruby>ã¸ <ruby>è¡Œ<rt>ã„</rt></ruby>ã£<input type="text" class="blank-input" id="q10-input" placeholder="ï¼Ÿ" style="min-width:60px;"> ã¨ãã€ãŸã“<ruby>ç„¼<rt>ã‚„</rt></ruby>ãã‚’ <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã—ãŸã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q10',['ãŸ'],'ãŸ','è¡Œã£ãŸ ã¨ã = after arriving in Osaka (ãŸ-form = action completed). Takoyaki was eaten IN Osaka, after getting there. If it were è¡Œã ã¨ã, the takoyaki would have been eaten on the way to Osaka!')">Check â†’</button>
                    <div class="feedback-area" id="q10-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 2 of 3</div>
                    <div class="question-context">"When my wife is ill" â€” <ruby>ç—…æ°—<rt>ã³ã‚‡ã†ã</rt></ruby> (noun) + ã¨ã:</div>
                    <div class="fill-blank"><ruby>å¦»<rt>ã¤ã¾</rt></ruby>ãŒ <ruby>ç—…æ°—<rt>ã³ã‚‡ã†ã</rt></ruby><input type="text" class="blank-input" id="q11-input" placeholder="ï¼Ÿ" style="min-width:30px;"> ã¨ã</div>
                    <button class="check-btn" onclick="checkFillBlank('q11',['ã®'],'ã®','Noun + ã¨ã uses ã® â€” the same noun modification rule from L2/L22. ç—…æ°—ã® ã¨ã = time of illness = when ill. This is identical to the pattern N ã® N.')">Check â†’</button>
                    <div class="feedback-area" id="q11-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Question 3 of 3</div>
                    <div class="question-context">"If you press this, the door opens." â€” <ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™ + ã¨:</div>
                    <div class="fill-blank">ã“ã‚Œã‚’ <ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™<input type="text" class="blank-input" id="q12-input" placeholder="ï¼Ÿ" style="min-width:20px;">ã€ãƒ‰ã‚¢ãŒ <ruby>é–‹<rt>ã‚</rt></ruby>ãã¾ã™ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q12',['ã¨'],'ã¨','æŠ¼ã™ + ã¨ = if you press, then automatically/inevitably... The door opening is an automatic result of pressing â€” perfect for ã¨. Machine operations and natural consequences are the core uses of V dict. + ã¨.')">Check â†’</button>
                    <div class="feedback-area" id="q12-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 16: Directions Pattern ======================== -->
        <div class="slide" data-slide="16">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Practical</span><div><h2>Giving Directions Pattern</h2><span class="jp-title"><ruby>é“æ¡ˆå†…<rt>ã¿ã¡ã‚ã‚“ãªã„</rt></ruby></span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Japanese</th><th>English</th></tr></thead>
                        <tbody>
                            <tr><td><ruby>çœŸ<rt>ã¾</rt></ruby>ã£ã™ã <ruby>è¡Œ<rt>ã„</rt></ruby>ã<strong>ã¨</strong>ã€ï½ãŒ ã‚ã‚Šã¾ã™</td><td>Go straight and you'll see ~</td></tr>
                            <tr><td>ï½<strong>ã‚’</strong> <ruby>å³<rt>ã¿ã</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<strong>ã¨</strong>ã€ï½</td><td>Turn right at ~ and ~</td></tr>
                            <tr><td>ï½<strong>ã‚’</strong> <ruby>å·¦<rt>ã²ã ã‚Š</rt></ruby>ã¸ <ruby>æ›²<rt>ã¾</rt></ruby>ãŒã‚‹<strong>ã¨</strong>ã€ï½</td><td>Turn left at ~ and ~</td></tr>
                            <tr><td><ruby>é“<rt>ã¿ã¡</rt></ruby><strong>ã‚’</strong> <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚‹<strong>ã¨</strong>ã€ï½</td><td>Cross the road and ~</td></tr>
                            <tr><td><ruby>æ©‹<rt>ã¯ã—</rt></ruby><strong>ã‚’</strong> <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚‹<strong>ã¨</strong>ã€ï½</td><td>Cross the bridge and ~</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="key-point"><strong>ğŸ’¡ Directions = N ã‚’ motion V + ã¨!</strong> The ã‚’ marks the space traversed (road, bridge, intersection) and ã¨ gives the inevitable result (what you'll find). This pattern is incredibly practical â€” you'll use it every time you give or receive directions in Japanese!</div>
            </div>
        </div>

        <!-- ======================== SLIDE 17: Bonus Quiz ======================== -->
        <div class="slide" data-slide="17">
            <div class="quiz-card">
                <div class="quiz-header"><span class="quiz-badge">ğŸ§  Bonus Quiz</span><h2>Mixed Challenge</h2></div>
                <div class="quiz-question">
                    <div class="question-number">Bonus 1</div>
                    <div class="question-context">"I bought a camera before going to Japan (on the way)."</div>
                    <div class="mc-options" id="q13-options">
                        <div class="mc-option" onclick="checkMC('q13',this,'A')"><span class="option-letter">A</span><span><ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã¸ <ruby>è¡Œ<rt>ã„</rt></ruby><strong>ã</strong> ã¨ã (dict = before arriving)</span></div>
                        <div class="mc-option" onclick="checkMC('q13',this,'A')"><span class="option-letter">B</span><span><ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã¸ <ruby>è¡Œ<rt>ã„</rt></ruby>ã£<strong>ãŸ</strong> ã¨ã (ãŸ = after arriving)</span></div>
                    </div>
                    <div class="feedback-area" id="q13-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Bonus 2</div>
                    <div class="question-context">"Walk through this park." â€” <ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby> + <ruby>æ­©<rt>ã‚ã‚‹</rt></ruby>ãã¾ã™:</div>
                    <div class="fill-blank">ã“ã® <ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby><input type="text" class="blank-input" id="q14-input" placeholder="ï¼Ÿ" style="min-width:20px;"> <ruby>æ­©<rt>ã‚ã‚‹</rt></ruby>ã„ã¦ ãã ã•ã„ã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q14',['ã‚’'],'ã‚’','æ­©ãã¾ã™ (walk) is a motion verb â€” the park is the space you walk THROUGH. å…¬åœ’ã‚’ æ­©ã„ã¦ ãã ã•ã„ = Please walk through the park. ã‚’ as path marker!')">Check â†’</button>
                    <div class="feedback-area" id="q14-feedback"></div>
                </div>
                <div class="quiz-question">
                    <div class="question-number">Bonus 3</div>
                    <div class="question-context">"When I was a student, I studied every day." â€” <ruby>å­¦ç”Ÿ<rt>ãŒãã›ã„</rt></ruby>:</div>
                    <div class="fill-blank"><ruby>å­¦ç”Ÿ<rt>ãŒãã›ã„</rt></ruby><input type="text" class="blank-input" id="q15-input" placeholder="ï¼Ÿ" style="min-width:30px;"> ã¨ãã€<ruby>æ¯æ—¥<rt>ã¾ã„ã«ã¡</rt></ruby> <ruby>å‹‰å¼·<rt>ã¹ã‚“ãã‚‡ã†</rt></ruby>ã—ã¾ã—ãŸã€‚</div>
                    <button class="check-btn" onclick="checkFillBlank('q15',['ã®'],'ã®','Noun + ã¨ã: å­¦ç”Ÿã® ã¨ã = when I was a student. Uses ã® (not ã ã£ãŸ) because the ã¨ã clause describes the background condition. The main clause å‹‰å¼·ã—ã¾ã—ãŸ carries the past tense.')">Check â†’</button>
                    <div class="feedback-area" id="q15-feedback"></div>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 18: What's Next ======================== -->
        <div class="slide" data-slide="18">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Preview</span><div><h2>What's Coming Next?</h2><span class="jp-title"><ruby>æ¬¡<rt>ã¤ã</rt></ruby>ã®ãƒ¬ãƒƒã‚¹ãƒ³</span></div></div>
                <div class="explanation"><h3>ğŸ”® Lessons 24â€“25 Preview</h3><p>The final two lessons of Book 1! L24 introduces <strong>ã¦ã‚ã’ã¾ã™/ã¦ã‚‚ã‚‰ã„ã¾ã™/ã¦ãã‚Œã¾ã™</strong> â€” giving and receiving actions (doing favors). L25 introduces <strong>ãŸã‚‰</strong> (if/when â€” a more flexible conditional than ã¨) and <strong>ã¦ã‚‚</strong> (even if). These complete the N5 grammar toolkit!</p></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Lesson</th><th>What You'll Learn</th></tr></thead>
                        <tbody>
                            <tr><td>L24</td><td>ã¦ãã‚Œã¾ã™/ã¦ã‚‚ã‚‰ã„ã¾ã™/ã¦ã‚ã’ã¾ã™ (giving/receiving actions)</td></tr>
                            <tr><td>L25</td><td>ãŸã‚‰ (if/when), ã¦ã‚‚ (even if) â€” final conditionals</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 19: "When" Expressions Timeline ======================== -->
        <div class="slide" data-slide="19">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Reference</span><div><h2>"When" Expressions</h2><span class="jp-title">ã€Œã„ã¤ã€ã®<ruby>è¡¨ç¾<rt>ã²ã‚‡ã†ã’ã‚“</rt></ruby></span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Pattern</th><th>Meaning</th><th>Example</th><th>Lesson</th></tr></thead>
                        <tbody>
                            <tr><td>V ã¦ ã‹ã‚‰</td><td>"After doing ~"</td><td><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¦ã‹ã‚‰ã€<ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã™</td><td>L16</td></tr>
                            <tr><td>V dict. ã¾ãˆã«</td><td>"Before doing ~"</td><td><ruby>å¯<rt>ã­</rt></ruby>ã‚‹ ã¾ãˆã«ã€<ruby>èª­<rt>ã‚ˆ</rt></ruby>ã¿ã¾ã™</td><td>L18</td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>ï½ ã¨ã</strong></td><td><strong>"When ~ / at the time of ~"</strong></td><td><strong><ruby>æš‡<rt>ã²ã¾</rt></ruby>ãª ã¨ãã€<ruby>èª­<rt>ã‚ˆ</rt></ruby>ã¿ã¾ã™</strong></td><td><strong>L23</strong></td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>V dict. ã¨</strong></td><td><strong>"If/when ~ (automatic result)"</strong></td><td><strong><ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™ã¨ã€<ruby>é–‹<rt>ã‚</rt></ruby>ãã¾ã™</strong></td><td><strong>L23</strong></td></tr>
                            <tr><td>V ãŸã‚‰</td><td>"If/when ~ (flexible)" </td><td>(Coming in L25)</td><td>L25</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="key-point"><strong>ğŸ’¡ Five "timing" tools!</strong> ã¦ã‹ã‚‰ (after), ã¾ãˆã« (before), ã¨ã (when/at the time of), ã¨ (if/when â†’ automatic), and ãŸã‚‰ (coming in L25). Each has a specific nuance â€” choosing the right one is a key skill!</div>
            </div>
        </div>

        <!-- ======================== SLIDE 20: Plain Form Growing Power ======================== -->
        <div class="slide" data-slide="20">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Reference</span><div><h2>Plain Form: Growing Power</h2><span class="jp-title"><ruby>æ™®é€šå½¢<rt>ãµã¤ã†ã‘ã„</rt></ruby>ã®<ruby>æ´»ç”¨<rt>ã‹ã¤ã‚ˆã†</rt></ruby></span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Plain Form Pattern</th><th>Meaning</th><th>Lesson</th></tr></thead>
                        <tbody>
                            <tr><td>V dict. + ã“ã¨ãŒ ã§ãã¾ã™</td><td>"Can do ~"</td><td>L18</td></tr>
                            <tr><td>V dict. + ã¾ãˆã«</td><td>"Before ~"</td><td>L18</td></tr>
                            <tr><td>V ãŸ + ã“ã¨ãŒ ã‚ã‚Šã¾ã™</td><td>"Have done ~"</td><td>L19</td></tr>
                            <tr><td>Casual conversation</td><td>Friends/family</td><td>L20</td></tr>
                            <tr><td>Plain + ã¨ <ruby>æ€<rt>ãŠã‚‚</rt></ruby>ã„ã¾ã™ / <ruby>è¨€<rt>ã„</rt></ruby>ã„ã¾ã™</td><td>"I think ~ / say ~"</td><td>L21</td></tr>
                            <tr><td>Plain + ã§ã—ã‚‡ã†ï¼Ÿ</td><td>"~, right?"</td><td>L21</td></tr>
                            <tr><td>Plain + Noun (modification)</td><td>Relative clauses</td><td>L22</td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>All forms + ã¨ã</strong></td><td><strong>"When ~"</strong></td><td><strong>L23</strong></td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>V dict. + ã¨</strong></td><td><strong>"If/when ~ (inevitable)"</strong></td><td><strong>L23</strong></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 21: L1â€“23 Cumulative ======================== -->
        <div class="slide" data-slide="21">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">L1â€“L23</span><div><h2>Cumulative Skills</h2><span class="jp-title">ãƒ¬ãƒƒã‚¹ãƒ³1ã€œ23 ã¾ã¨ã‚</span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Skill</th><th>Source</th></tr></thead>
                        <tbody>
                            <tr><td>Introduce, identify, describe basics</td><td>L1â€“L3</td></tr>
                            <tr><td>Daily routines, verbs (all polite forms)</td><td>L4â€“L6</td></tr>
                            <tr><td>Give/receive, tools, adjectives, preferences</td><td>L7â€“L9</td></tr>
                            <tr><td>Existence, counting, comparison, desires</td><td>L10â€“L13</td></tr>
                            <tr><td>ã¦-form: requests, states, linking, permission</td><td>L14â€“L16</td></tr>
                            <tr><td>ãªã„-form: obligations, negative requests</td><td>L17</td></tr>
                            <tr><td>Dictionary form: abilities, hobbies, "before"</td><td>L18</td></tr>
                            <tr><td>ãŸ-form: experience, representative actions, change</td><td>L19</td></tr>
                            <tr><td>Plain style: casual conversation</td><td>L20</td></tr>
                            <tr><td>Opinions, speech, confirmation (ã¨ <ruby>æ€<rt>ãŠã‚‚</rt></ruby>ã† / <ruby>è¨€<rt>ã„</rt></ruby>ã†)</td><td>L21</td></tr>
                            <tr><td>Noun modification (relative clauses)</td><td>L22</td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>ã¨ã (when), ã¨ (if/when â†’ inevitable)</strong></td><td><strong>L23</strong></td></tr>
                            <tr style="background:#f5f3ff;"><td><strong>N ãŒ adj, N ã‚’ motion V (directions)</strong></td><td><strong>L23</strong></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 22: Common Pitfalls ======================== -->
        <div class="slide" data-slide="22">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Caution</span><div><h2>Common Mistakes</h2><span class="jp-title">ã‚ˆãã‚ã‚‹<ruby>é–“é•<rt>ã¾ã¡ãŒ</rt></ruby>ã„</span></div></div>
                <div class="warning-box" style="margin-bottom:20px;">
                    <strong>âŒ Using ã¨ for requests/suggestions</strong>
                    <p style="color:#991b1b;margin-top:8px;">Ã— <ruby>æš‡<rt>ã²ã¾</rt></ruby>ãª ã¨ã€<ruby>æ¥<rt>ã</rt></ruby>ã¦ ãã ã•ã„ â†’ â—‹ <ruby>æš‡<rt>ã²ã¾</rt></ruby>ãª <strong>ã¨ã</strong>ã€<ruby>æ¥<rt>ã</rt></ruby>ã¦ ãã ã•ã„<br>ã¨ is for INEVITABLE results only. Requests, commands, and suggestions require ã¨ã or ãŸã‚‰ (L25).</p>
                </div>
                <div class="warning-box" style="margin-bottom:20px;">
                    <strong>âŒ Confusing V dict. vs V ãŸ + ã¨ã</strong>
                    <p style="color:#991b1b;margin-top:8px;">Ã— <ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã« <ruby>è¡Œ<rt>ã„</rt></ruby>ã£ãŸ ã¨ãã€<ruby>è¾æ›¸<rt>ã˜ã—ã‚‡</rt></ruby>ã‚’ <ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸ (if you mean BEFORE arriving)<br>â—‹ <ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã« <ruby>è¡Œ<rt>ã„</rt></ruby><strong>ã</strong> ã¨ãã€<ruby>è¾æ›¸<rt>ã˜ã—ã‚‡</rt></ruby>ã‚’ <ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸ (bought before arriving â€” dictionary = on the way)<br>Dict form = before completing the action. ãŸ-form = after completing it.</p>
                </div>
                <div class="warning-box">
                    <strong>âŒ Using ã« instead of ã‚’ with motion verbs</strong>
                    <p style="color:#991b1b;margin-top:8px;">Ã— <ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby><strong>ã«</strong> <ruby>æ•£æ­©<rt>ã•ã‚“ã½</rt></ruby>ã—ã¾ã™ â†’ â—‹ <ruby>å…¬åœ’<rt>ã“ã†ãˆã‚“</rt></ruby><strong>ã‚’</strong> <ruby>æ•£æ­©<rt>ã•ã‚“ã½</rt></ruby>ã—ã¾ã™<br>For passing through/along a space, use ã‚’. ã« marks destinations/static locations, but ã‚’ marks the path of movement.</p>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 23: Cheat Sheet ======================== -->
        <div class="slide" data-slide="23">
            <div class="content-card">
                <div class="slide-header"><span class="grammar-badge">Cheat Sheet</span><div><h2>L23 Quick Reference</h2><span class="jp-title">ã‚¯ã‚¤ãƒƒã‚¯ã‚¬ã‚¤ãƒ‰</span></div></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Pattern</th><th>Meaning</th><th>Quick Example</th></tr></thead>
                        <tbody>
                            <tr><td>V dict. ã¨ã</td><td>"When doing ~" (before completing)</td><td><ruby>è¡Œ<rt>ã„</rt></ruby>ã ã¨ã (on the way)</td></tr>
                            <tr><td>V ãŸ ã¨ã</td><td>"When did ~" (after completing)</td><td><ruby>è¡Œ<rt>ã„</rt></ruby>ã£ãŸ ã¨ã (after arriving)</td></tr>
                            <tr><td>V ãªã„ ã¨ã</td><td>"When not ~"</td><td>ã‚ã‹ã‚‰ãªã„ ã¨ã (when you don't know)</td></tr>
                            <tr><td>ã„-adj ã¨ã</td><td>"When ~"</td><td><ruby>è‹¥<rt>ã‚ã‹</rt></ruby>ã„ ã¨ã (when young)</td></tr>
                            <tr><td>ãª-adj ãª ã¨ã</td><td>"When ~"</td><td><ruby>æš‡<rt>ã²ã¾</rt></ruby>ãª ã¨ã (when free)</td></tr>
                            <tr><td>N ã® ã¨ã</td><td>"When ~"</td><td><ruby>å­<rt>ã“</rt></ruby>ã©ã‚‚ã® ã¨ã (when a child)</td></tr>
                            <tr><td>V dict. ã¨</td><td>"If/when ~ (inevitable)"</td><td><ruby>æŠ¼<rt>ãŠ</rt></ruby>ã™ã¨ (if you press)</td></tr>
                            <tr><td>N ãŒ adj</td><td>Objective perception</td><td><ruby>éŸ³<rt>ãŠã¨</rt></ruby>ãŒ <ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„ (volume is low)</td></tr>
                            <tr><td>N ã‚’ motion V</td><td>"Through/along N"</td><td><ruby>é“<rt>ã¿ã¡</rt></ruby>ã‚’ <ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã‚‹ (cross the road)</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ======================== SLIDE 24: Summary ======================== -->
        <div class="slide" data-slide="24">
            <div class="summary-card">
                <h2>ğŸ‰ Lesson 23 Complete!</h2>
                <p>ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼ You can now express timing, conditions, and give directions!</p>
                <div class="summary-points">
                    <div class="summary-point"><h4>â° ã¨ã</h4><p>"When ~" with all word types</p></div>
                    <div class="summary-point"><h4>ğŸ”‘ Dict vs ãŸ</h4><p>Before vs after completing</p></div>
                    <div class="summary-point"><h4>âš¡ V dict. + ã¨</h4><p>If/when â†’ inevitable result</p></div>
                    <div class="summary-point"><h4>ğŸ—ºï¸ Directions</h4><p>N ã‚’ motion V + ã¨</p></div>
                </div>
                <p style="margin-top:24px;opacity:0.9;">ğŸ† Book 1: 92% Complete! (L23 of L25)</p>
                <button class="restart-btn" onclick="restartPresentation()">ğŸ”„ Start Over</button>
            </div>
        </div>

    </div>

    <script>
        let currentSlide=1;const totalSlides=24;
        function updateSlide(){document.querySelectorAll('.slide').forEach(s=>s.classList.remove('active'));const a=document.querySelector(`[data-slide="${currentSlide}"]`);if(a)a.classList.add('active');document.getElementById('currentSlide').textContent=currentSlide;document.getElementById('totalSlides').textContent=totalSlides;document.getElementById('progressFill').style.width=((currentSlide-1)/(totalSlides-1))*100+'%';document.getElementById('prevBtn').disabled=currentSlide===1;document.getElementById('nextBtn').disabled=currentSlide===totalSlides;window.scrollTo({top:0,behavior:'smooth'});}
        function nextSlide(){if(currentSlide<totalSlides){currentSlide++;updateSlide();}}
        function prevSlide(){if(currentSlide>1){currentSlide--;updateSlide();}}
        function goToSlide(n){currentSlide=n;updateSlide();}
        function restartPresentation(){currentSlide=1;updateSlide();}
        function toggleRef(b){const c=b.nextElementSibling;b.classList.toggle('open');c.classList.toggle('open');}

        const mcAnswers={
            q4:{correct:'A',explanation:'âœ… Dictionary form (è¡Œã) + ã¨ã = BEFORE completing the action. You met Tanaka on the way to the office, before arriving. ãŸ-form (è¡Œã£ãŸ) would mean after arriving at the office.'},
            q7:{correct:'A',explanation:'âœ… ã¨ is for INEVITABLE/AUTOMATIC results only. Cherry blossoms blooming in spring is a natural phenomenon â€” it always happens. But \"let\'s go hanami\" is a choice/suggestion, which ã¨ cannot express. Use ã¨ã or ãŸã‚‰ (L25) for suggestions!'},
            q13:{correct:'A',explanation:'âœ… Dictionary form (è¡Œã) + ã¨ã = BEFORE completing the trip. The camera was bought before arriving in Japan (at the airport, on the way, etc). ãŸ-form (è¡Œã£ãŸ) would mean the camera was bought AFTER arriving in Japan.'}
        };

        function checkMC(qId,clicked,correctLetter){
            const fb=document.getElementById(qId+'-feedback');const opts=document.getElementById(qId+'-options').querySelectorAll('.mc-option');const ans=mcAnswers[qId];const cl=clicked.querySelector('.option-letter').textContent;
            opts.forEach(o=>{o.classList.add('disabled');const l=o.querySelector('.option-letter').textContent;if(l===ans.correct)o.classList.add('correct-choice');else if(o===clicked&&cl!==ans.correct)o.classList.add('incorrect-choice');});
            const ok=cl===ans.correct;fb.className='feedback-area show '+(ok?'correct-feedback':'incorrect-feedback');
            fb.innerHTML=`<span class="fb-icon">${ok?'ğŸ‰':'ğŸ˜…'}</span><span class="fb-answer">${ok?'Correct!':'Not quite!'}</span><div class="fb-explain">${ans.explanation}</div>`;
        }
        function checkFillBlank(qId,accepted,display,explanation){
            const input=document.getElementById(qId+'-input');const fb=document.getElementById(qId+'-feedback');const ans=input.value.trim();
            if(!ans){fb.className='feedback-area show incorrect-feedback';fb.innerHTML='<span class="fb-icon">âœï¸</span> <span class="fb-answer">Please type your answer first!</span>';return;}
            const ok=accepted.includes(ans);input.style.borderColor=ok?'var(--success)':'var(--error)';input.style.background=ok?'var(--success-light)':'var(--error-light)';
            fb.className='feedback-area show '+(ok?'correct-feedback':'incorrect-feedback');
            fb.innerHTML=`<span class="fb-icon">${ok?'ğŸ‰':'ğŸ˜…'}</span><span class="fb-answer">${ok?'Correct!':'Not quite!'} Answer: <strong>${display}</strong></span><div class="fb-explain">${explanation}</div>`;
        }

        document.addEventListener('keydown',function(e){if(e.target.tagName==='INPUT')return;if(e.key==='ArrowRight'||e.key===' '){e.preventDefault();nextSlide();}else if(e.key==='ArrowLeft'){e.preventDefault();prevSlide();}});
        let touchStartX=0;document.addEventListener('touchstart',e=>{touchStartX=e.changedTouches[0].screenX;});document.addEventListener('touchend',e=>{const d=touchStartX-e.changedTouches[0].screenX;if(Math.abs(d)>50){d>0?nextSlide():prevSlide();}});
        updateSlide();
    </script>
</body>
</html>
