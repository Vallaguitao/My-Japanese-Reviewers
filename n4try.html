<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>IRODORI 1 (A2/N4) â€“ Lesson 1 Grammar Presentation</title>
<style>
  :root{
    --bg1:#0b1020;
    --bg2:#121a33;
    --card:#0f172aee;
    --ink:#eaf0ff;
    --muted:#b7c2e6;
    --accent:#ff6fae;
    --accent2:#5eead4;
    --gold:#fbbf24;
    --line:#263255;
    --shadow: 0 22px 55px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
    color:var(--ink);
    background:
      radial-gradient(1200px 700px at 15% 15%, rgba(255,111,174,.22), transparent 60%),
      radial-gradient(900px 500px at 85% 25%, rgba(94,234,212,.18), transparent 55%),
      radial-gradient(900px 600px at 60% 90%, rgba(251,191,36,.10), transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg2));
    overflow:hidden;
  }
  /* subtle â€œwashiâ€ texture */
  body:before{
    content:"";
    position:fixed; inset:0;
    background-image:
      linear-gradient(0deg, rgba(255,255,255,.035) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,.02) 1px, transparent 1px);
    background-size: 28px 28px, 34px 34px;
    opacity:.35;
    pointer-events:none;
    mix-blend-mode: soft-light;
  }
  /* floating sakura dots */
  body:after{
    content:"";
    position:fixed; inset:-20%;
    background:
      radial-gradient(circle at 10% 20%, rgba(255,111,174,.12) 0 6px, transparent 7px),
      radial-gradient(circle at 30% 70%, rgba(255,111,174,.10) 0 5px, transparent 6px),
      radial-gradient(circle at 65% 30%, rgba(255,111,174,.10) 0 4px, transparent 5px),
      radial-gradient(circle at 80% 80%, rgba(255,111,174,.08) 0 6px, transparent 7px),
      radial-gradient(circle at 55% 55%, rgba(255,111,174,.08) 0 4px, transparent 5px);
    filter: blur(.2px);
    opacity:.9;
    pointer-events:none;
    animation: drift 18s linear infinite;
  }
  @keyframes drift{
    0%{transform:translate3d(0,0,0)}
    100%{transform:translate3d(-4%,3%,0)}
  }

  /* â€œ1920x1080 baseâ€ scaling */
  .stage{
    position:fixed; inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
  }
  .deck{
    width:1920px;
    height:1080px;
    transform-origin: center center;
    position:relative;
  }
  @media (max-width: 2200px){
    .deck{transform: scale(calc(min(100vw/1920, 100vh/1080))); }
  }

  .slide{
    position:absolute; inset:0;
    padding:64px 72px;
    display:none;
  }
  .slide.active{display:block}

  .frame{
    height:100%;
    border-radius:26px;
    background: linear-gradient(180deg, rgba(15,23,42,.90), rgba(15,23,42,.78));
    box-shadow: var(--shadow);
    border: 1px solid rgba(94,234,212,.10);
    position:relative;
    overflow:hidden;
  }
  .frame:before, .frame:after{
    content:"";
    position:absolute;
    width:240px; height:240px;
    border-radius:28px;
    border: 2px solid rgba(255,111,174,.18);
    opacity:.9;
    pointer-events:none;
  }
  .frame:before{ top:-110px; left:-110px; transform: rotate(18deg); }
  .frame:after{ bottom:-110px; right:-110px; transform: rotate(-18deg); border-color: rgba(94,234,212,.15); }

  .content{
    height:100%;
    padding:54px 56px;
    display:flex;
    flex-direction:column;
    gap:18px;
  }

  .topbar{
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    gap:18px;
  }
  .badge{
    display:inline-flex;
    align-items:center;
    gap:10px;
    padding:10px 14px;
    border-radius:999px;
    background: rgba(255,111,174,.10);
    border:1px solid rgba(255,111,174,.22);
    color: var(--ink);
    font-weight:600;
    letter-spacing:.2px;
  }
  .badge .dot{
    width:10px; height:10px; border-radius:999px;
    background:var(--accent);
    box-shadow: 0 0 0 4px rgba(255,111,174,.14);
  }

  h1,h2,h3{margin:0}
  h1{font-size:56px; line-height:1.1}
  h2{font-size:40px; line-height:1.15}
  h3{font-size:28px; color:var(--accent2)}
  p, li{font-size:24px; line-height:1.65; color:var(--ink)}
  .muted{color:var(--muted)}
  ul{margin:0 0 0 22px}
  .grid2{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:18px;
  }
  .grid3{
    display:grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap:14px;
  }

  .panel{
    background: rgba(2,6,23,.55);
    border:1px solid rgba(38,50,85,.8);
    border-radius:18px;
    padding:18px 20px;
  }

  .pattern{
    font-size:26px;
    padding:16px 18px;
    border-radius:16px;
    background: linear-gradient(90deg, rgba(255,111,174,.10), rgba(94,234,212,.08));
    border:1px solid rgba(255,111,174,.22);
  }
  .label{
    font-size:14px;
    letter-spacing:.22em;
    color: rgba(234,240,255,.75);
    text-transform:uppercase;
  }

  /* examples */
  .ex{
    display:grid;
    grid-template-columns: 42px 1fr 1fr;
    gap:12px;
    align-items:start;
    padding:12px 14px;
    border-radius:14px;
    border:1px dashed rgba(94,234,212,.22);
    background: rgba(2,6,23,.38);
    margin-top:12px;
  }
  .ex .jp{font-size:26px}
  .ex .en{font-size:20px; color:var(--muted)}
  .ex .tools{display:flex; flex-direction:column; gap:8px; align-items:stretch}
  .tag{
    display:inline-block;
    padding:6px 10px;
    border-radius:999px;
    font-size:14px;
    border:1px solid rgba(251,191,36,.25);
    background: rgba(251,191,36,.08);
    color: var(--ink);
    margin-right:8px;
  }

  /* audio button */
  .speak{
    border:none;
    border-radius:12px;
    padding:10px 10px;
    font-weight:800;
    font-size:14px;
    color:#0b1020;
    background: linear-gradient(90deg, var(--accent2), #d1fae5);
    cursor:pointer;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:8px;
  }
  .speak.ghost{
    background: rgba(234,240,255,.10);
    color: var(--ink);
    border:1px solid rgba(234,240,255,.16);
    font-weight:750;
  }
  .speak:active{transform: translateY(1px)}
  .speak[disabled]{opacity:.55; cursor:not-allowed}

  /* quiz */
  .quiz{
    margin-top:10px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .q{
    padding:14px 16px;
    border-radius:16px;
    border:1px solid rgba(255,111,174,.18);
    background: rgba(2,6,23,.40);
  }
  .q-title{
    font-size:22px;
    margin-bottom:10px;
  }
  .choices{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:10px;
  }
  .choice{
    text-align:left;
    padding:12px 14px;
    border-radius:14px;
    border:1px solid rgba(38,50,85,.95);
    background: rgba(15,23,42,.45);
    color: var(--ink);
    font-size:18px;
    cursor:pointer;
    transition: transform .05s ease, border-color .2s ease, background .2s ease;
  }
  .choice:hover{
    border-color: rgba(94,234,212,.35);
    transform: translateY(-1px);
  }
  .choice[disabled]{opacity:.7; cursor:not-allowed; transform:none}
  .feedback{
    margin-top:10px;
    font-size:18px;
    color: var(--muted);
  }
  .feedback b{color:var(--accent2)}
  .feedback .bad{color:var(--accent)}
  .scorebox{
    display:flex;
    flex-wrap:wrap;
    gap:10px;
    margin-top:6px;
    color: var(--muted);
    font-size:18px;
  }

  /* nav */
  .nav{
    position:fixed;
    left:28px; right:28px; bottom:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    pointer-events:none;
  }
  .nav .left, .nav .right{
    display:flex;
    gap:10px;
    pointer-events:auto;
  }
  .btn{
    border:none;
    border-radius:12px;
    padding:12px 16px;
    font-size:18px;
    font-weight:800;
    color:#0b1020;
    background: linear-gradient(90deg, var(--accent), #ffd1e3);
    cursor:pointer;
  }
  .btn.secondary{
    background: linear-gradient(90deg, var(--accent2), #d1fae5);
  }
  .btn.ghost{
    background: rgba(234,240,255,.10);
    color: var(--ink);
    border:1px solid rgba(234,240,255,.16);
    font-weight:750;
  }
  .btn:active{transform: translateY(1px)}
  .counter{
    pointer-events:none;
    font-weight:800;
    color: rgba(234,240,255,.80);
    letter-spacing:.02em;
    padding:10px 14px;
    border-radius:999px;
    border:1px solid rgba(234,240,255,.14);
    background: rgba(2,6,23,.35);
    display:flex;
    align-items:center;
    gap:10px;
  }

  /* toast */
  .toast{
    position:fixed;
    top:22px;
    left:50%;
    transform:translateX(-50%);
    background: rgba(2,6,23,.82);
    border:1px solid rgba(94,234,212,.22);
    padding:10px 14px;
    border-radius:999px;
    color:var(--muted);
    font-weight:800;
    display:none;
    z-index:9999;
    box-shadow: var(--shadow);
  }

  /* furigana toggle */
  .furigana-hidden .furi{ display:none !important; }

  /* print: only show cheat sheet slide */
  @media print{
    body{ overflow:visible; background:white; color:black; }
    body:before, body:after, .nav, .toast, #help{ display:none !important; }
    .stage{ position:static; display:block; }
    .deck{ width:auto; height:auto; transform:none !important; }
    .slide{ position:static; display:none !important; padding:0; }
    .slide.print-only{ display:block !important; }
    .frame{
      border:none; box-shadow:none; background:white;
    }
    .content{ padding:24px; }
    .panel{ border:1px solid #ddd; background:white; }
    .pattern{ border:1px solid #ddd; background:#f7f7f7; color:#111; }
    .muted{ color:#333 !important; }
    h1,h2,h3,p,li{ color:#111 !important; }
  }

  @media(max-width:900px){
    h1{font-size:40px}
    h2{font-size:30px}
    h3{font-size:22px}
    p,li{font-size:18px}
    .ex .jp{font-size:20px}
    .ex .en{font-size:16px}
  }
</style>
</head>

<body>
<div class="toast" id="toast"></div>

<div class="stage">
  <div class="deck" id="deck">

    <!-- Slide 1 -->
    <section class="slide active">
      <div class="frame">
        <div class="content">
          <div class="topbar">
            <div class="badge"><span class="dot"></span> IRODORI 1 â€¢ Lesson 1 â€¢ A2/N4</div>
            <div class="badge" style="background:rgba(94,234,212,.10); border-color:rgba(94,234,212,.22)">
              <span class="dot" style="background:var(--accent2)"></span> Grammar + Mini Checks + Audio
            </div>
          </div>
          <h1>Lesson 1 Grammar<br><span class="muted">Polite/Plain â€¢ Time â€¢ V-ã¦ã„ã¾ã™ â€¢ Tips</span></h1>

          <div class="panel">
            <p class="muted" style="margin:0">
              Controls: â—€/â–¶ or Arrow keys. Click ğŸ”Š to hear Japanese.
              Use â€œFuriganaâ€ button to hide/show readings.
              Use â€œPrint Cheat Sheetâ€ to print the one-page summary.
            </p>
          </div>

          <div class="grid3">
            <div class="panel">
              <div class="label">Section A</div>
              <p style="margin:6px 0 0"><b>ä¸å¯§ä½“(ã¦ã„ã­ã„ãŸã„) / æ™®é€šä½“(ãµã¤ã†ãŸã„)</b><br><span class="muted">polite vs plain</span></p>
            </div>
            <div class="panel">
              <div class="label">Section Câ€“D</div>
              <p style="margin:6px 0 0"><b>Duration / Point in time</b><br><span class="muted">how long vs when</span></p>
            </div>
            <div class="panel">
              <div class="label">Section Eâ€“F</div>
              <p style="margin:6px 0 0"><b>V-ã¦ã„ã¾ã™â‘  + Tips</b><br><span class="muted">present situation + hierarchy</span></p>
            </div>
          </div>

          <div class="panel">
            <h3>Recommendations (enabled in this deck)</h3>
            <ul style="margin-top:8px">
              <li><b>Audio buttons per example</b> (ğŸ”Š) for listening practice</li>
              <li><b>Toggle furigana on/off</b> to increase challenge</li>
              <li><b>Printable â€œLesson 1 cheat sheetâ€</b> (one-page summary)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION A -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section A</div>
          <div class="badge" style="background:rgba(251,191,36,.08); border-color:rgba(251,191,36,.22)"><span class="dot" style="background:var(--gold)"></span> Polite vs Plain</div>
        </div>
        <h2>1) ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span> / æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span></h2>
        <div class="panel">
          <p style="margin:0">
            Japanese changes style based on <b>relationship</b> and <b>context</b>.
            The goal is to sound <b>appropriate</b>, not â€œoverly formalâ€ or â€œtoo casual.â€
          </p>
        </div>
        <div class="grid2">
          <div class="panel">
            <h3>ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span> â€¢ Polite</h3>
            <div class="pattern"><span class="tag">Pattern</span> Verb + ã¾ã™ / ã§ã™</div>
            <ul>
              <li>Use with strangers, seniors, teachers, customers</li>
              <li>Creates respectful, safe communication</li>
              <li>Default when unsure</li>
            </ul>
          </div>
          <div class="panel">
            <h3>æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span> â€¢ Plain</h3>
            <div class="pattern"><span class="tag">Pattern</span> Verb (plain form) / ã  / Ã˜</div>
            <ul>
              <li>Use with close friends, family, same â€œin-groupâ€</li>
              <li>Sounds friendly, relaxed</li>
              <li>Can sound rude if used too early</li>
            </ul>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>How to choose quickly (rules you can use today)</h2>
        <div class="panel">
          <ul>
            <li><b>First meeting</b> â†’ ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span></li>
            <li><b>Teacher / boss</b> â†’ ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span></li>
            <li><b>Friend says â€œãŸã‚å£<span class="furi">(ãã¡)</span>ã§ã„ã„ã‚ˆâ€</b> â†’ switch slowly</li>
            <li><b>Workplace</b> â†’ often ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span>, except close peers</li>
          </ul>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="label">Same meaning, different feel</div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä»Šä½•ã‚’ã—ã¦ã„ã¾ã™ã‹ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ä»Šä½•ã—ã¦ã‚‹ï¼Ÿ">ğŸ”Š</button>
              </div>
              <div class="jp">ä»Š<span class="furi">(ã„ã¾)</span> ä½•<span class="furi">(ãªã«)</span>ã‚’ ã—ã¦ ã„ã¾ã™ã‹ã€‚</div>
              <div class="en">What are you doing now? (polite)</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä»Šä½•ã—ã¦ã‚‹ï¼Ÿ">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ä»Šä½•ã‚’ã—ã¦ã„ã¾ã™ã‹ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ä»Š<span class="furi">(ã„ã¾)</span> ä½•<span class="furi">(ãªã«)</span>ã—ã¦ã‚‹ï¼Ÿ</div>
              <div class="en">Whatâ€™re you doing now? (casual)</div>
            </div>
          </div>

          <div class="panel">
            <div class="label">Risk note</div>
            <p class="muted" style="margin:0">
              Using æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span> too early can feel â€œtoo closeâ€ or disrespectful.
              Using ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span> with friends can feel distant, but itâ€™s never rude.
            </p>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="A">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section A (Polite vs Plain)</h2>
        <div class="panel"><p class="muted" style="margin:0">Click an answer. It locks after you choose.</p></div>

        <div class="quiz">
          <div class="q" data-correct="2" data-explain="With a teacher/senior, ä¸å¯§ä½“(ã¦ã„ã­ã„ãŸã„) is safest.">
            <div class="q-title">1) You meet your teacher today. Which is best?</div>
            <div class="choices">
              <button class="choice">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼</button>
              <button class="choice">å…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ï¼Ÿ</button>
              <button class="choice">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚</button>
              <button class="choice">ä½•<span class="furi">(ãªã«)</span>ã—ã¦ã‚‹ï¼Ÿ</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="0" data-explain="Close friends usually use æ™®é€šä½“(ãµã¤ã†ãŸã„).">
            <div class="q-title">2) You see a close friend. Which sounds natural?</div>
            <div class="choices">
              <button class="choice">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼</button>
              <button class="choice">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚</button>
              <button class="choice">ã¯ã˜ã‚ã¾ã—ã¦ã€‚</button>
              <button class="choice">å¤±ç¤¼<span class="furi">(ã—ã¤ã‚Œã„)</span>ã—ã¾ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>

        <div class="scorebox">
          <div>Section A score: <b id="score-A">0</b>/2</div>
          <div>Overall score: <b id="score-all">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- SECTION B -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section B</div>
          <div class="badge" style="background:rgba(255,111,174,.10); border-color:rgba(255,111,174,.22)"><span class="dot"></span> Greetings</div>
        </div>
        <h2>2) ã€ŒãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€ / ã€Œä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã€</h2>
        <div class="panel">
          <p style="margin:0">
            These are used when you meet someone after a <b>long time</b>.
            Choose style based on relationship: polite vs casual.
          </p>
        </div>
        <div class="grid2">
          <div class="panel">
            <h3>Polite</h3>
            <div class="pattern"><span class="tag">Pattern</span> ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚</div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚ãŠå…ƒæ°—ã§ã™ã‹ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚</div>
              <div class="en">Itâ€™s been a long time.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚ãŠå…ƒæ°—ã§ã™ã‹ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ãŠå…ƒæ°—ã§ã™ã‹ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚ãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€‚</div>
              <div class="en">Long time no see. How have you been?</div>
            </div>
          </div>

          <div class="panel">
            <h3>Casual</h3>
            <div class="pattern"><span class="tag">Pattern</span> ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼</div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä¹…ã—ã¶ã‚Šã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ä¹…ã—ã¶ã‚Šã€‚å…ƒæ°—ï¼Ÿ">ğŸ”Š</button>
              </div>
              <div class="jp">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼</div>
              <div class="en">Long time no see!</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä¹…ã—ã¶ã‚Šã€‚å…ƒæ°—ï¼Ÿ">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å…ƒæ°—ï¼Ÿ">ğŸ”Š</button>
              </div>
              <div class="jp">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼å…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ï¼Ÿ</div>
              <div class="en">Long time no see! You good?</div>
            </div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>ã€ŒãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€ nuance (important)</h2>
        <div class="panel">
          <p style="margin:0">
            ã€ŒãŠå…ƒæ°—ã§ã™ã‹ã€ is not a daily â€œHow are you?â€ like English.
            Itâ€™s mainly used when you <b>havenâ€™t seen someone for a while</b>.
          </p>
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>Good situations</h3>
            <ul>
              <li>Reconnecting after months/years</li>
              <li>Letters / messages (slightly formal)</li>
              <li>Meeting someone after moving away</li>
            </ul>
          </div>
          <div class="panel">
            <h3>Less common daily use</h3>
            <ul>
              <li>Everyday greeting (use: ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ / ã“ã‚“ã«ã¡ã¯)</li>
              <li>With someone you saw yesterday</li>
            </ul>
          </div>
        </div>

        <div class="panel">
          <div class="ex">
            <div class="tools">
              <button class="speak" data-speak="ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚">ğŸ”Š</button>
              <button class="speak ghost" data-speak="ãŠä¹…ã—ã¶ã‚Šã§ã™ã€‚ãŠå…ƒæ°—ã§ã™ã‹ã€‚">ğŸ”Š</button>
            </div>
            <div class="jp">ï¼ˆæ¯æ—¥<span class="furi">(ã¾ã„ã«ã¡)</span>ï¼‰ãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€‚â†’ ã¡ã‚‡ã£ã¨ä¸è‡ªç„¶<span class="furi">(ãµã—ãœã‚“)</span></div>
            <div class="en">Daily â€œHow are you?â€ can sound unnatural.</div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="B">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section B (Greetings)</h2>
        <div class="quiz">
          <div class="q" data-correct="0" data-explain="ã€ŒãŠå…ƒæ°—(ã’ã‚“ã)ã§ã™ã‹ã€ fits when you haven't met for a while.">
            <div class="q-title">1) You havenâ€™t seen your coworker for 1 year. Best?</div>
            <div class="choices">
              <button class="choice">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ã€‚ãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€‚</button>
              <button class="choice">ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€‚ãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€‚</button>
              <button class="choice">å…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ï¼Ÿï¼ˆåˆå¯¾é¢<span class="furi">(ã—ã‚‡ãŸã„ã‚ã‚“)</span>ã®ä¸Šå¸<span class="furi">(ã˜ã‚‡ã†ã—)</span>ã«ï¼‰</button>
              <button class="choice">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼ï¼ˆç¤¾é•·<span class="furi">(ã—ã‚ƒã¡ã‚‡ã†)</span>ã«ï¼‰</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="1" data-explain="Close friends: ã€Œä¹…(ã²ã•)ã—ã¶ã‚Šï¼ã€ is natural and friendly.">
            <div class="q-title">2) You meet your best friend after 6 months.</div>
            <div class="choices">
              <button class="choice">å¤±ç¤¼<span class="furi">(ã—ã¤ã‚Œã„)</span>ã—ã¾ã™ã€‚</button>
              <button class="choice">ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼</button>
              <button class="choice">ã¯ã˜ã‚ã¾ã—ã¦ã€‚</button>
              <button class="choice">ãŠç–²<span class="furi">(ã¤ã‹)</span>ã‚Œæ§˜<span class="furi">(ã•ã¾)</span>ã§ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>

        <div class="scorebox">
          <div>Section B score: <b id="score-B">0</b>/2</div>
          <div>Overall score: <b id="score-all-2">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- SECTION C -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section C</div>
          <div class="badge" style="background:rgba(94,234,212,.10); border-color:rgba(94,234,212,.22)"><span class="dot" style="background:var(--accent2)"></span> Duration</div>
        </div>
        <h2>3) Duration: ï½ã¦ï¼ˆã‹ã‚‰ï¼‰ï¼‹ æœŸé–“<span class="furi">(ãã‹ã‚“)</span>ã«ãªã‚Šã¾ã™</h2>

        <div class="panel">
          <p style="margin:0">
            This grammar answers: <b>How long has it been?</b>
            It focuses on <b>time passed</b> from a starting action/event until now.
          </p>
        </div>

        <div class="pattern">
          <span class="tag">Core pattern</span>
          V-ã¦ï¼ˆã‹ã‚‰ï¼‰ + æœŸé–“<span class="furi">(ãã‹ã‚“)</span> + ãªã‚Šã¾ã™
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>Time words you can use</h3>
            <ul>
              <li>1å¹´<span class="furi">(ã„ã¡ã­ã‚“)</span> / 2å¹´<span class="furi">(ã«ã­ã‚“)</span></li>
              <li>3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span> / åŠå¹´<span class="furi">(ã¯ã‚“ã¨ã—)</span></li>
              <li>2é€±é–“<span class="furi">(ã«ã—ã‚…ã†ã‹ã‚“)</span> / 10æ—¥<span class="furi">(ã¨ãŠã‹)</span></li>
            </ul>
          </div>
          <div class="panel">
            <h3>English meaning</h3>
            <ul>
              <li>It has been X (time) since â€¦</li>
              <li>Itâ€™s been X (time) since â€¦</li>
            </ul>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>Duration â€¢ Examples (with audio)</h2>

        <div class="panel">
          <div class="label">Book-type examples</div>

          <div class="ex">
            <div class="tools">
              <button class="speak" data-speak="æ—¥æœ¬ã«æ¥ã¦ä¸€å¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
              <button class="speak ghost" data-speak="æ—¥æœ¬ã«æ¥ã¦ä¸€å¹´ã«ãªã‚Šã¾ã™ã€‚ãŠä¸–è©±ã«ãªã£ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
            </div>
            <div class="jp">æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¦ 1å¹´<span class="furi">(ã„ã¡ã­ã‚“)</span>ã« ãªã‚Šã¾ã™ã€‚</div>
            <div class="en">It has been one year since I came to Japan.</div>
          </div>

          <div class="ex">
            <div class="tools">
              <button class="speak" data-speak="ä»•äº‹ã‚’å§‹ã‚ã¦ä¸‰ã‹æœˆã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
              <button class="speak ghost" data-speak="ä»•äº‹ã‚’å§‹ã‚ã¦ä¸‰ã‹æœˆã«ãªã‚Šã¾ã™ã€‚æ¯æ—¥å¿™ã—ã„ã§ã™ã€‚">ğŸ”Š</button>
            </div>
            <div class="jp">ä»•äº‹<span class="furi">(ã—ã”ã¨)</span>ã‚’ å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¦ 3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã« ãªã‚Šã¾ã™ã€‚</div>
            <div class="en">It has been three months since I started working.</div>
          </div>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="label">More examples</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ã“ã®å­¦æ ¡ã§åƒãå§‹ã‚ã¦äºŒå¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ã“ã®å­¦æ ¡ã§åƒãå§‹ã‚ã¦äºŒå¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ã“ã® å­¦æ ¡<span class="furi">(ãŒã£ã“ã†)</span>ã§ åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¦ 2å¹´<span class="furi">(ã«ã­ã‚“)</span>ã« ãªã‚Šã¾ã™ã€‚</div>
              <div class="en">It has been two years since I started working at this school.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="çµå©šã—ã¦åå¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="çµå©šã—ã¦åå¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">çµå©š<span class="furi">(ã‘ã£ã“ã‚“)</span>ã—ã¦ 10å¹´<span class="furi">(ã˜ã‚…ã†ã­ã‚“)</span>ã« ãªã‚Šã¾ã™ã€‚</div>
              <div class="en">It has been 10 years since we got married.</div>
            </div>
          </div>

          <div class="panel">
            <div class="label">Q&A style</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="æ—¥æœ¬ã«æ¥ã¦ã©ã®ãã‚‰ã„ã§ã™ã‹ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ã¡ã‚‡ã†ã©åŠå¹´ã§ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">A: æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¦ ã©ã®ãã‚‰ã„ã§ã™ã‹ã€‚</div>
              <div class="en">How long have you been in Japan?</div>
            </div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ã¡ã‚‡ã†ã©åŠå¹´ã§ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="åŠå¹´ã«ãªã‚Šã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">B: ã¡ã‚‡ã†ã© åŠå¹´<span class="furi">(ã¯ã‚“ã¨ã—)</span>ã§ã™ã€‚ï¼ˆåŠå¹´<span class="furi">(ã¯ã‚“ã¨ã—)</span>ã« ãªã‚Šã¾ã™ã€‚ï¼‰</div>
              <div class="en">Exactly half a year. (Itâ€™s been half a year.)</div>
            </div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="C">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section C (Duration)</h2>
        <div class="quiz">
          <div class="q" data-correct="0" data-explain="This pattern answers 'How long has it been?'.">
            <div class="q-title">1) â€œIt has been 3 months since I started work.â€</div>
            <div class="choices">
              <button class="choice">ä»•äº‹<span class="furi">(ã—ã”ã¨)</span>ã‚’ å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¦ 3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã« ãªã‚Šã¾ã™ã€‚</button>
              <button class="choice">3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã« ä»•äº‹<span class="furi">(ã—ã”ã¨)</span>ã‚’ å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¾ã—ãŸã€‚</button>
              <button class="choice">å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã« 3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã« ãªã‚Šã¾ã™ã€‚</button>
              <button class="choice">ä»•äº‹<span class="furi">(ã—ã”ã¨)</span>ã¯ 3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã§ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="2" data-explain="To answer 'how long', duration forms like åŠå¹´(ã¯ã‚“ã¨ã—)ã§ã™ are used.">
            <div class="q-title">2) A: æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¦ ã©ã®ãã‚‰ã„ã§ã™ã‹ã€‚ B: ____</div>
            <div class="choices">
              <button class="choice">å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã®9æœˆ<span class="furi">(ããŒã¤)</span>ã§ã™ã€‚</button>
              <button class="choice">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span>ã§ã™ã€‚</button>
              <button class="choice">ã¡ã‚‡ã†ã© åŠå¹´<span class="furi">(ã¯ã‚“ã¨ã—)</span>ã§ã™ã€‚</button>
              <button class="choice">ä¹æœˆ<span class="furi">(ããŒã¤)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>
        <div class="scorebox">
          <div>Section C score: <b id="score-C">0</b>/2</div>
          <div>Overall score: <b id="score-all-3">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- SECTION D -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section D</div>
          <div class="badge" style="background:rgba(251,191,36,.08); border-color:rgba(251,191,36,.22)"><span class="dot" style="background:var(--gold)"></span> Point in time</div>
        </div>
        <h2>4) Point in time: ï½ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸ</h2>
        <div class="panel">
          <p style="margin:0">
            This answers: <b>When did it happen?</b><br>
            Use it for a specific time/date (9æœˆ(ããŒã¤), æ—¥æ›œæ—¥(ã«ã¡ã‚ˆã†ã³), 3æ™‚(ã•ã‚“ã˜), etc.).
          </p>
        </div>
        <div class="pattern">
          <span class="tag">Core pattern</span>
          (Time / Date) + ã« + æ¥<span class="furi">(ã)</span>ã¾ã—ãŸ / è¡Œ<span class="furi">(ã„)</span>ãã¾ã—ãŸ / å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¾ã—ãŸ
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>Point in time â€¢ Examples (with audio)</h2>

        <div class="panel">
          <div class="label">Book-type</div>
          <div class="ex">
            <div class="tools">
              <button class="speak" data-speak="å»å¹´ã®ä¹æœˆã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
              <button class="speak ghost" data-speak="å»å¹´ã®ä¹æœˆã«æ—¥æœ¬ã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
            </div>
            <div class="jp">å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã® 9æœˆ<span class="furi">(ããŒã¤)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</div>
            <div class="en">I came in September last year.</div>
          </div>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="label">More examples</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="äºŒåƒäºŒåå››å¹´ã®å››æœˆã«æ—¥æœ¬ã¸è¡Œãã¾ã—ãŸã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å››æœˆã«æ—¥æœ¬ã¸è¡Œãã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">2024å¹´<span class="furi">(ã«ã›ã‚“ã«ã˜ã‚…ã†ã‚ˆã­ã‚“)</span>ã® 4æœˆ<span class="furi">(ã—ãŒã¤)</span>ã« æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã¸ è¡Œ<span class="furi">(ã„)</span>ãã¾ã—ãŸã€‚</div>
              <div class="en">I went to Japan in April 2024.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="æ—¥æ›œæ—¥ã«å‹é”ã¨ä¼šã„ã¾ã—ãŸã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="æ—¥æ›œæ—¥ã«ä¼šã„ã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">æ—¥æ›œæ—¥<span class="furi">(ã«ã¡ã‚ˆã†ã³)</span>ã« å‹é”<span class="furi">(ã¨ã‚‚ã ã¡)</span>ã¨ ä¼š<span class="furi">(ã‚)</span>ã„ã¾ã—ãŸã€‚</div>
              <div class="en">I met my friend on Sunday.</div>
            </div>
          </div>

          <div class="panel">
            <div class="label">Common Q&A</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ã„ã¤æ—¥æœ¬ã«æ¥ã¾ã—ãŸã‹ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å»å¹´ã®ä¹æœˆã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">A: ã„ã¤ æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã‹ã€‚</div>
              <div class="en">When did you come to Japan?</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="å»å¹´ã®ä¹æœˆã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ä¹æœˆã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">B: å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã®9æœˆ<span class="furi">(ããŒã¤)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</div>
              <div class="en">I came in September last year.</div>
            </div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>Important: When NOT to use ã«</h2>
        <div class="panel">
          <p style="margin:0">
            With some â€œrelative time words,â€ Japanese often <b>does not</b> use ã«.
          </p>
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>No ã« (typical)</h3>
            <ul>
              <li>å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span></li>
              <li>å…ˆæœˆ<span class="furi">(ã›ã‚“ã’ã¤)</span></li>
              <li>å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span></li>
              <li>ä»Šæ—¥<span class="furi">(ãã‚‡ã†)</span> / æ˜æ—¥<span class="furi">(ã‚ã—ãŸ)</span> / ä»Šæœ<span class="furi">(ã‘ã•)</span></li>
            </ul>
          </div>
          <div class="panel">
            <h3>Examples</h3>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="å…ˆé€±æ—¥æœ¬ã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å…ˆé€±ã«æ—¥æœ¬ã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span> æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚âœ…</div>
              <div class="en">I came to Japan last week.</div>
            </div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="å…ˆé€±ã«æ—¥æœ¬ã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å…ˆé€±æ—¥æœ¬ã«æ¥ã¾ã—ãŸã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span>ã« æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚â–³ï¼ˆä¸è‡ªç„¶<span class="furi">(ãµã—ãœã‚“)</span>ï¼‰</div>
              <div class="en">Usually sounds unnatural.</div>
            </div>
          </div>
        </div>

        <div class="panel">
          <p class="muted" style="margin:0">
            Memory tip: If itâ€™s a broad â€œrelative blockâ€ (last week/month/year), ã« is often omitted.
          </p>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="D">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section D (Point in time)</h2>
        <div class="quiz">
          <div class="q" data-correct="2" data-explain="Relative time words like å…ˆé€±(ã›ã‚“ã—ã‚…ã†) usually do not take ã«.">
            <div class="q-title">1) Choose the most natural sentence.</div>
            <div class="choices">
              <button class="choice">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span>ã« æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
              <button class="choice">å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
              <button class="choice">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span> æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
              <button class="choice">å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span>ã® 3æ™‚<span class="furi">(ã•ã‚“ã˜)</span> æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="0" data-explain="Specific time like 9æœˆ(ããŒã¤) needs ã«.">
            <div class="q-title">2) â€œI came in September.â€</div>
            <div class="choices">
              <button class="choice">9æœˆ<span class="furi">(ããŒã¤)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
              <button class="choice">9æœˆ<span class="furi">(ããŒã¤)</span> æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</button>
              <button class="choice">9æœˆ<span class="furi">(ããŒã¤)</span>ã« ãªã‚Šã¾ã™ã€‚</button>
              <button class="choice">9æœˆ<span class="furi">(ããŒã¤)</span>ã§ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>
        <div class="scorebox">
          <div>Section D score: <b id="score-D">0</b>/2</div>
          <div>Overall score: <b id="score-all-4">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- SECTION E -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section E</div>
          <div class="badge" style="background:rgba(94,234,212,.10); border-color:rgba(94,234,212,.22)"><span class="dot" style="background:var(--accent2)"></span> V-ã¦ã„ã¾ã™â‘ </div>
        </div>
        <h2>5) V-ã¦ã„ã¾ã™â‘  (present situation / job)</h2>

        <div class="panel">
          <p style="margin:0">
            In this lesson, focus on V-ã¦ã„ã¾ã™ meaning a <b>continuing situation</b>:
            â€œI workâ€¦ / I liveâ€¦ / Iâ€™m studyingâ€¦ (as my current situation).â€
          </p>
        </div>

        <div class="pattern">
          <span class="tag">Core pattern</span>
          V-ã¦ + ã„ã¾ã™ï¼ˆpoliteï¼‰ / V-ã¦ã‚‹ï¼ˆcasualï¼‰
        </div>

        <div class="panel">
          <div class="label">Important meaning note</div>
          <p class="muted" style="margin:0">
            Not always â€œright now.â€ Often means â€œthese days / currently / as a state.â€
          </p>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>V-ã¦ã„ã¾ã™â‘  â€¢ Job / role examples</h2>

        <div class="panel">
          <div class="label">Common job patterns</div>
          <div class="pattern"><span class="tag">Pattern</span> N + ã¨ã—ã¦ + åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™</div>
          <p class="muted" style="margin:10px 0 0">
            ã¨ã—ã¦ = â€œas (a role)â€. Very useful for job introductions.
          </p>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="æ—¥æœ¬ã§åƒã„ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="æ—¥æœ¬ã§åƒã„ã¦ã„ã¾ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã§ åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™ã€‚</div>
              <div class="en">I work in Japan.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä»‹è­·å£«ã¨ã—ã¦åƒã„ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ä»‹è­·å£«ã¨ã—ã¦åƒã„ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ä»‹è­·å£«<span class="furi">(ã‹ã„ã”ã—)</span>ã¨ã—ã¦ åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™ã€‚</div>
              <div class="en">I work as a caregiver.</div>
            </div>
          </div>

          <div class="panel">
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="å­¦æ ¡ã§æ•™ãˆã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å­¦æ ¡ã§æ•™ãˆã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">å­¦æ ¡<span class="furi">(ãŒã£ã“ã†)</span>ã§ æ•™<span class="furi">(ãŠã—)</span>ãˆã¦ã„ã¾ã™ã€‚</div>
              <div class="en">I teach at a school.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ç—…é™¢ã§å—ä»˜ã‚’ã—ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="ç—…é™¢ã§å—ä»˜ã‚’ã—ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ç—…é™¢<span class="furi">(ã³ã‚‡ã†ã„ã‚“)</span>ã§ å—ä»˜<span class="furi">(ã†ã‘ã¤ã‘)</span>ã‚’ ã—ã¦ã„ã¾ã™ã€‚</div>
              <div class="en">I work as reception at a hospital.</div>
            </div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide">
      <div class="frame"><div class="content">
        <h2>V-ã¦ã„ã¾ã™â‘  â€¢ Ongoing situation (state)</h2>

        <div class="panel">
          <p style="margin:0">
            Use V-ã¦ã„ã¾ã™ for continuing states like living, studying, attending.
            It often equals â€œI (currently) â€¦â€ rather than â€œIâ€™m doing it right now.â€
          </p>
        </div>

        <div class="grid2">
          <div class="panel">
            <div class="label">Studying / attending</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">æ—¥æœ¬èª<span class="furi">(ã«ã»ã‚“ã”)</span>ã‚’ å‹‰å¼·<span class="furi">(ã¹ã‚“ãã‚‡ã†)</span>ã—ã¦ã„ã¾ã™ã€‚</div>
              <div class="en">Iâ€™m studying Japanese.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="å°‚é–€å­¦æ ¡ã«é€šã£ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="å°‚é–€å­¦æ ¡ã«é€šã£ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">å°‚é–€å­¦æ ¡<span class="furi">(ã›ã‚“ã‚‚ã‚“ãŒã£ã“ã†)</span>ã« é€š<span class="furi">(ã‹ã‚ˆ)</span>ã£ã¦ã„ã¾ã™ã€‚</div>
              <div class="en">I attend a vocational school.</div>
            </div>
          </div>

          <div class="panel">
            <div class="label">Living / staying</div>
            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="ä»Šæ±äº¬ã«ä½ã‚“ã§ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="æ±äº¬ã«ä½ã‚“ã§ã„ã¾ã™ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">ä»Š<span class="furi">(ã„ã¾)</span>ã€æ±äº¬<span class="furi">(ã¨ã†ãã‚‡ã†)</span>ã« ä½<span class="furi">(ã™)</span>ã‚“ã§ã„ã¾ã™ã€‚</div>
              <div class="en">I live in Tokyo now.</div>
            </div>

            <div class="ex">
              <div class="tools">
                <button class="speak" data-speak="æ—¥æœ¬ã«ä½ã‚“ã§ã„ã¾ã™ã€‚">ğŸ”Š</button>
                <button class="speak ghost" data-speak="æ—¥æœ¬ã«ä½ã‚“ã§ã‚‹ã€‚">ğŸ”Š</button>
              </div>
              <div class="jp">æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« ä½<span class="furi">(ã™)</span>ã‚“ã§ã„ã¾ã™ã€‚</div>
              <div class="en">I live in Japan.</div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="label">Plain style shortcut</div>
          <div class="ex">
            <div class="tools">
              <button class="speak" data-speak="ä½ã‚“ã§ã‚‹ã€‚å‹‰å¼·ã—ã¦ã‚‹ã€‚åƒã„ã¦ã‚‹ã€‚">ğŸ”Š</button>
              <button class="speak ghost" data-speak="ä½ã‚“ã§ã„ã¾ã™ã€‚å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚åƒã„ã¦ã„ã¾ã™ã€‚">ğŸ”Š</button>
            </div>
            <div class="jp">ä½<span class="furi">(ã™)</span>ã‚“ã§ã‚‹ / å‹‰å¼·<span class="furi">(ã¹ã‚“ãã‚‡ã†)</span>ã—ã¦ã‚‹ / åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã‚‹</div>
            <div class="en">Casual: often drops ã„ â†’ ã¦ã‚‹</div>
          </div>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="E">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section E (V-ã¦ã„ã¾ã™â‘ )</h2>
        <div class="quiz">
          <div class="q" data-correct="1" data-explain="For occupation, ã¨ã—ã¦ + åƒã„ã¦ã„ã¾ã™ is natural.">
            <div class="q-title">1) â€œI work as a teacher.â€</div>
            <div class="choices">
              <button class="choice">å…ˆç”Ÿ<span class="furi">(ã›ã‚“ã›ã„)</span>ã« åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™ã€‚</button>
              <button class="choice">å…ˆç”Ÿ<span class="furi">(ã›ã‚“ã›ã„)</span>ã¨ã—ã¦ åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™ã€‚</button>
              <button class="choice">å…ˆç”Ÿ<span class="furi">(ã›ã‚“ã›ã„)</span>ã§ è¡Œ<span class="furi">(ã„)</span>ãã¾ã™ã€‚</button>
              <button class="choice">å…ˆç”Ÿ<span class="furi">(ã›ã‚“ã›ã„)</span>ã‚’ æ¥<span class="furi">(ã)</span>ã¦ã„ã¾ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="0" data-explain="ã€Œä½ã‚“ã§ã„ã¾ã™ã€ describes a continuing state (where you live).">
            <div class="q-title">2) â€œI live in Manila.â€</div>
            <div class="choices">
              <button class="choice">ãƒãƒ‹ãƒ©ã« ä½<span class="furi">(ã™)</span>ã‚“ã§ã„ã¾ã™ã€‚</button>
              <button class="choice">ãƒãƒ‹ãƒ©ã« æ¥<span class="furi">(ã)</span>ã¦ ã„ã¾ã™ã€‚</button>
              <button class="choice">ãƒãƒ‹ãƒ©ã« ä½<span class="furi">(ã™)</span>ã¿ã¾ã™ã§ã—ãŸã€‚</button>
              <button class="choice">ãƒãƒ‹ãƒ©ã§ ä½<span class="furi">(ã™)</span>ã‚€ã§ã™ã€‚</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>
        <div class="scorebox">
          <div>Section E score: <b id="score-E">0</b>/2</div>
          <div>Overall score: <b id="score-all-5">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- SECTION F -->
    <section class="slide">
      <div class="frame"><div class="content">
        <div class="topbar">
          <div class="badge"><span class="dot"></span> Section F</div>
          <div class="badge" style="background:rgba(251,191,36,.08); border-color:rgba(251,191,36,.22)"><span class="dot" style="background:var(--gold)"></span> Tips</div>
        </div>
        <h2>Tips: degrees of formality (æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã® ä¼šè©±<span class="furi">(ã‹ã„ã‚)</span>ãƒ«ãƒ¼ãƒ«)</h2>

        <div class="grid2">
          <div class="panel">
            <h3>å¹´é½¢<span class="furi">(ã­ã‚“ã‚Œã„)</span> â€¢ age</h3>
            <ul>
              <li>Older person often gets more polite speech</li>
              <li>Same-age friends often use æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span></li>
            </ul>
          </div>
          <div class="panel">
            <h3>å…ˆè¼©<span class="furi">(ã›ã‚“ã±ã„)</span> / å¾Œè¼©<span class="furi">(ã“ã†ã¯ã„)</span></h3>
            <ul>
              <li>å…ˆè¼©: joined earlier</li>
              <li>å¾Œè¼©: joined later</li>
              <li>Even if younger, å…ˆè¼© may receive ä¸å¯§ä½“</li>
            </ul>
          </div>
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>åœ°ä½<span class="furi">(ã¡ã„)</span>ã® ä¸Šä¸‹<span class="furi">(ã˜ã‚‡ã†ã’)</span></h3>
            <ul>
              <li>Boss / principal â†’ ä¸å¯§ä½“</li>
              <li>Formal meetings â†’ more polite</li>
            </ul>
          </div>
          <div class="panel">
            <h3>å®¢<span class="furi">(ãã‚ƒã)</span> ã¨ åº—å“¡<span class="furi">(ã¦ã‚“ã„ã‚“)</span></h3>
            <ul>
              <li>Customer is treated as higher status</li>
              <li>Staff uses ä¸å¯§ä½“ (often honorifics too)</li>
            </ul>
          </div>
        </div>

        <div class="panel">
          <h3>ã€ŒãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€ reminder</h3>
          <p class="muted" style="margin:0">
            Mainly used after a long time. Daily greetings are usually ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ / ã“ã‚“ã«ã¡ã¯.
          </p>
        </div>
      </div></div>
    </section>

    <section class="slide" data-quiz="F">
      <div class="frame"><div class="content">
        <h2>Mini Check â€¢ Section F (Tips)</h2>
        <div class="quiz">
          <div class="q" data-correct="2" data-explain="Customers are treated as higher status; staff should use polite speech.">
            <div class="q-title">1) In a store, staff should use:</div>
            <div class="choices">
              <button class="choice">æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span> only</button>
              <button class="choice">Slang</button>
              <button class="choice">ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span></button>
              <button class="choice">No verbs</button>
            </div>
            <div class="feedback"></div>
          </div>

          <div class="q" data-correct="0" data-explain="A senior (senpai) may receive polite speech even if younger.">
            <div class="q-title">2) Younger coworker is your å…ˆè¼©<span class="furi">(ã›ã‚“ã±ã„)</span>. Best default?</div>
            <div class="choices">
              <button class="choice">ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span></button>
              <button class="choice">Always æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span></button>
              <button class="choice">Always English</button>
              <button class="choice">Silence</button>
            </div>
            <div class="feedback"></div>
          </div>
        </div>
        <div class="scorebox">
          <div>Section F score: <b id="score-F">0</b>/2</div>
          <div>Overall score: <b id="score-all-6">0</b></div>
        </div>
      </div></div>
    </section>

    <!-- CHEAT SHEET (printable) -->
    <section class="slide print-only" id="cheat">
      <div class="frame"><div class="content">
        <h1 style="font-size:48px">Lesson 1 Cheat Sheet (one page)</h1>
        <div class="panel">
          <h3>1) ä¸å¯§ä½“<span class="furi">(ã¦ã„ã­ã„ãŸã„)</span> / æ™®é€šä½“<span class="furi">(ãµã¤ã†ãŸã„)</span></h3>
          <div class="pattern"><span class="tag">Polite</span> V-ã¾ã™ / ã§ã™ã€€<span class="tag">Plain</span> V-plain / ã  / Ã˜</div>
          <ul>
            <li>Polite: strangers, seniors, teachers, customers</li>
            <li>Plain: close friends, family (use after relationship is built)</li>
          </ul>
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>2) Greetings</h3>
            <div class="pattern">ãŠä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šã§ã™ï¼ˆpoliteï¼‰ï¼ä¹…<span class="furi">(ã²ã•)</span>ã—ã¶ã‚Šï¼ˆcasualï¼‰</div>
            <p class="muted" style="margin:8px 0 0">
              ã€ŒãŠå…ƒæ°—<span class="furi">(ã’ã‚“ã)</span>ã§ã™ã‹ã€ = mainly after a long time (not daily).
            </p>
          </div>
          <div class="panel">
            <h3>3) Duration (How long)</h3>
            <div class="pattern">V-ã¦ï¼ˆã‹ã‚‰ï¼‰+ æœŸé–“<span class="furi">(ãã‹ã‚“)</span>ã« ãªã‚Šã¾ã™</div>
            <ul>
              <li>æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã« æ¥<span class="furi">(ã)</span>ã¦ 1å¹´<span class="furi">(ã„ã¡ã­ã‚“)</span>ã« ãªã‚Šã¾ã™ã€‚</li>
              <li>ä»•äº‹<span class="furi">(ã—ã”ã¨)</span>ã‚’ å§‹<span class="furi">(ã¯ã˜)</span>ã‚ã¦ 3ã‹æœˆ<span class="furi">(ã•ã‚“ã‹ã’ã¤)</span>ã« ãªã‚Šã¾ã™ã€‚</li>
            </ul>
          </div>
        </div>

        <div class="grid2">
          <div class="panel">
            <h3>4) Point in time (When)</h3>
            <div class="pattern">(time) ã« + æ¥<span class="furi">(ã)</span>ã¾ã—ãŸ / è¡Œ<span class="furi">(ã„)</span>ãã¾ã—ãŸ</div>
            <ul>
              <li>å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>ã® 9æœˆ<span class="furi">(ããŒã¤)</span>ã« æ¥<span class="furi">(ã)</span>ã¾ã—ãŸã€‚</li>
              <li><b>No ã«</b> with: å…ˆé€±<span class="furi">(ã›ã‚“ã—ã‚…ã†)</span>, å…ˆæœˆ<span class="furi">(ã›ã‚“ã’ã¤)</span>, å»å¹´<span class="furi">(ãã‚‡ã­ã‚“)</span>, ä»Šæ—¥<span class="furi">(ãã‚‡ã†)</span>â€¦</li>
            </ul>
          </div>

          <div class="panel">
            <h3>5) V-ã¦ã„ã¾ã™â‘  (present situation)</h3>
            <div class="pattern">V-ã¦ + ã„ã¾ã™ï¼ˆpoliteï¼‰ï¼V-ã¦ã‚‹ï¼ˆcasualï¼‰</div>
            <ul>
              <li>æ—¥æœ¬<span class="furi">(ã«ã»ã‚“)</span>ã§ åƒ<span class="furi">(ã¯ãŸã‚‰)</span>ã„ã¦ã„ã¾ã™ã€‚= I work in Japan.</li>
              <li>N + ã¨ã—ã¦ + åƒã„ã¦ã„ã¾ã™ = I work as N.</li>
              <li>ä½<span class="furi">(ã™)</span>ã‚“ã§ã„ã¾ã™ / å‹‰å¼·<span class="furi">(ã¹ã‚“ãã‚‡ã†)</span>ã—ã¦ã„ã¾ã™ = continuing state</li>
            </ul>
          </div>
        </div>

        <div class="panel">
          <h3>Tips</h3>
          <ul>
            <li>ç›®ä¸Š<span class="furi">(ã‚ã†ãˆ)</span>/ç›®ä¸‹<span class="furi">(ã‚ã—ãŸ)</span>, å…ˆè¼©<span class="furi">(ã›ã‚“ã±ã„)</span>/å¾Œè¼©<span class="furi">(ã“ã†ã¯ã„)</span>, åœ°ä½<span class="furi">(ã¡ã„)</span> â†’ choose ä¸å¯§ä½“</li>
            <li>å®¢<span class="furi">(ãã‚ƒã)</span> is treated as higher status â†’ staff uses ä¸å¯§ä½“</li>
          </ul>
          <p class="muted" style="margin:8px 0 0">Print tip: Use the â€œPrint Cheat Sheetâ€ button.</p>
        </div>
      </div></div>
    </section>

    <!-- Final -->
    <section class="slide">
      <div class="frame"><div class="content">
        <h2>Lesson 1 Summary</h2>
        <div class="panel">
          <ul>
            <li><b>ä¸å¯§ä½“</b>: safe default (ã§ã™ï¼ã¾ã™)</li>
            <li><b>æ™®é€šä½“</b>: for close people</li>
            <li><b>Duration</b>: V-ã¦ï¼ˆã‹ã‚‰ï¼‰ï¼‹æœŸé–“ã«ãªã‚Šã¾ã™ â†’ â€œIt has beenâ€¦â€</li>
            <li><b>Point in time</b>: (time) ã«ï¼‹æ¥ã¾ã—ãŸ â†’ â€œI came (when)â€</li>
            <li><b>V-ã¦ã„ã¾ã™â‘ </b>: present situation / job (often â€œthese daysâ€)</li>
          </ul>
        </div>
        <div class="panel">
          <h3>Your total score</h3>
          <p class="muted" style="margin:0">Overall score: <b id="score-final">0</b> / 10</p>
        </div>
        <div class="panel">
          <h3>Next step (optional)</h3>
          <p class="muted" style="margin:0">
            If you want, I can generate: speaking roleplay cards, fill-in-the-blank drills, or a teacherâ€™s script per slide.
          </p>
        </div>
      </div></div>
    </section>

  </div>
</div>

<!-- NAV -->
<div class="nav">
  <div class="left">
    <button class="btn ghost" id="btnPrev" onclick="prevSlide()">â—€ Prev</button>
    <button class="btn ghost" id="btnNext" onclick="nextSlide()">Next â–¶</button>
  </div>

  <div class="counter" id="counter">
    <span id="counterText">Slide 1 / 1</span>
  </div>

  <div class="right">
    <button class="btn secondary" onclick="toggleFurigana()">Furigana</button>
    <button class="btn secondary" onclick="printCheatSheet()">Print Cheat Sheet</button>
    <button class="btn ghost" onclick="toggleHelp()">Help</button>
    <button class="btn" onclick="resetAll()">Reset Scores</button>
  </div>
</div>

<!-- HELP MODAL -->
<div id="help" style="position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.55);">
  <div style="width:min(980px, 92vw); background:rgba(15,23,42,.95); border:1px solid rgba(94,234,212,.18); border-radius:18px; padding:22px; box-shadow:var(--shadow);">
    <h3 style="margin:0 0 8px 0">Controls</h3>
    <ul style="margin:0 0 12px 18px">
      <li><b>ArrowLeft</b> / <b>ArrowRight</b>: slide navigation</li>
      <li><b>ğŸ”Š</b> on examples: text-to-speech (browser must support it)</li>
      <li><b>Furigana</b>: show/hide readings (toggle)</li>
      <li><b>Print Cheat Sheet</b>: prints only the one-page summary</li>
    </ul>
    <div class="panel">
      <p class="muted" style="margin:0">
        If audio does not work: some browsers require a user click first; also check system audio output.
      </p>
    </div>
    <button class="btn ghost" onclick="toggleHelp()">Close</button>
  </div>
</div>

<script>
  const deck = document.getElementById('deck');
  const slides = Array.from(document.querySelectorAll('.slide'));
  let idx = 0;

  // scoring
  const sectionScores = { A:0, B:0, C:0, D:0, E:0, F:0 };
  const sectionMax = { A:2, B:2, C:2, D:2, E:2, F:2 };
  let overall = 0;

  // toast
  const toast = document.getElementById('toast');
  let toastTimer = null;
  function showToast(msg){
    toast.textContent = msg;
    toast.style.display = 'block';
    clearTimeout(toastTimer);
    toastTimer = setTimeout(()=> toast.style.display='none', 1700);
  }

  function updateCounter(){
    const counterText = document.getElementById('counterText');
    if(counterText) counterText.textContent = `Slide ${idx+1} / ${slides.length}`;
    const final = document.getElementById('score-final');
    if(final) final.textContent = `${overall}`;
  }
  function showSlide(i){
    idx = Math.max(0, Math.min(slides.length-1, i));
    slides.forEach(s=>s.classList.remove('active'));
    slides[idx].classList.add('active');
    updateCounter();
  }
  function nextSlide(){ showSlide(idx+1); }
  function prevSlide(){ showSlide(idx-1); }

  document.addEventListener('keydown', (e)=>{
    if(e.key === 'ArrowRight') nextSlide();
    if(e.key === 'ArrowLeft') prevSlide();
    if(e.key === 'Escape') document.getElementById('help').style.display = 'none';
  });

  function setTextSafe(id, value){
    const el = document.getElementById(id);
    if(el) el.textContent = value;
  }
  function recomputeOverall(){
    overall = Object.values(sectionScores).reduce((a,b)=>a+b,0);
    setTextSafe('score-all', overall);
    setTextSafe('score-all-2', overall);
    setTextSafe('score-all-3', overall);
    setTextSafe('score-all-4', overall);
    setTextSafe('score-all-5', overall);
    setTextSafe('score-all-6', overall);
    setTextSafe('score-final', overall);
  }

  // quizzes
  function hookQuizzes(){
    const quizSlides = slides.filter(s => s.dataset.quiz);
    quizSlides.forEach(slide=>{
      const section = slide.dataset.quiz;
      const questions = Array.from(slide.querySelectorAll('.q'));
      questions.forEach((qEl)=>{
        const correctIndex = Number(qEl.dataset.correct);
        const explain = qEl.dataset.explain || "";
        const feedback = qEl.querySelector('.feedback');
        const buttons = Array.from(qEl.querySelectorAll('.choice'));

        if(qEl.dataset.bound === "1") return;
        qEl.dataset.bound = "1";

        buttons.forEach((btn, bIdx)=>{
          btn.addEventListener('click', ()=>{
            if(qEl.dataset.answered === "1") return;
            qEl.dataset.answered = "1";
            buttons.forEach(b=>b.disabled=true);

            if(bIdx === correctIndex){
              sectionScores[section] += 1;
              feedback.innerHTML = `<b>Correct!</b> ${explain}`;
              showToast("âœ… Correct!");
            }else{
              feedback.innerHTML = `<span class="bad"><b>Not quite.</b></span> ${explain}`;
              showToast("âŒ Try again next time!");
            }

            setTextSafe(`score-${section}`, sectionScores[section]);
            recomputeOverall();
          });
        });
      });
    });
  }

  // audio (Web Speech API)
  function supportsSpeech(){
    return ('speechSynthesis' in window) && ('SpeechSynthesisUtterance' in window);
  }
  function speakJP(text){
    if(!supportsSpeech()){
      showToast("Audio not supported in this browser.");
      return;
    }
    // cancel previous
    window.speechSynthesis.cancel();

    const u = new SpeechSynthesisUtterance(text);
    u.lang = 'ja-JP';
    u.rate = 0.95;
    u.pitch = 1.0;

    // try to pick Japanese voice if available
    const voices = window.speechSynthesis.getVoices();
    const jpVoice = voices.find(v => (v.lang || '').toLowerCase().startsWith('ja'));
    if(jpVoice) u.voice = jpVoice;

    window.speechSynthesis.speak(u);
  }
  function hookSpeakButtons(){
    const btns = Array.from(document.querySelectorAll('[data-speak]'));
    if(!supportsSpeech()){
      btns.forEach(b=>{
        b.disabled = true;
        b.title = "Speech not supported in this browser";
      });
      return;
    }
    btns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const text = btn.getAttribute('data-speak') || "";
        speakJP(text);
      });
    });

    // Warm up voices list
    window.speechSynthesis.onvoiceschanged = ()=>{};
    window.speechSynthesis.getVoices();
  }

  // furigana toggle
  let furiHidden = false;
  function toggleFurigana(){
    furiHidden = !furiHidden;
    document.body.classList.toggle('furigana-hidden', furiHidden);
    showToast(furiHidden ? "Furigana OFF" : "Furigana ON");
  }

  // print cheat sheet
  function printCheatSheet(){
    // Navigate to cheat sheet slide (so user knows what will print)
    const cheatIdx = slides.findIndex(s => s.id === 'cheat');
    if(cheatIdx >= 0) showSlide(cheatIdx);
    showToast("Printing cheat sheetâ€¦");
    setTimeout(()=> window.print(), 250);
  }

  function resetAll(){
    for(const k in sectionScores) sectionScores[k] = 0;
    overall = 0;

    Object.keys(sectionScores).forEach(sec => setTextSafe(`score-${sec}`, 0));
    recomputeOverall();

    document.querySelectorAll('.q').forEach(qEl=>{
      qEl.dataset.answered = "0";
      const feedback = qEl.querySelector('.feedback');
      if(feedback) feedback.textContent = "";
      qEl.querySelectorAll('.choice').forEach(b=> b.disabled=false);
    });

    showSlide(0);
    showToast("Scores reset.");
  }

  function toggleHelp(){
    const h = document.getElementById('help');
    h.style.display = (h.style.display === 'none' || h.style.display === '') ? 'grid' : 'none';
  }

  // init
  hookQuizzes();
  hookSpeakButtons();
  showSlide(0);
  recomputeOverall();
</script>
</body>
</html>
