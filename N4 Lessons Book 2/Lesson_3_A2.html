<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã„ã‚ã©ã‚Š Irodori A2 Book 2 - Lesson 3: ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ========== CSS Variables â€” Green/Fresh Theme ========== */
        :root {
            --primary: #059669;
            --primary-light: #10b981;
            --primary-dark: #065f46;
            --accent: #f59e0b;
            --accent-light: #fef3c7;
            --accent-dark: #b45309;
            --secondary: #0d9488;
            --secondary-light: #ccfbf1;
            --success: #16a34a;
            --success-light: #dcfce7;
            --error: #dc2626;
            --error-light: #fecaca;
            --warning: #ea580c;
            --warning-light: #ffedd5;
            --bg-light: #ecfdf5;
            --bg-card: #ffffff;
            --text-primary: #064e3b;
            --text-secondary: #065f46;
            --text-muted: #6b7280;
            --border: #d1fae5;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ========== Reset & Base ========== */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans JP', 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, #d1fae5 100%);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ========== Progress Bar ========== */
        .progress-container {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: var(--bg-card); box-shadow: var(--shadow); padding: 12px 20px;
        }
        .progress-header {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; gap: 20px;
        }
        .progress-title {
            font-size: 0.9rem; font-weight: 600; color: var(--primary);
            display: flex; align-items: center; gap: 8px;
        }
        .progress-title .lesson-badge {
            background: var(--primary); color: white; padding: 2px 10px;
            border-radius: 20px; font-size: 0.75rem;
        }
        .progress-bar-wrapper { flex: 1; max-width: 500px; }
        .progress-bar {
            height: 8px; background: #e2e8f0; border-radius: 10px; overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 10px; transition: width 0.5s ease; width: 0%;
        }
        .progress-text {
            font-size: 0.8rem; color: var(--text-muted); text-align: right; margin-top: 4px;
        }
        .progress-nav { display: flex; gap: 8px; }
        .nav-btn {
            background: var(--primary); color: white; border: none; padding: 8px 16px;
            border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: 500;
            transition: var(--transition); display: flex; align-items: center; gap: 6px;
        }
        .nav-btn:hover { background: var(--primary-light); transform: translateY(-1px); }
        .nav-btn:disabled { background: #d1d5db; color: #9ca3af; cursor: not-allowed; transform: none; }

        /* ========== Main Container ========== */
        .presentation { padding-top: 80px; min-height: 100vh; }

        /* ========== Slides ========== */
        .slide {
            display: none; max-width: 1000px; margin: 0 auto;
            padding: 40px 20px; animation: fadeIn 0.5s ease;
        }
        .slide.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== Title Slide ========== */
        .title-slide { text-align: center; padding: 60px 20px; }
        .title-slide .book-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white; padding: 8px 24px; border-radius: 30px;
            font-size: 0.9rem; font-weight: 500; margin-bottom: 24px; letter-spacing: 1px;
        }
        .title-slide h1 {
            font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 700;
            color: var(--primary-dark); margin-bottom: 16px; line-height: 1.2;
        }
        .title-slide .lesson-title-jp {
            font-size: clamp(1.5rem, 4vw, 2.5rem); color: var(--accent-dark); margin-bottom: 8px;
        }
        .title-slide .lesson-subtitle {
            font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 40px;
        }
        .title-card {
            background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); max-width: 700px; margin: 0 auto 40px;
        }
        .title-card h2 {
            color: var(--primary); font-size: 1.3rem; margin-bottom: 20px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .grammar-list { display: grid; gap: 12px; }
        .grammar-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 16px;
            background: var(--bg-light); border-radius: var(--radius);
            border-left: 4px solid var(--accent); transition: var(--transition);
        }
        .grammar-item:hover { transform: translateX(8px); background: var(--accent-light); }
        .grammar-number {
            width: 28px; height: 28px; background: var(--primary); color: white;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 0.85rem; font-weight: 600; flex-shrink: 0;
        }
        .start-btn {
            background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
            color: white; border: none; padding: 16px 48px; border-radius: 30px;
            font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); box-shadow: 0 4px 14px rgba(0,0,0,0.2);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }

        /* ========== Content Slides ========== */
        .content-card {
            background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); margin-bottom: 24px;
        }
        .slide-header {
            display: flex; align-items: center; gap: 16px; margin-bottom: 32px;
            padding-bottom: 20px; border-bottom: 2px solid var(--border);
        }
        .grammar-badge {
            background: var(--primary); color: white; padding: 8px 16px;
            border-radius: 8px; font-size: 0.85rem; font-weight: 600; white-space: nowrap;
        }
        .slide-header h2 { font-size: 1.8rem; color: var(--primary-dark); flex: 1; }
        .slide-header .jp-title { font-size: 1.3rem; color: var(--accent-dark); font-weight: 500; }

        /* ========== Ruby ========== */
        ruby { ruby-position: over; }
        ruby rt { font-size: 0.6em; color: var(--text-muted); }

        /* ========== Example Boxes ========== */
        .example-box {
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
            border-radius: var(--radius); padding: 24px; margin: 20px 0;
            border-left: 4px solid var(--primary);
        }
        .example-label {
            font-size: 0.8rem; font-weight: 600; color: var(--primary);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;
            display: flex; align-items: center; gap: 8px;
        }
        .example-japanese { font-size: 1.35rem; color: var(--text-primary); margin-bottom: 8px; line-height: 2.2; }
        .example-english { font-size: 1rem; color: var(--text-secondary); font-style: italic; }

        .example-comparison {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;
        }
        .polite-box, .plain-box { padding: 20px; border-radius: var(--radius); }
        .polite-box {
            background: linear-gradient(135deg, #ecfdf5 0%, #a7f3d0 100%);
            border-left: 4px solid var(--primary);
        }
        .plain-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid var(--accent);
        }
        .style-label {
            font-size: 0.85rem; font-weight: 600; margin-bottom: 10px;
            display: flex; align-items: center; gap: 8px;
        }
        .polite-box .style-label { color: var(--primary-dark); }
        .plain-box .style-label { color: var(--accent-dark); }

        /* ========== Structure Box ========== */
        .structure-box {
            background: linear-gradient(135deg, #ccfbf1 0%, #99f6e4 100%);
            border-radius: var(--radius); padding: 20px; margin: 20px 0;
            border-left: 4px solid var(--secondary);
        }
        .structure-box .label {
            font-size: 0.8rem; font-weight: 600; color: var(--secondary);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;
        }
        .structure-formula {
            font-size: 1.15rem; font-family: 'Outfit', monospace;
            color: var(--primary-dark); background: white;
            padding: 12px 20px; border-radius: 8px; display: inline-block; margin: 8px 0;
        }
        .structure-formula .highlight { color: var(--primary); font-weight: 600; }
        .structure-formula .accent { color: var(--accent-dark); font-weight: 600; }

        /* ========== Explanation ========== */
        .explanation { margin: 24px 0; }
        .explanation h3 {
            font-size: 1.1rem; color: var(--primary-dark); margin-bottom: 12px;
            display: flex; align-items: center; gap: 10px;
        }
        .explanation p { color: var(--text-secondary); margin-bottom: 12px; line-height: 1.8; }

        .key-point {
            background: var(--accent-light); padding: 16px 20px;
            border-radius: var(--radius); margin: 16px 0;
            border-left: 4px solid var(--accent);
        }
        .key-point strong { color: var(--primary-dark); }

        /* ========== Conversation Box ========== */
        .conversation-box {
            background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
            border-radius: var(--radius); padding: 24px; margin: 20px 0;
            border-left: 4px solid var(--accent);
        }
        .conversation-box .example-label { color: #92400e; }
        .conversation-line { margin-bottom: 12px; font-size: 1.2rem; line-height: 2; }
        .conversation-line:last-child { margin-bottom: 0; }
        .speaker { font-weight: 700; color: var(--primary-dark); min-width: 28px; display: inline-block; }
        .speaker.b { color: var(--accent-dark); }
        .conversation-translation { font-size: 0.9rem; color: var(--text-muted); font-style: italic; margin-left: 32px; margin-top: -8px; margin-bottom: 10px; }

        /* ========== Comparison Grid ========== */
        .comparison-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 16px; margin: 20px 0;
        }
        .comparison-box { padding: 18px; border-radius: var(--radius); }
        .box-label {
            font-size: 0.85rem; font-weight: 600; margin-bottom: 10px;
            display: flex; align-items: center; gap: 8px;
        }

        /* ========== Collapsible Reference ========== */
        .ref-connection { margin: 24px 0; }
        .ref-toggle {
            width: 100%; background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
            border: none; padding: 16px 20px; border-radius: var(--radius); cursor: pointer;
            display: flex; align-items: center; justify-content: space-between;
            font-size: 1rem; font-weight: 500; color: #c2410c; transition: var(--transition);
        }
        .ref-toggle:hover { background: linear-gradient(135deg, #ffedd5 0%, #fed7aa 100%); }
        .ref-toggle .icon { transition: transform 0.3s ease; }
        .ref-toggle.open .icon { transform: rotate(180deg); }
        .ref-content {
            max-height: 0; overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            background: #fffbf5; border-radius: 0 0 var(--radius) var(--radius);
        }
        .ref-content.open {
            max-height: 800px; padding: 20px;
            border: 1px solid #ffedd5; border-top: none;
        }
        .ref-content h4 { color: #c2410c; font-size: 0.95rem; margin-bottom: 12px; }
        .ref-content p { color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 10px; line-height: 1.7; }
        .ref-badge {
            display: inline-block; background: #c2410c; color: white;
            padding: 2px 10px; border-radius: 20px; font-size: 0.8rem; margin-right: 8px;
        }

        /* ========== Data Tables ========== */
        .table-container { overflow-x: auto; margin: 24px 0; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        .data-table th {
            background: var(--primary); color: white; padding: 14px 16px;
            text-align: left; font-weight: 500;
        }
        .data-table td { padding: 12px 16px; border-bottom: 1px solid var(--border); }
        .data-table tr:nth-child(even) { background: var(--bg-light); }
        .data-table tr:hover { background: #a7f3d0; }

        /* ========== Quiz Cards ========== */
        .quiz-card {
            background: linear-gradient(135deg, #ecfdf5 0%, #a7f3d0 100%);
            border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); margin-bottom: 24px;
        }
        .quiz-header {
            display: flex; align-items: center; gap: 16px; margin-bottom: 32px;
        }
        .quiz-badge {
            background: var(--accent); color: white; padding: 8px 16px;
            border-radius: 8px; font-size: 0.85rem; font-weight: 600;
        }
        .quiz-header h2 { font-size: 1.5rem; color: var(--primary-dark); }
        .quiz-question {
            background: white; padding: 24px; border-radius: var(--radius);
            margin-bottom: 20px; box-shadow: var(--shadow); transition: var(--transition);
        }
        .question-number { font-size: 0.85rem; font-weight: 600; color: var(--accent-dark); margin-bottom: 12px; }
        .question-context {
            font-size: 0.95rem; color: var(--text-secondary); font-style: italic;
            margin-bottom: 16px; padding: 12px; background: var(--bg-light); border-radius: 8px;
        }
        .question-text { font-size: 1.15rem; color: var(--text-primary); margin-bottom: 16px; line-height: 1.9; }

        .fill-blank {
            display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
            font-size: 1.2rem; margin: 16px 0;
        }
        .blank-input {
            border: 2px dashed var(--primary); background: #f0fdf4;
            padding: 8px 16px; border-radius: 8px; min-width: 140px;
            font-size: 1.05rem; font-family: inherit; text-align: center;
            transition: var(--transition);
        }
        .blank-input:focus {
            outline: none; border-color: var(--accent); background: white;
            box-shadow: 0 0 0 3px rgba(245,158,11,0.2);
        }
        .blank-input.correct-input { border-color: var(--success); background: var(--success-light); }
        .blank-input.incorrect-input { border-color: var(--error); background: var(--error-light); }

        .mc-options { display: grid; gap: 10px; margin: 16px 0; }
        .mc-option {
            display: flex; align-items: center; gap: 12px;
            padding: 14px 18px; border-radius: var(--radius);
            border: 2px solid #e2e8f0; background: white;
            cursor: pointer; transition: var(--transition); font-size: 1.05rem;
        }
        .mc-option:hover { border-color: var(--primary-light); background: #ecfdf5; transform: translateX(4px); }
        .mc-option.selected { border-color: var(--primary); background: #d1fae5; }
        .mc-option.correct-option { border-color: var(--success); background: var(--success-light); }
        .mc-option.incorrect-option { border-color: var(--error); background: var(--error-light); }
        .mc-option.disabled { pointer-events: none; opacity: 0.85; }
        .mc-radio {
            width: 20px; height: 20px; border: 2px solid #e2e8f0;
            border-radius: 50%; flex-shrink: 0; transition: var(--transition);
            display: flex; align-items: center; justify-content: center;
        }
        .mc-option.selected .mc-radio { border-color: var(--primary); background: var(--primary); }
        .mc-option.selected .mc-radio::after { content: ''; width: 8px; height: 8px; border-radius: 50%; background: white; }
        .mc-option.correct-option .mc-radio { border-color: var(--success); background: var(--success); }
        .mc-option.correct-option .mc-radio::after { content: 'âœ“'; color: white; font-size: 12px; font-weight: 700; }
        .mc-option.incorrect-option .mc-radio { border-color: var(--error); background: var(--error); }
        .mc-option.incorrect-option .mc-radio::after { content: 'âœ—'; color: white; font-size: 12px; font-weight: 700; }

        .feedback {
            display: none; padding: 14px 18px; border-radius: var(--radius);
            margin-top: 12px; font-size: 0.95rem; line-height: 1.7;
            animation: fadeIn 0.3s ease;
        }
        .feedback.show { display: block; }
        .feedback.correct { background: var(--success-light); border-left: 4px solid var(--success); color: #14532d; }
        .feedback.incorrect { background: var(--error-light); border-left: 4px solid var(--error); color: #7f1d1d; }
        .feedback strong { display: block; margin-bottom: 4px; }

        .check-btn {
            background: var(--primary); color: white; border: none; padding: 14px 36px;
            border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); margin-top: 12px;
        }
        .check-btn:hover { background: var(--primary-light); transform: translateY(-2px); }
        .check-btn:disabled { background: #d1d5db; color: #9ca3af; cursor: not-allowed; transform: none; }

        /* ========== Summary ========== */
        .summary-card {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            border-radius: var(--radius-lg); padding: 40px; color: white; text-align: center;
        }
        .summary-card h2 { font-size: 2rem; margin-bottom: 24px; }
        .summary-card > p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 12px; }
        .summary-points {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px; margin: 32px 0;
        }
        .summary-point {
            background: rgba(255,255,255,0.15); padding: 20px;
            border-radius: var(--radius); backdrop-filter: blur(10px);
        }
        .summary-point h4 { font-size: 1.1rem; margin-bottom: 8px; }
        .summary-point p { font-size: 0.9rem; opacity: 0.9; }
        .restart-btn {
            background: white; color: var(--primary-dark); border: none; padding: 16px 48px;
            border-radius: 30px; font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); margin-top: 24px;
        }
        .restart-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }

        /* ========== Animations ========== */
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .pulse { animation: pulse 2s infinite; }

        /* ========== Responsive ========== */
        @media (max-width: 768px) {
            .progress-header { flex-direction: column; gap: 12px; }
            .progress-bar-wrapper { width: 100%; max-width: none; }
            .progress-nav { width: 100%; justify-content: space-between; }
            .content-card, .quiz-card { padding: 24px; }
            .slide-header { flex-direction: column; align-items: flex-start; gap: 12px; }
            .example-japanese { font-size: 1.15rem; }
            .example-comparison { grid-template-columns: 1fr; }
            .comparison-grid { grid-template-columns: 1fr; }
            .fill-blank { font-size: 1.05rem; }
            .data-table { font-size: 0.85rem; }
            .data-table th, .data-table td { padding: 10px 12px; }
            .summary-points { grid-template-columns: 1fr 1fr; }
        }
        @media (max-width: 480px) {
            .progress-title { font-size: 0.8rem; }
            .nav-btn { padding: 6px 12px; font-size: 0.8rem; }
            .nav-btn .btn-text { display: none; }
            .title-slide h1 { font-size: 2rem; }
            .grammar-item { padding: 10px 12px; }
            .comparison-grid { grid-template-columns: 1fr; }
            .summary-points { grid-template-columns: 1fr; }
            .title-card { padding: 24px; }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <div class="progress-title">
                <span class="lesson-badge">L3</span>
                ğŸ½ï¸ ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§
            </div>
            <div class="progress-bar-wrapper">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">15</span></div>
            </div>
            <div class="progress-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">â—€ <span class="btn-text">Back</span></button>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()"><span class="btn-text">Next</span> â–¶</button>
            </div>
        </div>
    </div>

    <div class="presentation">

        <!-- ==================== SLIDE 1: Title ==================== -->
        <div class="slide active" data-slide="1">
            <div class="title-slide">
                <div class="book-badge">ã„ã‚ã©ã‚Š IRODORI â€” <ruby>åˆç´š<rt>ã—ã‚‡ãã‚…ã†</rt></ruby>2 (A2)</div>
                <h1>Lesson 3</h1>
                <div class="lesson-title-jp">ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§</div>
                <div class="lesson-subtitle">At a Restaurant â€” ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ãŒã‚ã‚‹ã®ã§ã€<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œãªã„ã‚“ã§ã™</div>

                <div class="title-card">
                    <h2>ğŸ“š Grammar Points in This Lesson</h2>
                    <div class="grammar-list">
                        <div class="grammar-item">
                            <span class="grammar-number">1</span>
                            <span><strong>S1 ã®ã§ã€S2</strong> â€” Giving Reasons Politely ("becauseâ€¦")</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">2</span>
                            <span><strong>S ã‚ˆã­</strong> â€” Confirming What You Believe</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">3</span>
                            <span><strong>N ã§ï½</strong> â€” Selecting / Choosing at Restaurants</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">4</span>
                            <span><strong>ï½ã®ã¯ã€N ã§ã™</strong> â€” Nominalization for Recommendations</span>
                        </div>
                    </div>
                </div>

                <button class="start-btn pulse" onclick="nextSlide()">
                    ğŸ£ Let's Begin!
                </button>
            </div>
        </div>

        <!-- ==================== SLIDE 2: Grammar 1 â€” S1 ã®ã§ã€S2 ==================== -->
        <div class="slide" data-slide="2">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 1</span>
                    <div>
                        <h2>S1 ã®ã§ã€S2</h2>
                        <span class="jp-title">Giving Reasons Politely</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>ã®ã§ is used to <strong>give a reason or explanation</strong> for something, especially in a <strong>polite and soft</strong> way. In this lesson, it's specifically used to explain why you <strong>can't eat or drink something</strong> â€” for example, when declining food due to allergies, diet, or personal reasons at a restaurant.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation (Plain Form Connection)</div>
                    <div class="structure-formula">
                        <span class="highlight">S1 (reason â€” plain form)</span> + ã®ã§ã€<span class="accent">S2 (result)</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">For ãƒŠ-adjectives and Nouns: ï½ãª + ã®ã§ &nbsp;|&nbsp; For ã‚¤-adjectives and Verbs: plain form + ã®ã§</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Polite</th>
                                <th>Plain + ã®ã§</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ãƒŠ-adj</td>
                                <td>ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ã§ã™</td>
                                <td>ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ãªã®ã§</strong></td>
                                <td>ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ãªã®ã§ã€<ruby>è‚‰<rt>ã«ã</rt></ruby>ã¯ã ã‚ãªã‚“ã§ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>Noun</td>
                                <td><ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã§ã™</td>
                                <td><ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby><strong>ãªã®ã§</strong></td>
                                <td><ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ãªã®ã§ã€ã„ã¤ã‚‚<ruby>æ··<rt>ã“</rt></ruby>ã‚“ã§ã„ã¾ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>ã‚¤-adj</td>
                                <td><ruby>å®‰<rt>ã‚„ã™</rt></ruby>ã„ã§ã™</td>
                                <td><ruby>å®‰<rt>ã‚„ã™</rt></ruby><strong>ã„ã®ã§</strong></td>
                                <td><ruby>å®‰<rt>ã‚„ã™</rt></ruby>ã„ã®ã§ã€ã‚ˆã<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>Verb</td>
                                <td><ruby>è‡ªè»¢è»Š<rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt></ruby>ã§<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸ</td>
                                <td><ruby>è‡ªè»¢è»Š<rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt></ruby>ã§<ruby>æ¥<rt>ã</rt></ruby>ãŸ<strong>ã®ã§</strong></td>
                                <td><ruby>è‡ªè»¢è»Š<rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt></ruby>ã§<ruby>æ¥<rt>ã</rt></ruby>ãŸã®ã§ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚ãªã„ã‚“ã§ã™ã€‚</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 1</div>
                    <div class="example-japanese"><ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯<ruby>è‡ªè»¢è»Š<rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt></ruby>ã§<ruby>æ¥<rt>ã</rt></ruby>ãŸ<strong>ã®ã§</strong>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚ãªã„ã‚“ã§ã™ã€‚</div>
                    <div class="example-english">Because I came by bicycle today, I can't drink (alcohol).</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 2</div>
                    <div class="example-japanese">ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ãªã®ã§</strong>ã€<ruby>è‚‰<rt>ã«ã</rt></ruby>ã¨ã‹<ruby>é­š<rt>ã•ã‹ãª</rt></ruby>ã¯ã ã‚ãªã‚“ã§ã™ã€‚</div>
                    <div class="example-english">Because I'm a vegetarian, meat and fish are no good for me.</div>
                </div>

                <div class="explanation">
                    <h3>âš–ï¸ ã®ã§ vs. ã‹ã‚‰ â€” What's the difference?</h3>
                </div>

                <div class="example-comparison">
                    <div class="polite-box">
                        <div class="style-label">ğŸŸ¢ ã®ã§ â€” Softer, More Polite</div>
                        <p style="font-size: 0.95rem; margin-bottom: 6px;">ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ãªã®ã§</strong>ã€<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œã¾ã›ã‚“ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Objective, gentle explanation. Best for formal settings, speaking to superiors, and delicate situations like declining food.</p>
                    </div>
                    <div class="plain-box">
                        <div class="style-label">ğŸŸ¡ ã‹ã‚‰ â€” More Direct</div>
                        <p style="font-size: 0.95rem; margin-bottom: 6px;">ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ã ã‹ã‚‰</strong>ã€<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œã¾ã›ã‚“ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">More personal, direct tone. Fine with friends, but can sound blunt in formal settings.</p>
                    </div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> When giving <strong>personal reasons</strong> for declining food or drink (allergies, diet, lifestyle), ã®ã§ is the preferred choice because it sounds softer and less confrontational. It frames the reason as an objective fact rather than a personal assertion. Think of it as the "professional" version of ã‹ã‚‰.
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L9</span> ï½ã‹ã‚‰ (giving reasons)</h4>
                        <p>In MNN Lesson 9, you learned ï½ã‹ã‚‰ for giving reasons: <ruby>æ™‚é–“<rt>ã˜ã‹ã‚“</rt></ruby>ãŒã‚ã‚Šã¾ã›ã‚“<strong>ã‹ã‚‰</strong>ã€<ruby>æœ<rt>ã‚ã•</rt></ruby>ã”ã¯ã‚“ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã›ã‚“. ã®ã§ is the <strong>softer alternative</strong> to ã‹ã‚‰. Both mean "because," but ã®ã§ sounds more polite and objective. In formal or sensitive situations (like explaining allergies), ã®ã§ is strongly preferred.</p>
                        <h4><span class="ref-badge">MNN L20</span> Plain form (æ™®é€šå½¢)</h4>
                        <p>ã®ã§ connects to the plain form, which you studied in MNN Lesson 20. The key difference: for ãƒŠ-adjectives and nouns, you use <strong>ãª</strong> (not ã ) before ã®ã§: ã—ãšã‹<strong>ãª</strong>ã®ã§ (not ã—ãšã‹ã ã®ã§).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 3: Quiz 1 ==================== -->
        <div class="slide" data-slide="3">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>S1 ã®ã§ã€S2</h2>
                </div>

                <div class="quiz-question" id="q1-block">
                    <div class="question-number">Question 1 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">You're a vegetarian and want to politely explain you can't eat meat.</div>
                    <div class="question-text">ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ _______ ã€<ruby>è‚‰<rt>ã«ã</rt></ruby>ã¯<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œãªã„ã‚“ã§ã™ã€‚</div>
                    <div class="fill-blank">
                        ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ <input type="text" class="blank-input" id="q1-input" placeholder="ï¼Ÿ"> ã€<ruby>è‚‰<rt>ã«ã</rt></ruby>ã¯<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œãªã„ã‚“ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q1-feedback"></div>
                </div>

                <div class="quiz-question" id="q2-block">
                    <div class="question-number">Question 2 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Which is the softer, more polite way to give a reason?</div>
                    <div class="mc-options" id="q2-options">
                        <div class="mc-option" onclick="selectMC('q2', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å®‰<rt>ã‚„ã™</rt></ruby>ã„<strong>ã‹ã‚‰</strong>ã€ã‚ˆã<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q2', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å®‰<rt>ã‚„ã™</rt></ruby>ã„<strong>ã®ã§</strong>ã€ã‚ˆã<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q2', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å®‰<rt>ã‚„ã™</rt></ruby>ã„<strong>ã‘ã©</strong>ã€ã‚ˆã<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q2-feedback"></div>
                </div>

                <div class="quiz-question" id="q3-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">"Because this restaurant is famous, it's always crowded." Which is correct?</div>
                    <div class="mc-options" id="q3-options">
                        <div class="mc-option" onclick="selectMC('q3', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ã“ã®<ruby>åº—<rt>ã¿ã›</rt></ruby>ã¯<ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã ã®ã§ã€ã„ã¤ã‚‚<ruby>æ··<rt>ã“</rt></ruby>ã‚“ã§ã„ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q3', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ã“ã®<ruby>åº—<rt>ã¿ã›</rt></ruby>ã¯<ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ãªã®ã§ã€ã„ã¤ã‚‚<ruby>æ··<rt>ã“</rt></ruby>ã‚“ã§ã„ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q3', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ã“ã®<ruby>åº—<rt>ã¿ã›</rt></ruby>ã¯<ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã®ã®ã§ã€ã„ã¤ã‚‚<ruby>æ··<rt>ã“</rt></ruby>ã‚“ã§ã„ã¾ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q3-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz1()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 4: Grammar 2 â€” S ã‚ˆã­ ==================== -->
        <div class="slide" data-slide="4">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 2</span>
                    <div>
                        <h2>S ã‚ˆã­</h2>
                        <span class="jp-title">Confirming What You Believe</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>ã‚ˆã­ combines two particles you've already seen: <strong>ã‚ˆ</strong> (asserting information) and <strong>ã­</strong> (seeking agreement). Together, ã‚ˆã­ means "I believe X is true â€” you agree, right?" It's used when you <strong>think something is the case</strong> and want to <strong>confirm it</strong> with the other person.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">Statement</span> + <span class="accent">ã‚ˆã­</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">The speaker thinks the statement is true but wants the listener to confirm.</p>
                </div>

                <div class="explanation">
                    <h3>ğŸ†š ã‚ˆã­ vs. ã§ã™ã‹ â€” What's the difference?</h3>
                </div>

                <div class="example-comparison">
                    <div class="polite-box">
                        <div class="style-label">ğŸ’¬ ã‚ˆã­ â€” "It is X, right?"</div>
                        <p style="font-size: 1.05rem; margin-bottom: 6px;">ãŠã™ã—ã€ã‚ã•ã³ã€<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã¾ã™<strong>ã‚ˆã­</strong>ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">This sushi has wasabi in it, doesn't it?<br><em>(You already think it does â€” just confirming)</em></p>
                    </div>
                    <div class="plain-box">
                        <div class="style-label">â“ ã§ã™ã‹ â€” "Is it X?"</div>
                        <p style="font-size: 1.05rem; margin-bottom: 6px;">ãŠã™ã—ã€ã‚ã•ã³ã€<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã¾ã™<strong>ã‹</strong>ï¼Ÿ</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Does this sushi have wasabi in it?<br><em>(You genuinely don't know and are asking)</em></p>
                    </div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue â€” At a Restaurant</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span><ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã®ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã¯ã€ãŠã‹ã‚ã‚Šã§ãã¾ã™<strong>ã‚ˆã­</strong>ã€‚</div>
                    <div class="conversation-translation">You can get free refills of rice with the set meal, right?</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ã¯ã„ã€ã§ãã¾ã™<strong>ã‚ˆ</strong>ã€‚</div>
                    <div class="conversation-translation">Yes, you can.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> ã‚ˆã­ is extremely useful at restaurants! You can use it to confirm things on the menu, check about ingredients (allergens!), or verify restaurant policies. It's much smoother than asking a blunt yes/no question because it shows you've already done some thinking: "I believe this is the case â€” am I right?"
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L4</span> ï½ã­ (confirmation/agreement)</h4>
                        <p>You learned ã­ in MNN Lesson 4 for seeking agreement: ã„ã„<ruby>å¤©æ°—<rt>ã¦ã‚“ã</rt></ruby>ã§ã™ã­ ("Nice weather, isn't it?"). ã‚ˆã­ builds on this: ã­ alone assumes shared knowledge, while ã‚ˆã­ adds the nuance of "I'm <em>asserting</em> this and asking you to confirm."</p>
                        <h4><span class="ref-badge">Lesson 2</span> ã‚ˆ (giving new information)</h4>
                        <p>In the previous Irodori lesson, you learned ã‚ˆ for providing new info: ã‚ã®<ruby>äºº<rt>ã²ã¨</rt></ruby>ã§ã™ã‚ˆ. Now ã‚ˆ + ã­ = ã‚ˆã­: "I believe this (ã‚ˆ) â€” you agree (ã­)?"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 5: Quiz 2 ==================== -->
        <div class="slide" data-slide="5">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>S ã‚ˆã­</h2>
                </div>

                <div class="quiz-question" id="q4-block">
                    <div class="question-number">Question 1 of 3 â€” Multiple Choice</div>
                    <div class="question-context">You think the restaurant closes at 10pm and want to confirm with the staff.</div>
                    <div class="mc-options" id="q4-options">
                        <div class="mc-option" onclick="selectMC('q4', 0, this)">
                            <div class="mc-radio"></div>
                            <span>10<ruby>æ™‚<rt>ã˜</rt></ruby>ã«<ruby>é–‰<rt>ã—</rt></ruby>ã¾ã‚Šã¾ã™ã‹ã€‚(genuine question)</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q4', 1, this)">
                            <div class="mc-radio"></div>
                            <span>10<ruby>æ™‚<rt>ã˜</rt></ruby>ã«<ruby>é–‰<rt>ã—</rt></ruby>ã¾ã‚Šã¾ã™ã‚ˆã­ã€‚(confirming belief)</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q4', 2, this)">
                            <div class="mc-radio"></div>
                            <span>10<ruby>æ™‚<rt>ã˜</rt></ruby>ã«<ruby>é–‰<rt>ã—</rt></ruby>ã¾ã‚Šã¾ã™ã‚ˆã€‚(telling new info)</span>
                        </div>
                    </div>
                    <div class="feedback" id="q4-feedback"></div>
                </div>

                <div class="quiz-question" id="q5-block">
                    <div class="question-number">Question 2 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">You believe this dish has shrimp in it and want to confirm.</div>
                    <div class="question-text">ã“ã®<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã€ãˆã³ãŒ<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã¾ã™ï¼¿ï¼¿ï¼¿ã€‚</div>
                    <div class="fill-blank">
                        ã“ã®<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã€ãˆã³ãŒ<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã¾ã™<input type="text" class="blank-input" id="q5-input" placeholder="ï¼Ÿ" style="min-width: 60px;">ã€‚
                    </div>
                    <div class="feedback" id="q5-feedback"></div>
                </div>

                <div class="quiz-question" id="q6-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">What is the main difference between ã‚ˆã­ and ã­?</div>
                    <div class="mc-options" id="q6-options">
                        <div class="mc-option" onclick="selectMC('q6', 0, this)">
                            <div class="mc-radio"></div>
                            <span>They mean exactly the same thing.</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q6', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ã‚ˆã­ asserts your belief AND asks for confirmation; ã­ just seeks agreement on shared info.</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q6', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ã‚ˆã­ is for questions, ã­ is for statements.</span>
                        </div>
                    </div>
                    <div class="feedback" id="q6-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz2()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 6: Grammar 3 â€” N ã§ï½ ==================== -->
        <div class="slide" data-slide="6">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 3</span>
                    <div>
                        <h2>N ã§ï½</h2>
                        <span class="jp-title">Selecting & Choosing</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>When asked to choose between options at a restaurant (seating, portion size, menu items), you answer with <strong>N ã§</strong> to communicate your choice. Think of it as "I'll go with N" or "N, please." It's a compact, natural way to tell staff your preference.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">N (your choice)</span> + <span class="accent">ã§</span> + { ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ / ã ã„ã˜ã‚‡ã†ã¶ã§ã™ / ã„ã„ã§ã™ }
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">N ã§ can also be used alone: ã˜ã‚ƒã‚ã€ãã‚Œã§ã€‚("Okay, I'll go with that.")</p>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue 1 â€” Choosing a Seat</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span>ãƒ†ãƒ¼ãƒ–ãƒ«ã¨<ruby>åº§æ•·<rt>ã–ã—ã</rt></ruby>ãŒã”ã–ã„ã¾ã™ãŒâ€¦ã€‚</div>
                    <div class="conversation-translation">We have table and tatami seating...</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ãƒ†ãƒ¼ãƒ–ãƒ«<strong>ã§</strong>ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚</div>
                    <div class="conversation-translation">Table seating, please.</div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue 2 â€” Portion Size</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span>ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã®<ruby>é‡<rt>ã‚Šã‚‡ã†</rt></ruby>ã€<ruby>å¤§ç››<rt>ãŠãŠã‚‚</rt></ruby>ã‚Šã«ã—ã¾ã™ã‹ï¼Ÿ</div>
                    <div class="conversation-translation">Would you like an extra-large portion of rice?</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span><ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby><strong>ã§</strong>ã ã„ã˜ã‚‡ã†ã¶ã§ã™ã€‚</div>
                    <div class="conversation-translation">A normal portion is fine.</div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue 3 â€” Menu Recommendation</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span>ãƒŸãƒƒã‚¯ã‚¹ãƒ•ãƒ©ã‚¤<ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ãŒãŠã™ã™ã‚ã§ã™ã€‚</div>
                    <div class="conversation-translation">The assorted fried food set meal is recommended.</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ã˜ã‚ƒã‚ã€ãã‚Œ<strong>ã§</strong>ã€‚</div>
                    <div class="conversation-translation">Okay, I'll go with that.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> The ã§ particle here functions as a "selection marker" â€” it indicates the item you're choosing from available options. You'll often hear it paired with polite endings like ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ ("please") or casual responses like ã„ã„ã§ã™ ("that's fine"). The ultra-compact ã˜ã‚ƒã‚ã€ãã‚Œã§ is very common in casual ordering.
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L3</span> ï½ã‚’ãã ã•ã„ (ordering)</h4>
                        <p>In MNN Lesson 3, you learned to order with ï½ã‚’ãã ã•ã„ ("Give me ~, please"). N ã§ adds another ordering tool: instead of requesting a specific item, you're <strong>selecting from offered options</strong>. Compare: ã‚³ãƒ¼ãƒ’ãƒ¼ã‚’ãã ã•ã„ (ordering coffee) vs. ã‚³ãƒ¼ãƒ’ãƒ¼ã§<ruby>ãŠé¡˜ã„ã—ã¾ã™<rt>ãŠã­ãŒã„ã—ã¾ã™</rt></ruby> (choosing coffee from options given).</p>
                        <h4><span class="ref-badge">MNN L5</span> ã§ particle (means/method)</h4>
                        <p>In MNN Lesson 5, you learned ã§ for means: ãƒã‚¹ã§<ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã™ ("I go by bus"). The ã§ in N ã§ï½ at restaurants is related â€” it marks your choice as the "means" by which you'll proceed with your order.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 7: Quiz 3 ==================== -->
        <div class="slide" data-slide="7">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>N ã§ï½</h2>
                </div>

                <div class="quiz-question" id="q7-block">
                    <div class="question-number">Question 1 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">The waiter asks if you want table or counter seating. You choose counter (ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼).</div>
                    <div class="fill-blank">
                        ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼<input type="text" class="blank-input" id="q7-input" placeholder="ï¼Ÿ" style="min-width: 50px;">ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚
                    </div>
                    <div class="feedback" id="q7-feedback"></div>
                </div>

                <div class="quiz-question" id="q8-block">
                    <div class="question-number">Question 2 of 3 â€” Multiple Choice</div>
                    <div class="question-context">The staff recommends the daily special. You want to accept. Which is the most natural response?</div>
                    <div class="mc-options" id="q8-options">
                        <div class="mc-option" onclick="selectMC('q8', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ã˜ã‚ƒã‚ã€ãã‚Œã§ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q8', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ã˜ã‚ƒã‚ã€ãã‚Œã‚’ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q8', 2, this)">
                            <div class="mc-radio"></div>
                            <span>Both are natural and acceptable.</span>
                        </div>
                    </div>
                    <div class="feedback" id="q8-feedback"></div>
                </div>

                <div class="quiz-question" id="q9-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Asked about rice portion size, you want a normal amount. How do you respond?</div>
                    <div class="mc-options" id="q9-options">
                        <div class="mc-option" onclick="selectMC('q9', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby>ã§ã ã„ã˜ã‚‡ã†ã¶ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q9', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby>ãŒã ã„ã˜ã‚‡ã†ã¶ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q9', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby>ã‚’ã ã„ã˜ã‚‡ã†ã¶ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q9-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz3()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 8: Grammar 4 â€” ï½ã®ã¯ã€N ã§ã™ ==================== -->
        <div class="slide" data-slide="8">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 4</span>
                    <div>
                        <h2>ï½ã®ã¯ã€N ã§ã™</h2>
                        <span class="jp-title">Nominalization for Recommendations</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>This expression uses <strong>ã® (nominalizer)</strong> to turn a verb or adjective phrase into a noun-like topic, then identifies what that thing is. The pattern ï½ã®ã¯ã€N ã§ã™ means something like "The one that is ~/The thing that ~ is N." In restaurants, it's used to <strong>answer questions about popular dishes, recommendations, or what's delicious</strong>.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div style="display: grid; gap: 8px; margin-top: 12px;">
                        <div class="structure-formula"><span class="highlight">ãƒŠA-ãª</span> + ã®ã¯ã€<span class="accent">N ã§ã™</span></div>
                        <div class="structure-formula"><span class="highlight">ã‚¤A-ã„</span> + ã®ã¯ã€<span class="accent">N ã§ã™</span></div>
                        <div class="structure-formula"><span class="highlight">V-ã‚‹ (plain)</span> + ã®ã¯ã€<span class="accent">N ã§ã™</span></div>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">The phrase before ã®ã¯ sets up the precondition or description; N is the answer.</p>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 1 â€” What's popular?</div>
                    <div class="example-japanese"><ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>ãŒã‚ã‚‹<strong>ã®ã¯</strong>ã€ãŠ<ruby>åˆºèº«<rt>ã•ã—ã¿</rt></ruby><ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã§ã™ã€‚</div>
                    <div class="example-english">The popular one is the sashimi set meal.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 2 â€” What's delicious?</div>
                    <div class="example-japanese">ã“ã®<ruby>åº—<rt>ã¿ã›</rt></ruby>ã§ãŠã„ã—ã„<strong>ã®ã¯</strong>ã€<ruby>è¦ªå­<rt>ãŠã‚„ã“</rt></ruby><ruby>ä¸¼<rt>ã©ã‚“</rt></ruby>ã§ã™ã‚ˆã€‚</div>
                    <div class="example-english">What's delicious at this restaurant is the oyako-don (chicken & egg rice bowl).</div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue â€” Asking for a Recommendation</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span><ruby>ä½•<rt>ãªã«</rt></ruby>ãŒãŠã„ã—ã„ã§ã™ã‹ï¼Ÿ</div>
                    <div class="conversation-translation">What is delicious here?</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ã“ã®<ruby>åº—<rt>ã¿ã›</rt></ruby>ã§ãŠã„ã—ã„<strong>ã®ã¯</strong>ã€<ruby>è¦ªå­<rt>ãŠã‚„ã“</rt></ruby><ruby>ä¸¼<rt>ã©ã‚“</rt></ruby>ã§ã™ã‚ˆã€‚</div>
                    <div class="conversation-translation">What's delicious at this restaurant is the oyako-don.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 3 â€” What's popular?</div>
                    <div class="example-japanese">ã‚ˆãã¿ã‚“ãªãŒ<ruby>æ³¨æ–‡<rt>ã¡ã‚…ã†ã‚‚ã‚“</rt></ruby>ã™ã‚‹<strong>ã®ã¯</strong>ã€ãƒŸãƒƒã‚¯ã‚¹ãƒ•ãƒ©ã‚¤<ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã§ã™ã€‚</div>
                    <div class="example-english">What everyone often orders is the assorted fried food set meal.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> Think of ã® as a "thing" or "one." ãŠã„ã—ã„ã® = "the delicious one / the thing that's delicious." <ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>ãŒã‚ã‚‹ã® = "the one that's popular." Then ã¯ marks it as the topic, and N ã§ã™ provides the answer. It's a very elegant way to present information â€” much more natural than saying è¦ªå­ä¸¼ã¯ãŠã„ã—ã„ã§ã™ ("Oyako-don is delicious") when someone asks "What should I try?"
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L22</span> Noun modification (plain form + noun)</h4>
                        <p>In MNN Lesson 22, you learned to modify nouns with plain-form clauses: ãŠã„ã—ã„<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby> ("delicious food"). The ï½ã®ã¯ pattern takes this one step further by using ã® to <strong>nominalize the entire clause</strong>: ãŠã„ã—ã„ã® = "the delicious one / the thing that is delicious." This creates a flexible, topic-comment structure.</p>
                        <h4><span class="ref-badge">MNN L25</span> ï½ãŸã‚‰ / ï½ã¦ã‚‚ (conditionals)</h4>
                        <p>By MNN L25, you've mastered complex sentence structures. The ï½ã®ã¯ã€N ã§ã™ pattern continues this progression by letting you create sophisticated answers like ã‚ˆãã¿ã‚“ãªãŒ<ruby>æ³¨æ–‡<rt>ã¡ã‚…ã†ã‚‚ã‚“</rt></ruby>ã™ã‚‹ã®ã¯ ("What everyone often orders isâ€¦").</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 9: Quiz 4 ==================== -->
        <div class="slide" data-slide="9">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>ï½ã®ã¯ã€N ã§ã™</h2>
                </div>

                <div class="quiz-question" id="q10-block">
                    <div class="question-number">Question 1 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">"The popular one is the ramen." Fill in the gap.</div>
                    <div class="fill-blank">
                        <ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>ãŒã‚ã‚‹<input type="text" class="blank-input" id="q10-input" placeholder="ï¼Ÿ" style="min-width: 70px;">ã€ãƒ©ãƒ¼ãƒ¡ãƒ³ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q10-feedback"></div>
                </div>

                <div class="quiz-question" id="q11-block">
                    <div class="question-number">Question 2 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Someone asks <ruby>ä½•<rt>ãªã«</rt></ruby>ãŒãŠã™ã™ã‚ã§ã™ã‹? Which response uses ï½ã®ã¯ correctly?</div>
                    <div class="mc-options" id="q11-options">
                        <div class="mc-option" onclick="selectMC('q11', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã™ã™ã‚ã®ã¯ã€ã‚«ãƒ¬ãƒ¼ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q11', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã™ã™ã‚ãªã®ã¯ã€ã‚«ãƒ¬ãƒ¼ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q11', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã™ã™ã‚ã ã®ã¯ã€ã‚«ãƒ¬ãƒ¼ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q11-feedback"></div>
                </div>

                <div class="quiz-question" id="q12-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">What does ã® do in the pattern ï½ã®ã¯ã€N ã§ã™?</div>
                    <div class="mc-options" id="q12-options">
                        <div class="mc-option" onclick="selectMC('q12', 0, this)">
                            <div class="mc-radio"></div>
                            <span>It makes the sentence more polite.</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q12', 1, this)">
                            <div class="mc-radio"></div>
                            <span>It turns the preceding phrase into a noun-like topic ("the one that is ~").</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q12', 2, this)">
                            <div class="mc-radio"></div>
                            <span>It shows possession (like ã® in ç§ã®æœ¬).</span>
                        </div>
                    </div>
                    <div class="feedback" id="q12-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz4()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 10: Integrated Practice ==================== -->
        <div class="slide" data-slide="10">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Practice</span>
                    <div>
                        <h2>ğŸ¯ Putting It All Together</h2>
                        <span class="jp-title"><ruby>ç·åˆ<rt>ãã†ã”ã†</rt></ruby><ruby>ç·´ç¿’<rt>ã‚Œã‚“ã—ã‚…ã†</rt></ruby></span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ—£ï¸ Full Restaurant Scenario Using All 4 Grammar Points</h3>
                    <p>Read through this conversation at a Japanese restaurant and identify each grammar structure.</p>
                </div>

                <div class="conversation-box" style="border-left-color: var(--primary);">
                    <div class="example-label" style="color: var(--primary-dark);">ğŸŒŸ Model Conversation â€” Ordering at a Restaurant</div>
                    
                    <div class="conversation-line"><span class="speaker">Staffï¼š</span>ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãŒã”ã–ã„ã¾ã™ãŒâ€¦ã€‚</div>
                    <div class="conversation-translation">We have table and counter seating...</div>
                    <div class="conversation-line"><span class="speaker b">Youï¼š</span>ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼<strong>ã§</strong>ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚<span style="color: var(--text-muted); font-size: 0.8rem;"> â† N ã§</span></div>
                    <div class="conversation-translation">Counter, please.</div>

                    <div class="conversation-line"><span class="speaker">Staffï¼š</span>ã”<ruby>æ³¨æ–‡<rt>ã¡ã‚…ã†ã‚‚ã‚“</rt></ruby>ã¯ï¼Ÿ</div>
                    <div class="conversation-translation">Your order?</div>
                    <div class="conversation-line"><span class="speaker b">Youï¼š</span><ruby>ä½•<rt>ãªã«</rt></ruby>ãŒãŠã™ã™ã‚ã§ã™ã‹ï¼Ÿ</div>
                    <div class="conversation-translation">What do you recommend?</div>

                    <div class="conversation-line"><span class="speaker">Staffï¼š</span><ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>ãŒã‚ã‚‹<strong>ã®ã¯</strong>ã€ãŠ<ruby>åˆºèº«<rt>ã•ã—ã¿</rt></ruby><ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã§ã™ã€‚<span style="color: var(--text-muted); font-size: 0.8rem;"> â† ï½ã®ã¯</span></div>
                    <div class="conversation-translation">The popular one is the sashimi set meal.</div>

                    <div class="conversation-line"><span class="speaker b">Youï¼š</span>ãˆã³ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ãŒã‚ã‚‹<strong>ã®ã§</strong>ã€ãˆã³ã¯<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ã‚Œãªã„ã‚“ã§ã™ãŒâ€¦ã€‚<span style="color: var(--text-muted); font-size: 0.8rem;"> â† ã®ã§</span></div>
                    <div class="conversation-translation">I have a shrimp allergy, so I can't eat shrimp...</div>

                    <div class="conversation-line"><span class="speaker">Staffï¼š</span>ãŠ<ruby>åˆºèº«<rt>ã•ã—ã¿</rt></ruby><ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã«ã¯ãˆã³ã¯<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã„ã¾ã›ã‚“ã€‚</div>
                    <div class="conversation-translation">The sashimi set meal doesn't have shrimp in it.</div>

                    <div class="conversation-line"><span class="speaker b">Youï¼š</span>ã‚ã€<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ãªã„ã‚“ã§ã™ã­ã€‚ã˜ã‚ƒã‚ã€ãã‚Œ<strong>ã§</strong>ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™ã€‚<span style="color: var(--text-muted); font-size: 0.8rem;"> â† N ã§</span></div>
                    <div class="conversation-translation">Oh, it doesn't? Then I'll have that, please.</div>

                    <div class="conversation-line"><span class="speaker b">Youï¼š</span>ã‚ã¨ã€ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã¯ãŠã‹ã‚ã‚Šã§ãã¾ã™<strong>ã‚ˆã­</strong>ã€‚<span style="color: var(--text-muted); font-size: 0.8rem;"> â† ã‚ˆã­</span></div>
                    <div class="conversation-translation">Also, you can get rice refills, right?</div>
                    <div class="conversation-line"><span class="speaker">Staffï¼š</span>ã¯ã„ã€ã§ãã¾ã™ã‚ˆã€‚</div>
                    <div class="conversation-translation">Yes, you can!</div>
                </div>

                <div class="key-point">
                    <strong>âœ¨ Challenge:</strong> Try creating your own restaurant conversation! Include at least one use of each grammar point: explain a dietary restriction (ã®ã§), confirm a menu detail (ã‚ˆã­), make a selection (N ã§), and give a recommendation (ï½ã®ã¯).
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 11: Final Quiz ==================== -->
        <div class="slide" data-slide="11">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ† Final Challenge</span>
                    <h2>Comprehensive Quiz â€” All Grammar Points</h2>
                </div>

                <div class="quiz-question" id="q13-block">
                    <div class="question-number">Question 1 of 3</div>
                    <div class="question-context">Fill in: "Because I came by car, I can't drink." (politely)</div>
                    <div class="fill-blank">
                        <ruby>è»Š<rt>ãã‚‹ã¾</rt></ruby>ã§<ruby>æ¥<rt>ã</rt></ruby>ãŸ<input type="text" class="blank-input" id="q13-input" placeholder="ï¼Ÿ" style="min-width: 70px;">ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚ãªã„ã‚“ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q13-feedback"></div>
                </div>

                <div class="quiz-question" id="q14-block">
                    <div class="question-number">Question 2 of 3</div>
                    <div class="question-context">Someone asks "What's delicious here?" Complete the answer: "The delicious thing is the tempura."</div>
                    <div class="mc-options" id="q14-options">
                        <div class="mc-option" onclick="selectMC('q14', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã„ã—ã„ã®ã¯ã€<ruby>å¤©<rt>ã¦ã‚“</rt></ruby>ã·ã‚‰ã§ã™ã‚ˆã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q14', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã„ã—ã„ã®ãŒã€<ruby>å¤©<rt>ã¦ã‚“</rt></ruby>ã·ã‚‰ã§ã™ã‚ˆã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q14', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ãŠã„ã—ã„ãªã®ã¯ã€<ruby>å¤©<rt>ã¦ã‚“</rt></ruby>ã·ã‚‰ã§ã™ã‚ˆã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q14-feedback"></div>
                </div>

                <div class="quiz-question" id="q15-block">
                    <div class="question-number">Question 3 of 3</div>
                    <div class="question-context">Fill in the correct particle combination: "This set meal comes with miso soup, right?"</div>
                    <div class="question-text">ã“ã®<ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby>ã€ã¿ã<ruby>æ±<rt>ã—ã‚‹</rt></ruby>ãŒã¤ãã¾ã™ï¼¿ï¼¿ï¼¿ã€‚</div>
                    <div class="fill-blank">
                        ã¿ã<ruby>æ±<rt>ã—ã‚‹</rt></ruby>ãŒã¤ãã¾ã™<input type="text" class="blank-input" id="q15-input" placeholder="ï¼Ÿ" style="min-width: 60px;">ã€‚
                    </div>
                    <div class="feedback" id="q15-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuizFinal()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 12: Bonus â€” ã®ã§ vs. ã‹ã‚‰ ==================== -->
        <div class="slide" data-slide="12">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Bonus</span>
                    <div>
                        <h2>âš–ï¸ ã®ã§ vs. ã‹ã‚‰ â€” Deep Comparison</h2>
                        <span class="jp-title"><ruby>ç†ç”±<rt>ã‚Šã‚†ã†</rt></ruby>ã®<ruby>è¡¨ç¾<rt>ã²ã‚‡ã†ã’ã‚“</rt></ruby></span>
                    </div>
                </div>

                <div class="example-comparison">
                    <div class="polite-box">
                        <div class="style-label">ğŸŸ¢ ã®ã§ â€” Objective / Soft</div>
                        <p style="font-size: 0.95rem; margin-bottom: 10px; color: var(--primary-dark);"><strong>Nuance:</strong> "Due to X, naturally Y follows"</p>
                        <p style="font-size: 0.9rem; margin-bottom: 4px;">ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ãŒ<strong>ã‚ã‚‹ã®ã§</strong>â€¦</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px;">(neutral, factual tone)</p>
                        <p style="font-size: 0.9rem; margin-bottom: 4px;"><strong>Best for:</strong></p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">âœ“ Formal settings<br>âœ“ Declining food/drink<br>âœ“ Speaking to superiors<br>âœ“ Written Japanese</p>
                    </div>
                    <div class="plain-box">
                        <div class="style-label">ğŸŸ¡ ã‹ã‚‰ â€” Subjective / Direct</div>
                        <p style="font-size: 0.95rem; margin-bottom: 10px; color: var(--accent-dark);"><strong>Nuance:</strong> "Because I say X, therefore Y"</p>
                        <p style="font-size: 0.9rem; margin-bottom: 4px;">ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ãŒ<strong>ã‚ã‚‹ã‹ã‚‰</strong>â€¦</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 10px;">(more personal, assertive tone)</p>
                        <p style="font-size: 0.9rem; margin-bottom: 4px;"><strong>Best for:</strong></p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">âœ“ Casual conversation<br>âœ“ With friends/family<br>âœ“ Strong personal reasons<br>âœ“ Spoken Japanese</p>
                    </div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Connection Rule:</strong> ã®ã§ connects to the <strong>plain form</strong>, with one special case: ãƒŠ-adjectives and nouns use <strong>ãª</strong> (not ã ) before ã®ã§. ã‹ã‚‰ can connect to both plain and polite forms. Compare: <ruby>é™<rt>ã—ãš</rt></ruby>ã‹<strong>ãª</strong>ã®ã§ (correct) vs. é™ã‹ã ã®ã§ (incorrect!) vs. é™ã‹ã ã‹ã‚‰ (correct!).
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 13: Vocabulary ==================== -->
        <div class="slide" data-slide="13">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Reference</span>
                    <div>
                        <h2>ğŸ“– Key Vocabulary</h2>
                        <span class="jp-title"><ruby>é‡è¦<rt>ã˜ã‚…ã†ã‚ˆã†</rt></ruby>ãª<ruby>èªå½™<rt>ã”ã„</rt></ruby></span>
                    </div>
                </div>

                <div class="explanation"><h3>ğŸ½ï¸ Restaurant & Food</h3></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Japanese</th><th>Reading</th><th>Meaning</th></tr></thead>
                        <tbody>
                            <tr><td><ruby>å®šé£Ÿ<rt>ã¦ã„ã—ã‚‡ã</rt></ruby></td><td>ã¦ã„ã—ã‚‡ã</td><td>set meal</td></tr>
                            <tr><td><ruby>åˆºèº«<rt>ã•ã—ã¿</rt></ruby></td><td>ã•ã—ã¿</td><td>sashimi (raw fish)</td></tr>
                            <tr><td><ruby>è¦ªå­<rt>ãŠã‚„ã“</rt></ruby><ruby>ä¸¼<rt>ã©ã‚“</rt></ruby></td><td>ãŠã‚„ã“ã©ã‚“</td><td>chicken & egg rice bowl</td></tr>
                            <tr><td>ãƒŸãƒƒã‚¯ã‚¹ãƒ•ãƒ©ã‚¤</td><td>ã¿ã£ãã™ãµã‚‰ã„</td><td>assorted fried food</td></tr>
                            <tr><td><ruby>å¤§ç››<rt>ãŠãŠã‚‚</rt></ruby>ã‚Š</td><td>ãŠãŠã‚‚ã‚Š</td><td>extra-large portion</td></tr>
                            <tr><td><ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby></td><td>ãµã¤ã†</td><td>regular, normal</td></tr>
                            <tr><td>ãŠã‹ã‚ã‚Š</td><td>ãŠã‹ã‚ã‚Š</td><td>refill, second helping</td></tr>
                            <tr><td><ruby>åº§æ•·<rt>ã–ã—ã</rt></ruby></td><td>ã–ã—ã</td><td>tatami seating</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="explanation"><h3>ğŸ«˜ Dietary & Allergy Words</h3></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Japanese</th><th>Reading</th><th>Meaning</th></tr></thead>
                        <tbody>
                            <tr><td>ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼</td><td>ã‚ã‚Œã‚‹ããƒ¼</td><td>allergy</td></tr>
                            <tr><td>ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³</td><td>ã¹ã˜ãŸã‚Šã‚ã‚“</td><td>vegetarian</td></tr>
                            <tr><td><ruby>è‚‰<rt>ã«ã</rt></ruby></td><td>ã«ã</td><td>meat</td></tr>
                            <tr><td><ruby>é­š<rt>ã•ã‹ãª</rt></ruby></td><td>ã•ã‹ãª</td><td>fish</td></tr>
                            <tr><td>ãˆã³</td><td>ãˆã³</td><td>shrimp</td></tr>
                            <tr><td>ã‚ã•ã³</td><td>ã‚ã•ã³</td><td>wasabi</td></tr>
                            <tr><td><ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã„ã‚‹</td><td>ã¯ã„ã£ã¦ã„ã‚‹</td><td>is included, contains</td></tr>
                            <tr><td><ruby>æ³¨æ–‡<rt>ã¡ã‚…ã†ã‚‚ã‚“</rt></ruby>ã™ã‚‹</td><td>ã¡ã‚…ã†ã‚‚ã‚“ã™ã‚‹</td><td>to order</td></tr>
                            <tr><td><ruby>æ··<rt>ã“</rt></ruby>ã‚“ã§ã„ã‚‹</td><td>ã“ã‚“ã§ã„ã‚‹</td><td>is crowded</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="explanation"><h3>ğŸ—£ï¸ Useful Restaurant Phrases</h3></div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>Japanese</th><th>Meaning</th></tr></thead>
                        <tbody>
                            <tr><td>N ã§ãŠ<ruby>é¡˜<rt>ã­ãŒ</rt></ruby>ã„ã—ã¾ã™</td><td>N, please (selecting)</td></tr>
                            <tr><td>N ã§ã ã„ã˜ã‚‡ã†ã¶ã§ã™</td><td>N is fine</td></tr>
                            <tr><td>ã˜ã‚ƒã‚ã€ãã‚Œã§</td><td>Okay, I'll go with that</td></tr>
                            <tr><td><ruby>ä½•<rt>ãªã«</rt></ruby>ãŒãŠã™ã™ã‚ã§ã™ã‹</td><td>What do you recommend?</td></tr>
                            <tr><td>ãŠã„ã—ã„ã®ã¯<ruby>ä½•<rt>ãªã‚“</rt></ruby>ã§ã™ã‹</td><td>What's delicious here?</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 14: Particle Endings Comparison ==================== -->
        <div class="slide" data-slide="14">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Bonus</span>
                    <div>
                        <h2>ğŸ”‘ Sentence Endings: ã‚ˆ vs. ã­ vs. ã‚ˆã­</h2>
                        <span class="jp-title"><ruby>çµ‚åŠ©è©<rt>ã—ã‚…ã†ã˜ã‚‡ã—</rt></ruby>ã¾ã¨ã‚</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ“Š Complete Comparison â€” All Three Particles</h3>
                    <p>Across Lessons 2 and 3, you've now learned all three major sentence-ending particles. Here's how they work together:</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Particle</th>
                                <th>Who Knows?</th>
                                <th>Function</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="font-weight: 700; color: var(--primary);">ã‚ˆ</td>
                                <td>Speaker knows âœ“<br>Listener doesn't âœ—</td>
                                <td>Giving NEW information or alerting</td>
                                <td>ã‚ã®<ruby>äºº<rt>ã²ã¨</rt></ruby>ã§ã™<strong>ã‚ˆ</strong>ã€‚<br><em>"It's that person." (FYI!)</em></td>
                            </tr>
                            <tr>
                                <td style="font-weight: 700; color: var(--accent-dark);">ã­</td>
                                <td>Both know âœ“âœ“</td>
                                <td>Seeking agreement / confirming SHARED info</td>
                                <td>ã„ã„<ruby>å¤©æ°—<rt>ã¦ã‚“ã</rt></ruby>ã§ã™<strong>ã­</strong>ã€‚<br><em>"Nice weather, right?"</em></td>
                            </tr>
                            <tr>
                                <td style="font-weight: 700; color: var(--secondary);">ã‚ˆã­</td>
                                <td>Speaker thinks âœ“<br>Wants confirmation</td>
                                <td>Asserting belief + asking to confirm</td>
                                <td>ã‚ã•ã³<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã¾ã™<strong>ã‚ˆã­</strong>ã€‚<br><em>"It has wasabi, doesn't it?"</em></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Restaurant Context:</strong> At a restaurant, you'll naturally use all three. ã‚ˆ when telling a friend about a dish ("This is really good, you know!"). ã­ when agreeing about the food ("This is delicious, isn't it!"). ã‚ˆã­ when confirming with staff ("You can get refills, right?").
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 15: Summary ==================== -->
        <div class="slide" data-slide="15">
            <div class="summary-card">
                <h2>ğŸ‰ Lesson 3 Complete!</h2>
                <p>ğŸ½ï¸ ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ã§ â€” At a Restaurant</p>
                <p>You've mastered 4 essential grammar points for dining out in Japanese!</p>

                <div class="summary-points">
                    <div class="summary-point">
                        <h4>â¶ S1 ã®ã§ã€S2</h4>
                        <p>Polite reasons: "Because I'm a vegetarian..."</p>
                    </div>
                    <div class="summary-point">
                        <h4>â· S ã‚ˆã­</h4>
                        <p>Confirm beliefs: "It has wasabi, right?"</p>
                    </div>
                    <div class="summary-point">
                        <h4>â¸ N ã§ï½</h4>
                        <p>Select & choose: "Table seating, please"</p>
                    </div>
                    <div class="summary-point">
                        <h4>â¹ ï½ã®ã¯ã€N ã§ã™</h4>
                        <p>Recommend: "The popular one is the sashimi set"</p>
                    </div>
                </div>

                <button class="restart-btn" onclick="restartPresentation()">
                    ğŸ”„ Start Over
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== Navigation ==========
        let currentSlide = 1;
        const totalSlides = 15;

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            const active = document.querySelector(`[data-slide="${currentSlide}"]`);
            if (active) active.classList.add('active');
            document.getElementById('currentSlide').textContent = currentSlide;
            document.getElementById('totalSlides').textContent = totalSlides;
            const progress = ((currentSlide - 1) / (totalSlides - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextSlide() { if (currentSlide < totalSlides) { currentSlide++; updateSlide(); } }
        function prevSlide() { if (currentSlide > 1) { currentSlide--; updateSlide(); } }
        function goToSlide(n) { currentSlide = n; updateSlide(); }
        function restartPresentation() { currentSlide = 1; updateSlide(); }

        function toggleRef(button) {
            const content = button.nextElementSibling;
            button.classList.toggle('open');
            content.classList.toggle('open');
        }

        // ========== MC Selection ==========
        const mcSelections = {};
        function selectMC(qId, index, element) {
            if (element.classList.contains('disabled')) return;
            document.querySelectorAll(`#${qId}-options .mc-option`).forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            mcSelections[qId] = index;
        }

        function showFeedback(id, isCorrect, message) {
            const fb = document.getElementById(id);
            fb.className = 'feedback show ' + (isCorrect ? 'correct' : 'incorrect');
            fb.innerHTML = `<strong>${isCorrect ? 'âœ… Correct!' : 'âŒ Not quite.'}</strong> ${message}`;
        }

        function disableMCOptions(qId) {
            document.querySelectorAll(`#${qId}-options .mc-option`).forEach(opt => opt.classList.add('disabled'));
        }
        function markMCCorrect(qId, correctIndex) {
            const options = document.querySelectorAll(`#${qId}-options .mc-option`);
            options.forEach((opt, i) => {
                if (i === correctIndex) opt.classList.add('correct-option');
                else if (opt.classList.contains('selected')) opt.classList.add('incorrect-option');
            });
        }

        // ========== Quiz 1: ã®ã§ ==========
        function checkQuiz1() {
            const q1val = document.getElementById('q1-input').value.trim();
            if (q1val) {
                const correct = q1val === 'ãªã®ã§';
                document.getElementById('q1-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q1-feedback', correct, correct
                    ? 'ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ãªã®ã§</strong> â€” since ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ is a ãƒŠ-adjective/noun, it takes ãª before ã®ã§. Perfect!'
                    : 'The correct answer is <strong>ãªã®ã§</strong>. ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³ is treated as a ãƒŠ-adjective/noun, so it needs ãª before ã®ã§: ãƒ™ã‚¸ã‚¿ãƒªã‚¢ãƒ³<strong>ãª</strong>ã®ã§. Remember: ãƒŠ-adj/Noun + ãªã®ã§ (not ã ã®ã§).');
            }
            const q2ans = mcSelections['q2'];
            if (q2ans !== undefined) {
                const correct = q2ans === 1;
                showFeedback('q2-feedback', correct, correct
                    ? 'å®‰ã„<strong>ã®ã§</strong>ã€ã‚ˆãæ¥ã¾ã™ â€” ã®ã§ gives the softer, more polite reason. ã‹ã‚‰ is also correct but more direct, and ã‘ã© means "but" (contrast, not reason).'
                    : 'The correct answer is <strong>ã®ã§</strong>. Both ã®ã§ and ã‹ã‚‰ give reasons, but ã®ã§ is softer and more polite. ã‘ã© means "but" â€” it\'s for contrast, not giving reasons.');
                markMCCorrect('q2', 1); disableMCOptions('q2');
            }
            const q3ans = mcSelections['q3'];
            if (q3ans !== undefined) {
                const correct = q3ans === 1;
                showFeedback('q3-feedback', correct, correct
                    ? 'æœ‰å<strong>ãªã®ã§</strong> â€” ãƒŠ-adjectives use ãª (not ã  or ã®) before ã®ã§. This is the most common mistake with ã®ã§!'
                    : 'The correct answer is æœ‰å<strong>ãªã®ã§</strong>. The critical rule: ãƒŠ-adjectives and nouns use <strong>ãª</strong> before ã®ã§. NOT ã ã®ã§ (option A) or ã®ã®ã§ (option C). This ãª replaces the usual ã .');
                markMCCorrect('q3', 1); disableMCOptions('q3');
            }
        }

        // ========== Quiz 2: ã‚ˆã­ ==========
        function checkQuiz2() {
            const q4ans = mcSelections['q4'];
            if (q4ans !== undefined) {
                const correct = q4ans === 1;
                showFeedback('q4-feedback', correct, correct
                    ? 'You <em>think</em> it closes at 10pm and want to confirm â€” that\'s exactly when to use ã‚ˆã­! ã‹ would be a genuine question (you have no idea), and ã‚ˆ would be you telling the staff (unlikely).'
                    : 'The correct answer is <strong>ã‚ˆã­</strong>. Since you already believe it closes at 10pm and want confirmation, ã‚ˆã­ ("It closes at 10, right?") is perfect. ã‹ is for when you genuinely don\'t know, and ã‚ˆ is for informing someone.');
                markMCCorrect('q4', 1); disableMCOptions('q4');
            }
            const q5val = document.getElementById('q5-input').value.trim();
            if (q5val) {
                const correct = q5val === 'ã‚ˆã­';
                document.getElementById('q5-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q5-feedback', correct, correct
                    ? 'ãˆã³ãŒå…¥ã£ã¦ã¾ã™<strong>ã‚ˆã­</strong> â€” you believe shrimp is in the dish and want to confirm. This is crucial for allergy safety!'
                    : 'The correct answer is <strong>ã‚ˆã­</strong>. You believe this dish contains shrimp and want to confirm: "This dish has shrimp in it, doesn\'t it?" This is the confirming-your-belief function of ã‚ˆã­.');
            }
            const q6ans = mcSelections['q6'];
            if (q6ans !== undefined) {
                const correct = q6ans === 1;
                showFeedback('q6-feedback', correct, correct
                    ? 'Exactly! ã‚ˆã­ = ã‚ˆ (I assert this) + ã­ (you agree?). It\'s for when you have a belief and want confirmation. ã­ alone assumes both people already share the knowledge.'
                    : 'The correct answer is that <strong>ã‚ˆã­ asserts your belief AND asks for confirmation</strong>. ã­ assumes shared knowledge ("Nice weather, right?"), while ã‚ˆã­ says "I believe X â€” can you confirm?" They\'re similar but not identical.');
                markMCCorrect('q6', 1); disableMCOptions('q6');
            }
        }

        // ========== Quiz 3: N ã§ ==========
        function checkQuiz3() {
            const q7val = document.getElementById('q7-input').value.trim();
            if (q7val) {
                const correct = q7val === 'ã§';
                document.getElementById('q7-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q7-feedback', correct, correct
                    ? 'ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼<strong>ã§</strong>ãŠé¡˜ã„ã—ã¾ã™ â€” the ã§ particle marks your selection from the offered options. Clean and natural!'
                    : 'The correct answer is <strong>ã§</strong>. When selecting from options given by the staff, use N ã§: ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã§ ("I\'ll go with counter seating").');
            }
            const q8ans = mcSelections['q8'];
            if (q8ans !== undefined) {
                const correct = q8ans === 2;
                showFeedback('q8-feedback', correct, correct
                    ? 'Both are natural! ãã‚Œ<strong>ã§</strong> ("I\'ll go with that" â€” selecting from options) and ãã‚Œ<strong>ã‚’</strong> ("I\'ll take that" â€” ordering a specific item) are both perfectly acceptable at a restaurant.'
                    : 'The correct answer is <strong>both are natural</strong>. ãã‚Œã§ marks a selection from options ("I\'ll go with that"), while ãã‚Œã‚’ is a direct order ("I\'ll take that"). Both work perfectly in this restaurant context.');
                markMCCorrect('q8', 2); disableMCOptions('q8');
            }
            const q9ans = mcSelections['q9'];
            if (q9ans !== undefined) {
                const correct = q9ans === 0;
                showFeedback('q9-feedback', correct, correct
                    ? 'æ™®é€š<strong>ã§</strong>ã ã„ã˜ã‚‡ã†ã¶ã§ã™ â€” "A normal portion is fine." ã§ marks your selection, and ã ã„ã˜ã‚‡ã†ã¶ã§ã™ softens the response.'
                    : 'The correct answer is æ™®é€š<strong>ã§</strong>ã ã„ã˜ã‚‡ã†ã¶ã§ã™. The particle ã§ marks your choice. ãŒ marks the subject (wrong use here), and ã‚’ marks a direct object (also wrong context).');
                markMCCorrect('q9', 0); disableMCOptions('q9');
            }
        }

        // ========== Quiz 4: ï½ã®ã¯ ==========
        function checkQuiz4() {
            const q10val = document.getElementById('q10-input').value.trim();
            if (q10val) {
                const correct = q10val === 'ã®ã¯';
                document.getElementById('q10-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q10-feedback', correct, correct
                    ? 'äººæ°—ãŒã‚ã‚‹<strong>ã®ã¯</strong>ã€ãƒ©ãƒ¼ãƒ¡ãƒ³ã§ã™ â€” ã® nominalizes the phrase ("the thing that is popular") and ã¯ marks it as the topic.'
                    : 'The correct answer is <strong>ã®ã¯</strong>. ã® turns äººæ°—ãŒã‚ã‚‹ into a noun phrase ("the popular one"), and ã¯ marks it as the topic: "The popular one is ramen."');
            }
            const q11ans = mcSelections['q11'];
            if (q11ans !== undefined) {
                const correct = q11ans === 1;
                showFeedback('q11-feedback', correct, correct
                    ? 'ãŠã™ã™ã‚<strong>ãªã®ã¯</strong>ã€ã‚«ãƒ¬ãƒ¼ã§ã™ â€” ãŠã™ã™ã‚ is a ãƒŠ-adjective, so it needs ãª before ã®ã¯. Just like ã®ã§: ãƒŠ-adj + ãª + ã®ã¯.'
                    : 'The correct answer is ãŠã™ã™ã‚<strong>ãªã®ã¯</strong>. Since ãŠã™ã™ã‚ is a ãƒŠ-adjective, it requires ãª before ã®ã¯: ãŠã™ã™ã‚ + ãª + ã®ã¯. Option A drops the ãª, and option C uses ã  instead of ãª (same error pattern as with ã®ã§).');
                markMCCorrect('q11', 1); disableMCOptions('q11');
            }
            const q12ans = mcSelections['q12'];
            if (q12ans !== undefined) {
                const correct = q12ans === 1;
                showFeedback('q12-feedback', correct, correct
                    ? 'ã® here is a <strong>nominalizer</strong> â€” it turns an adjective/verb phrase into a noun-like topic: ãŠã„ã—ã„ã® = "the delicious one / the thing that is delicious." This is different from the possessive ã® in ç§ã®æœ¬.'
                    : 'The correct answer is that ã® <strong>turns the phrase into a noun-like topic</strong> (nominalization). ãŠã„ã—ã„ã® = "the thing that is delicious." This is a grammatical function, not politeness or possession.');
                markMCCorrect('q12', 1); disableMCOptions('q12');
            }
        }

        // ========== Final Quiz ==========
        function checkQuizFinal() {
            const q13val = document.getElementById('q13-input').value.trim();
            if (q13val) {
                const correct = q13val === 'ã®ã§';
                document.getElementById('q13-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q13-feedback', correct, correct
                    ? 'è»Šã§æ¥ãŸ<strong>ã®ã§</strong>ã€é£²ã‚ãªã„ã‚“ã§ã™ â€” the verb æ¥ãŸ is in plain past form, so ã®ã§ attaches directly. Polite and natural for declining drinks!'
                    : 'The correct answer is <strong>ã®ã§</strong>. The verb æ¥ã‚‹ â†’ æ¥ãŸ (past plain form) + ã®ã§. Since æ¥ãŸ is a verb (not a ãƒŠ-adj), you don\'t need ãª â€” just add ã®ã§ directly.');
            }
            const q14ans = mcSelections['q14'];
            if (q14ans !== undefined) {
                const correct = q14ans === 0;
                showFeedback('q14-feedback', correct, correct
                    ? 'ãŠã„ã—ã„<strong>ã®ã¯</strong>ã€å¤©ã·ã‚‰ã§ã™ã‚ˆ â€” ãŠã„ã—ã„ is an ã‚¤-adjective, so ã®ã¯ attaches directly (no ãª needed). The ã‚ˆ adds the nuance of sharing new info.'
                    : 'The correct answer is ãŠã„ã—ã„<strong>ã®ã¯</strong>. Since ãŠã„ã—ã„ is an ã‚¤-adjective, ã® attaches directly: ãŠã„ã—ã„ã®ã¯. Option B uses ãŒ instead of ã¯ (wrong topic marker), and option C adds unnecessary ãª (only needed for ãƒŠ-adjectives).');
                markMCCorrect('q14', 0); disableMCOptions('q14');
            }
            const q15val = document.getElementById('q15-input').value.trim();
            if (q15val) {
                const correct = q15val === 'ã‚ˆã­';
                document.getElementById('q15-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q15-feedback', correct, correct
                    ? 'ã¿ãæ±ãŒã¤ãã¾ã™<strong>ã‚ˆã­</strong> â€” you believe the set meal includes miso soup and want to confirm. Perfect use of ã‚ˆã­ at a restaurant!'
                    : 'The correct answer is <strong>ã‚ˆã­</strong>. You believe the set meal comes with miso soup and want the staff to confirm: "It comes with miso soup, right?" This is the confirming-your-belief function.');
            }
        }

        // ========== Keyboard ==========
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT') return;
            if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
            else if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
        });

        // ========== Touch/Swipe ==========
        let touchStartX = 0, touchEndX = 0;
        document.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; });
        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) { diff > 0 ? nextSlide() : prevSlide(); }
        });

        // ========== Initialize ==========
        updateSlide();
    </script>
</body>
</html>
