<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã„ã‚ã©ã‚Š Irodori A2 Book 2 - Lesson 1: å…ˆé€±ã€æ—¥æœ¬ã«æ¥ãŸã°ã‹ã‚Šã§ã™</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ========== CSS Variables â€” Navy/Orange Theme ========== */
        :root {
            --primary: #1a365d;
            --primary-light: #2b6cb0;
            --primary-dark: #1a202c;
            --accent: #ed8936;
            --accent-light: #feebc8;
            --accent-dark: #c05621;
            --secondary: #4299e1;
            --secondary-light: #ebf8ff;
            --success: #38a169;
            --success-light: #c6f6d5;
            --error: #e53e3e;
            --error-light: #fed7d7;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --bg-light: #f7fafc;
            --bg-card: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #2d3748;
            --text-muted: #718096;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ========== Reset & Base ========== */
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans JP', 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, #edf2f7 100%);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ========== Progress Bar ========== */
        .progress-container {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: var(--bg-card); box-shadow: var(--shadow); padding: 12px 20px;
        }
        .progress-header {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; gap: 20px;
        }
        .progress-title {
            font-size: 0.9rem; font-weight: 600; color: var(--primary);
            display: flex; align-items: center; gap: 8px;
        }
        .progress-title .lesson-badge {
            background: var(--primary); color: white; padding: 2px 10px;
            border-radius: 20px; font-size: 0.75rem;
        }
        .progress-bar-wrapper { flex: 1; max-width: 500px; }
        .progress-bar {
            height: 8px; background: var(--border); border-radius: 10px; overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 10px; transition: width 0.5s ease; width: 0%;
        }
        .progress-text {
            font-size: 0.8rem; color: var(--text-muted); text-align: right; margin-top: 4px;
        }
        .progress-nav { display: flex; gap: 8px; }
        .nav-btn {
            background: var(--primary); color: white; border: none; padding: 8px 16px;
            border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: 500;
            transition: var(--transition); display: flex; align-items: center; gap: 6px;
        }
        .nav-btn:hover { background: var(--primary-light); transform: translateY(-1px); }
        .nav-btn:disabled {
            background: var(--border); color: var(--text-muted);
            cursor: not-allowed; transform: none;
        }

        /* ========== Main Container ========== */
        .presentation { padding-top: 80px; min-height: 100vh; }

        /* ========== Slides ========== */
        .slide {
            display: none; max-width: 1000px; margin: 0 auto;
            padding: 40px 20px; animation: fadeIn 0.5s ease;
        }
        .slide.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== Title Slide ========== */
        .title-slide { text-align: center; padding: 60px 20px; }
        .title-slide .book-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white; padding: 8px 24px; border-radius: 30px;
            font-size: 0.9rem; font-weight: 500; margin-bottom: 24px; letter-spacing: 1px;
        }
        .title-slide h1 {
            font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 700;
            color: var(--primary); margin-bottom: 16px; line-height: 1.2;
        }
        .title-slide .lesson-title-jp {
            font-size: clamp(1.5rem, 4vw, 2.5rem); color: var(--accent); margin-bottom: 8px;
        }
        .title-slide .lesson-subtitle {
            font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 40px;
        }
        .title-card {
            background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); max-width: 700px; margin: 0 auto 40px;
        }
        .title-card h2 {
            color: var(--primary); font-size: 1.3rem; margin-bottom: 20px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .grammar-list { display: grid; gap: 12px; }
        .grammar-item {
            display: flex; align-items: center; gap: 12px; padding: 12px 16px;
            background: var(--bg-light); border-radius: var(--radius);
            border-left: 4px solid var(--accent); transition: var(--transition);
        }
        .grammar-item:hover { transform: translateX(8px); background: var(--accent-light); }
        .grammar-number {
            width: 28px; height: 28px; background: var(--primary); color: white;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 0.85rem; font-weight: 600; flex-shrink: 0;
        }
        .start-btn {
            background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
            color: white; border: none; padding: 16px 48px; border-radius: 30px;
            font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); box-shadow: 0 4px 14px rgba(0,0,0,0.2);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.3); }

        /* ========== Content Slides ========== */
        .content-card {
            background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); margin-bottom: 24px;
        }
        .slide-header {
            display: flex; align-items: center; gap: 16px; margin-bottom: 32px;
            padding-bottom: 20px; border-bottom: 2px solid var(--border);
        }
        .grammar-badge {
            background: var(--primary); color: white; padding: 8px 16px;
            border-radius: 8px; font-size: 0.85rem; font-weight: 600; white-space: nowrap;
        }
        .slide-header h2 { font-size: 1.8rem; color: var(--primary); flex: 1; }
        .slide-header .jp-title { font-size: 1.3rem; color: var(--accent); font-weight: 500; }

        /* ========== Ruby (Furigana) ========== */
        ruby { ruby-position: over; }
        ruby rt { font-size: 0.6em; color: var(--text-muted); }

        /* ========== Example Boxes ========== */
        .example-box {
            background: linear-gradient(135deg, #f0f7ff 0%, #e8f4fd 100%);
            border-radius: var(--radius); padding: 24px; margin: 20px 0;
            border-left: 4px solid var(--primary);
        }
        .example-label {
            font-size: 0.8rem; font-weight: 600; color: var(--primary);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;
            display: flex; align-items: center; gap: 8px;
        }
        .example-japanese { font-size: 1.35rem; color: var(--text-primary); margin-bottom: 8px; line-height: 2.2; }
        .example-english { font-size: 1rem; color: var(--text-secondary); font-style: italic; }

        .example-comparison {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;
        }
        .polite-box, .plain-box { padding: 20px; border-radius: var(--radius); }
        .polite-box {
            background: linear-gradient(135deg, #e6fffa 0%, #b2f5ea 100%);
            border-left: 4px solid #38b2ac;
        }
        .plain-box {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-left: 4px solid #d69e2e;
        }
        .style-label {
            font-size: 0.85rem; font-weight: 600; margin-bottom: 10px;
            display: flex; align-items: center; gap: 8px;
        }
        .polite-box .style-label { color: #234e52; }
        .plain-box .style-label { color: #744210; }

        /* ========== Structure Box ========== */
        .structure-box {
            background: linear-gradient(135deg, #ecfeff 0%, #cffafe 100%);
            border-radius: var(--radius); padding: 20px; margin: 20px 0;
            border-left: 4px solid var(--accent);
        }
        .structure-box .label {
            font-size: 0.8rem; font-weight: 600; color: var(--accent-dark);
            text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px;
        }
        .structure-formula {
            font-size: 1.15rem; font-family: 'Outfit', monospace;
            color: var(--primary-dark); background: white;
            padding: 12px 20px; border-radius: 8px; display: inline-block; margin: 8px 0;
        }
        .structure-formula .highlight { color: var(--primary); font-weight: 600; }
        .structure-formula .accent { color: var(--accent-dark); font-weight: 600; }

        /* ========== Explanation Sections ========== */
        .explanation { margin: 24px 0; }
        .explanation h3 {
            font-size: 1.1rem; color: var(--primary); margin-bottom: 12px;
            display: flex; align-items: center; gap: 10px;
        }
        .explanation p { color: var(--text-secondary); margin-bottom: 12px; line-height: 1.8; }

        .key-point {
            background: var(--accent-light); padding: 16px 20px;
            border-radius: var(--radius); margin: 16px 0;
            border-left: 4px solid var(--accent);
        }
        .key-point strong { color: var(--primary-dark); }

        /* ========== Conversation Box ========== */
        .conversation-box {
            background: linear-gradient(135deg, #fefce8 0%, #fef9c3 100%);
            border-radius: var(--radius); padding: 24px; margin: 20px 0;
            border-left: 4px solid var(--warning);
        }
        .conversation-box .example-label { color: #92400e; }
        .conversation-line { margin-bottom: 12px; font-size: 1.2rem; line-height: 2; }
        .conversation-line:last-child { margin-bottom: 0; }
        .speaker { font-weight: 700; color: var(--primary); min-width: 28px; display: inline-block; }
        .speaker.b { color: var(--accent-dark); }
        .conversation-translation { font-size: 0.9rem; color: var(--text-muted); font-style: italic; margin-left: 32px; margin-top: -8px; margin-bottom: 10px; }

        /* ========== Comparison Grid ========== */
        .comparison-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px; margin: 20px 0;
        }
        .comparison-box { padding: 20px; border-radius: var(--radius); }
        .box-label {
            font-size: 0.85rem; font-weight: 600; margin-bottom: 12px;
            display: flex; align-items: center; gap: 8px;
        }
        .te-box {
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-left: 4px solid #3182ce;
        }
        .kara-box {
            background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
            border-left: 4px solid #38a169;
        }
        .kedo-box {
            background: linear-gradient(135deg, #fefce8 0%, #fef08a 100%);
            border-left: 4px solid #d69e2e;
        }

        /* ========== Collapsible Reference Notes ========== */
        .ref-connection { margin: 24px 0; }
        .ref-toggle {
            width: 100%; background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
            border: none; padding: 16px 20px; border-radius: var(--radius); cursor: pointer;
            display: flex; align-items: center; justify-content: space-between;
            font-size: 1rem; font-weight: 500; color: #c53030; transition: var(--transition);
        }
        .ref-toggle:hover { background: linear-gradient(135deg, #fed7d7 0%, #feb2b2 100%); }
        .ref-toggle .icon { transition: transform 0.3s ease; }
        .ref-toggle.open .icon { transform: rotate(180deg); }
        .ref-content {
            max-height: 0; overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            background: #fffafa; border-radius: 0 0 var(--radius) var(--radius);
        }
        .ref-content.open {
            max-height: 800px; padding: 20px;
            border: 1px solid #fed7d7; border-top: none;
        }
        .ref-content h4 { color: #c53030; font-size: 0.95rem; margin-bottom: 12px; }
        .ref-content p { color: var(--text-secondary); font-size: 0.95rem; margin-bottom: 10px; line-height: 1.7; }
        .ref-badge {
            display: inline-block; background: #c53030; color: white;
            padding: 2px 10px; border-radius: 20px; font-size: 0.8rem; margin-right: 8px;
        }

        /* ========== Data Tables ========== */
        .table-container { overflow-x: auto; margin: 24px 0; }
        .data-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        .data-table th {
            background: var(--primary); color: white; padding: 14px 16px;
            text-align: left; font-weight: 500;
        }
        .data-table td { padding: 12px 16px; border-bottom: 1px solid var(--border); }
        .data-table tr:nth-child(even) { background: var(--bg-light); }
        .data-table tr:hover { background: #ebf8ff; }
        .arrow { color: var(--accent); font-weight: bold; margin: 0 8px; }

        /* ========== Quiz Cards (Inline Feedback) ========== */
        .quiz-card {
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-radius: var(--radius-lg); padding: 40px;
            box-shadow: var(--shadow-lg); margin-bottom: 24px;
        }
        .quiz-header {
            display: flex; align-items: center; gap: 16px; margin-bottom: 32px;
        }
        .quiz-badge {
            background: var(--accent); color: white; padding: 8px 16px;
            border-radius: 8px; font-size: 0.85rem; font-weight: 600;
        }
        .quiz-header h2 { font-size: 1.5rem; color: var(--primary); }
        .quiz-question {
            background: white; padding: 24px; border-radius: var(--radius);
            margin-bottom: 20px; box-shadow: var(--shadow);
            transition: var(--transition);
        }
        .question-number { font-size: 0.85rem; font-weight: 600; color: var(--accent-dark); margin-bottom: 12px; }
        .question-context {
            font-size: 0.95rem; color: var(--text-secondary); font-style: italic;
            margin-bottom: 16px; padding: 12px; background: var(--bg-light); border-radius: 8px;
        }
        .question-text { font-size: 1.15rem; color: var(--text-primary); margin-bottom: 16px; line-height: 1.9; }

        /* Fill-in-the-blank */
        .fill-blank {
            display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
            font-size: 1.2rem; margin: 16px 0;
        }
        .blank-input {
            border: 2px dashed var(--primary); background: #f0f7ff;
            padding: 8px 16px; border-radius: 8px; min-width: 140px;
            font-size: 1.05rem; font-family: inherit; text-align: center;
            transition: var(--transition);
        }
        .blank-input:focus {
            outline: none; border-color: var(--accent); background: white;
            box-shadow: 0 0 0 3px rgba(237,137,54,0.2);
        }
        .blank-input.correct-input {
            border-color: var(--success); background: var(--success-light);
        }
        .blank-input.incorrect-input {
            border-color: var(--error); background: var(--error-light);
        }

        /* Multiple choice */
        .mc-options { display: grid; gap: 10px; margin: 16px 0; }
        .mc-option {
            display: flex; align-items: center; gap: 12px;
            padding: 14px 18px; border-radius: var(--radius);
            border: 2px solid var(--border); background: white;
            cursor: pointer; transition: var(--transition);
            font-size: 1.05rem;
        }
        .mc-option:hover { border-color: var(--primary-light); background: #f0f7ff; transform: translateX(4px); }
        .mc-option.selected { border-color: var(--primary); background: #ebf8ff; }
        .mc-option.correct-option { border-color: var(--success); background: var(--success-light); }
        .mc-option.incorrect-option { border-color: var(--error); background: var(--error-light); }
        .mc-option.disabled { pointer-events: none; opacity: 0.85; }
        .mc-radio {
            width: 20px; height: 20px; border: 2px solid var(--border);
            border-radius: 50%; flex-shrink: 0; transition: var(--transition);
            display: flex; align-items: center; justify-content: center;
        }
        .mc-option.selected .mc-radio { border-color: var(--primary); background: var(--primary); }
        .mc-option.selected .mc-radio::after {
            content: ''; width: 8px; height: 8px; border-radius: 50%; background: white;
        }
        .mc-option.correct-option .mc-radio { border-color: var(--success); background: var(--success); }
        .mc-option.correct-option .mc-radio::after { content: 'âœ“'; color: white; font-size: 12px; font-weight: 700; }
        .mc-option.incorrect-option .mc-radio { border-color: var(--error); background: var(--error); }
        .mc-option.incorrect-option .mc-radio::after { content: 'âœ—'; color: white; font-size: 12px; font-weight: 700; }

        /* Feedback */
        .feedback {
            display: none; padding: 14px 18px; border-radius: var(--radius);
            margin-top: 12px; font-size: 0.95rem; line-height: 1.7;
            animation: fadeIn 0.3s ease;
        }
        .feedback.show { display: block; }
        .feedback.correct {
            background: var(--success-light); border-left: 4px solid var(--success); color: #22543d;
        }
        .feedback.incorrect {
            background: var(--error-light); border-left: 4px solid var(--error); color: #742a2a;
        }
        .feedback strong { display: block; margin-bottom: 4px; }

        .check-btn {
            background: var(--primary); color: white; border: none; padding: 14px 36px;
            border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); margin-top: 12px;
        }
        .check-btn:hover { background: var(--primary-light); transform: translateY(-2px); }
        .check-btn:disabled { background: var(--border); color: var(--text-muted); cursor: not-allowed; transform: none; }

        /* ========== Summary Slide ========== */
        .summary-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: var(--radius-lg); padding: 40px; color: white; text-align: center;
        }
        .summary-card h2 { font-size: 2rem; margin-bottom: 24px; }
        .summary-card > p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 12px; }
        .summary-points {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px; margin: 32px 0;
        }
        .summary-point {
            background: rgba(255,255,255,0.15); padding: 20px;
            border-radius: var(--radius); backdrop-filter: blur(10px);
        }
        .summary-point h4 { font-size: 1.1rem; margin-bottom: 8px; }
        .summary-point p { font-size: 0.9rem; opacity: 0.9; }
        .restart-btn {
            background: white; color: var(--primary); border: none; padding: 16px 48px;
            border-radius: 30px; font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: var(--transition); margin-top: 24px;
        }
        .restart-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }

        /* ========== Animations ========== */
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .pulse { animation: pulse 2s infinite; }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .slide-in-left { animation: slideInLeft 0.5s ease forwards; }

        /* ========== Responsive ========== */
        @media (max-width: 768px) {
            .progress-header { flex-direction: column; gap: 12px; }
            .progress-bar-wrapper { width: 100%; max-width: none; }
            .progress-nav { width: 100%; justify-content: space-between; }
            .content-card, .quiz-card { padding: 24px; }
            .slide-header { flex-direction: column; align-items: flex-start; gap: 12px; }
            .example-japanese { font-size: 1.15rem; }
            .example-comparison { grid-template-columns: 1fr; }
            .comparison-grid { grid-template-columns: 1fr; }
            .fill-blank { font-size: 1.05rem; }
            .data-table { font-size: 0.85rem; }
            .data-table th, .data-table td { padding: 10px 12px; }
            .summary-points { grid-template-columns: 1fr 1fr; }
        }

        @media (max-width: 480px) {
            .progress-title { font-size: 0.8rem; }
            .nav-btn { padding: 6px 12px; font-size: 0.8rem; }
            .nav-btn .btn-text { display: none; }
            .title-slide h1 { font-size: 2rem; }
            .grammar-item { padding: 10px 12px; }
            .summary-points { grid-template-columns: 1fr; }
            .title-card { padding: 24px; }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <div class="progress-title">
                <span class="lesson-badge">L1</span>
                <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>å‘¨<rt>ã¾ã‚</rt></ruby>ã‚Šã®<ruby>äºº<rt>ã²ã¨</rt></ruby>ãŸã¡
            </div>
            <div class="progress-bar-wrapper">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">17</span></div>
            </div>
            <div class="progress-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">â—€ <span class="btn-text">Back</span></button>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()"><span class="btn-text">Next</span> â–¶</button>
            </div>
        </div>
    </div>

    <!-- Main Presentation -->
    <div class="presentation">

        <!-- ==================== SLIDE 1: Title ==================== -->
        <div class="slide active" data-slide="1">
            <div class="title-slide">
                <div class="book-badge">ã„ã‚ã©ã‚Š IRODORI â€” <ruby>åˆç´š<rt>ã—ã‚‡ãã‚…ã†</rt></ruby>2 (A2)</div>
                <h1>Lesson 1</h1>
                <div class="lesson-title-jp"><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>å‘¨<rt>ã¾ã‚</rt></ruby>ã‚Šã®<ruby>äºº<rt>ã²ã¨</rt></ruby>ãŸã¡</div>
                <div class="lesson-subtitle">People Around Me â€” <ruby>å…ˆé€±<rt>ã›ã‚“ã—ã‚…ã†</rt></ruby>ã€<ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã«<ruby>æ¥<rt>ã</rt></ruby>ãŸã°ã‹ã‚Šã§ã™</div>

                <div class="title-card">
                    <h2>ğŸ“š Grammar Points in This Lesson</h2>
                    <div class="grammar-list">
                        <div class="grammar-item">
                            <span class="grammar-number">1</span>
                            <span><strong>N1 ã¨ã„ã† N2</strong> â€” "N1 called N2" (Introducing & Explaining)</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">2</span>
                            <span><strong>V-ãŸã°ã‹ã‚Šã§ã™</strong> â€” "just did V" (Recent Actions)</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">3</span>
                            <span><strong>V-ã¦ã„ã¾ã—ãŸ</strong> â€” Past Habitual / Continuous Actions</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">4</span>
                            <span><strong>ãã‚Œ / ãã“</strong> â€” Discourse Demonstratives</span>
                        </div>
                        <div class="grammar-item">
                            <span class="grammar-number">5</span>
                            <span><strong>ï½ã¦ã€ï½ / ï½ã‹ã‚‰ã€ï½ / ï½ã‘ã©ã€ï½</strong> â€” Combining Sentences</span>
                        </div>
                    </div>
                </div>

                <button class="start-btn pulse" onclick="nextSlide()">
                    ğŸ¯ Let's Begin!
                </button>
            </div>
        </div>

        <!-- ==================== SLIDE 2: Grammar 1 â€” N1 ã¨ã„ã† N2 ==================== -->
        <div class="slide" data-slide="2">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 1</span>
                    <div>
                        <h2>N1 ã¨ã„ã† N2</h2>
                        <span class="jp-title">"A thing called N1"</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>This expression is used to <strong>introduce or explain</strong> something to someone who you think does not know about it, or who is hearing about it for the first time. Think of it as the Japanese way of saying "called," "named," or "which means."</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">N1</span> ã¨ã„ã† <span class="accent">N2</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">N1 = the name or word being introduced &nbsp;|&nbsp; N2 = the category (person, place, thing, dish, etc.)</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Meaning</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ï½ã¨ã„ã†<ruby>æ„å‘³<rt>ã„ã¿</rt></ruby></td>
                                <td>means ~</td>
                                <td>ãƒ›ã‚¢ã¯ã€Œ<ruby>èŠ±<rt>ã¯ãª</rt></ruby>ã€ã¨ã„ã†<ruby>æ„å‘³<rt>ã„ã¿</rt></ruby>ã§ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>ï½ã¨ã„ã†<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby></td>
                                <td>a dish called ~</td>
                                <td>ãƒ•ã‚©ãƒ¼ã¨ã„ã†<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>ï½ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby></td>
                                <td>a town called ~</td>
                                <td>ãƒ€ãƒŠãƒ³ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</td>
                            </tr>
                            <tr>
                                <td>ï½ã¨ã„ã†<ruby>åº—<rt>ã¿ã›</rt></ruby></td>
                                <td>a store called ~</td>
                                <td>ã€Œã•ãã‚‰ã€ã¨ã„ã†<ruby>åº—<rt>ã¿ã›</rt></ruby>ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„ã¦ã„ã¾ã™ã€‚</td>
                            </tr>
                            <tr>
                                <td>ï½ã¨ã„ã†<ruby>äºº<rt>ã²ã¨</rt></ruby></td>
                                <td>a person called ~</td>
                                <td>ã‚¿ãƒ³ã•ã‚“ã¨ã„ã†<ruby>äºº<rt>ã²ã¨</rt></ruby>ã§ã™ã€‚</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 1</div>
                    <div class="example-japanese">ãƒ™ãƒˆãƒŠãƒ ã®ãƒ€ãƒŠãƒ³ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</div>
                    <div class="example-english">I came from a city called Da Nang in Vietnam.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 2</div>
                    <div class="example-japanese"><ruby>ä»Š<rt>ã„ã¾</rt></ruby>ã¯ã€ã€Œ<ruby>æ±äº¬<rt>ã¨ã†ãã‚‡ã†</rt></ruby>ã‚¤ãƒ³ã€ã¨ã„ã†ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„ã¦ã„ã¾ã™ã€‚</div>
                    <div class="example-english">Now, I work at a hotel called Tokyo Inn.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> Use ï½ã¨ã„ã† when you assume the listener doesn't know the name you're mentioning. If they already know it, you can just say the name directly without ã¨ã„ã†. For example, if everyone knows "Tokyo Tower," you don't need ã¨ã„ã† â€” but if you're introducing a small local restaurant, ã¨ã„ã† helps the listener understand you're explaining something new.
                </div>

                <!-- MNN Connection -->
                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L3</span> ã“ã‚Œ / ãã‚Œ / ã‚ã‚Œã¯ ï½ã§ã™</h4>
                        <p>In MNN Lesson 3, you learned to identify objects with ã“ã‚Œã¯ï½ã§ã™ ("This is ~"). The ã¨ã„ã† pattern builds on that by letting you <em>name</em> something specifically: instead of just ã“ã‚Œã¯<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ ("This is a dish"), you can now say ã“ã‚Œã¯ãƒ•ã‚©ãƒ¼ã¨ã„ã†<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ ("This is a dish called pho").</p>
                        <h4><span class="ref-badge">MNN L1</span> ï½ã¯ ï½ã§ã™ (Introduction)</h4>
                        <p>In Lesson 1, you introduced yourself with ã‚ãŸã—ã¯ï½ã§ã™. The ã¨ã„ã† pattern extends introductions to explain the <em>meaning</em> of names: ãƒ›ã‚¢ã¯ã€Œ<ruby>èŠ±<rt>ã¯ãª</rt></ruby>ã€ã¨ã„ã†<ruby>æ„å‘³<rt>ã„ã¿</rt></ruby>ã§ã™ ("Hoa means 'flower'").</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 3: Quiz 1 â€” N1 ã¨ã„ã† N2 ==================== -->
        <div class="slide" data-slide="3">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>N1 ã¨ã„ã† N2</h2>
                </div>

                <!-- Q1: Multiple Choice -->
                <div class="quiz-question" id="q1-block">
                    <div class="question-number">Question 1 of 3 â€” Multiple Choice</div>
                    <div class="question-context">You want to tell someone you came from a small town called "Há»™i An" in Vietnam.</div>
                    <div class="question-text">Which is the correct sentence?</div>
                    <div class="mc-options" id="q1-options">
                        <div class="mc-option" onclick="selectMC('q1', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒ™ãƒˆãƒŠãƒ ã®ãƒ›ã‚¤ã‚¢ãƒ³ã®<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q1', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒ™ãƒˆãƒŠãƒ ã®ãƒ›ã‚¤ã‚¢ãƒ³ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q1', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒ™ãƒˆãƒŠãƒ ã®ãƒ›ã‚¤ã‚¢ãƒ³ã¯<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q1-feedback"></div>
                </div>

                <!-- Q2: Fill in the blank -->
                <div class="quiz-question" id="q2-block">
                    <div class="question-number">Question 2 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">You want to explain the meaning of your name "Sakura" (cherry blossom).</div>
                    <div class="question-text">ã•ãã‚‰ã¯ã€Œ<ruby>æ¡œ<rt>ã•ãã‚‰</rt></ruby>ã€_______ <ruby>æ„å‘³<rt>ã„ã¿</rt></ruby>ã§ã™ã€‚</div>
                    <div class="fill-blank">
                        ã•ãã‚‰ã¯ã€Œ<ruby>æ¡œ<rt>ã•ãã‚‰</rt></ruby>ã€<input type="text" class="blank-input" id="q2-input" placeholder="ï¼Ÿ"><ruby>æ„å‘³<rt>ã„ã¿</rt></ruby>ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q2-feedback"></div>
                </div>

                <!-- Q3: Multiple Choice -->
                <div class="quiz-question" id="q3-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Your friend asks what "naan" is. You want to explain it's a type of bread (ãƒ‘ãƒ³).</div>
                    <div class="question-text">How would you say "Naan is a bread called naan"?</div>
                    <div class="mc-options" id="q3-options">
                        <div class="mc-option" onclick="selectMC('q3', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒŠãƒ³ã¯ãƒ‘ãƒ³ã¨ã„ã†ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q3', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒŠãƒ³ã¨ã„ã†ã®ãƒ‘ãƒ³ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q3', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ãƒŠãƒ³ã¨ã„ã†ãƒ‘ãƒ³ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q3-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz1()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 4: Grammar 2 â€” V-ãŸã°ã‹ã‚Šã§ã™ ==================== -->
        <div class="slide" data-slide="4">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 2</span>
                    <div>
                        <h2>V-ãŸã°ã‹ã‚Šã§ã™</h2>
                        <span class="jp-title">"Just did V"</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>This expression indicates that <strong>not much time has passed</strong> since something happened. It conveys the feeling of "I <em>just</em> did ~" or "I <em>only recently</em> did ~." It emphasizes the recency of the action from the speaker's perspective.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">V-ãŸ (past form)</span> + <span class="accent">ã°ã‹ã‚Šã§ã™</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">Connect ã°ã‹ã‚Šã§ã™ directly to the ãŸ-form of the verb. The verb stays in past tense.</p>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Dictionary Form</th>
                                <th>ãŸ-Form</th>
                                <th>ï¼‹ ã°ã‹ã‚Šã§ã™</th>
                                <th>Meaning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><ruby>æ¥<rt>ã</rt></ruby>ã‚‹</td>
                                <td><ruby>æ¥<rt>ã</rt></ruby>ãŸ</td>
                                <td><ruby>æ¥<rt>ã</rt></ruby>ãŸã°ã‹ã‚Šã§ã™</td>
                                <td>just came</td>
                            </tr>
                            <tr>
                                <td><ruby>ç€<rt>ã¤</rt></ruby>ã</td>
                                <td><ruby>ç€<rt>ã¤</rt></ruby>ã„ãŸ</td>
                                <td><ruby>ç€<rt>ã¤</rt></ruby>ã„ãŸã°ã‹ã‚Šã§ã™</td>
                                <td>just arrived</td>
                            </tr>
                            <tr>
                                <td><ruby>å¸°<rt>ã‹ãˆ</rt></ruby>ã‚‹</td>
                                <td><ruby>å¸°<rt>ã‹ãˆ</rt></ruby>ã£ãŸ</td>
                                <td><ruby>å¸°<rt>ã‹ãˆ</rt></ruby>ã£ãŸã°ã‹ã‚Šã§ã™</td>
                                <td>just went back</td>
                            </tr>
                            <tr>
                                <td><ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã‚‹</td>
                                <td><ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ãŸ</td>
                                <td><ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ãŸã°ã‹ã‚Šã§ã™</td>
                                <td>just started</td>
                            </tr>
                            <tr>
                                <td><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹</td>
                                <td><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ</td>
                                <td><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸã°ã‹ã‚Šã§ã™</td>
                                <td>just ate</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue Example</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span><ruby>åˆæ°—é“<rt>ã‚ã„ãã©ã†</rt></ruby>ã¯<ruby>é•·<rt>ãªãŒ</rt></ruby>ã„ã‚“ã§ã™ã‹ï¼Ÿ</div>
                    <div class="conversation-translation">Have you been doing aikido for a long time?</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ã„ã„ãˆã€<ruby>æœ€è¿‘<rt>ã•ã„ãã‚“</rt></ruby>ã€<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ãŸã°ã‹ã‚Šã§ã™ã€‚</div>
                    <div class="conversation-translation">No, I just started recently.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example</div>
                    <div class="example-japanese">ã•ã£ã<ruby>ç©ºæ¸¯<rt>ãã†ã“ã†</rt></ruby>ã«<ruby>ç€<rt>ã¤</rt></ruby>ã„ãŸã°ã‹ã‚Šã§ã™ã€‚</div>
                    <div class="example-english">I just arrived at the airport not too long ago.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> The word ã°ã‹ã‚Š itself means "only" or "nothing but." In this pattern, V-ãŸã°ã‹ã‚Š conveys the nuance that the action happened so recently that it feels like "nothing but that moment" has passed. Note that "recently" is subjective â€” <ruby>å…ˆé€±<rt>ã›ã‚“ã—ã‚…ã†</rt></ruby><ruby>æ¥<rt>ã</rt></ruby>ãŸã°ã‹ã‚Šã§ã™ ("I just came last week") is perfectly natural if a week still feels recent to the speaker.
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L7</span> ã‚‚ã† V-ã¾ã—ãŸã‹ / ã¾ã ã§ã™</h4>
                        <p>In MNN Lesson 7, you learned ã‚‚ã†ï½ã¾ã—ãŸã‹ ("Have you already ~?") and the response ã¾ã ã§ã™ ("Not yet"). The ï½ãŸã°ã‹ã‚Šã§ã™ pattern adds a new dimension: it doesn't just say you <em>did</em> something, but that you did it <em>very recently</em>. Compare: ã‚‚ã†<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã—ãŸ ("I already ate") vs. <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸã°ã‹ã‚Šã§ã™ ("I <em>just</em> ate").</p>
                        <h4><span class="ref-badge">MNN L19</span> V-ãŸ form (ãŸ-form basics)</h4>
                        <p>The ãŸ-form you learned in MNN Lesson 19 is the foundation for this grammar point. Make sure you can confidently conjugate all verb groups into ãŸ-form before using ï½ãŸã°ã‹ã‚Šã§ã™.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 5: Quiz 2 â€” V-ãŸã°ã‹ã‚Šã§ã™ ==================== -->
        <div class="slide" data-slide="5">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>V-ãŸã°ã‹ã‚Šã§ã™</h2>
                </div>

                <!-- Q4: Fill in -->
                <div class="quiz-question" id="q4-block">
                    <div class="question-number">Question 1 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">You came to Japan last week and want to express that it was very recent.</div>
                    <div class="question-text"><ruby>å…ˆé€±<rt>ã›ã‚“ã—ã‚…ã†</rt></ruby>ã€<ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã« _______ ã€‚</div>
                    <div class="fill-blank">
                        <ruby>å…ˆé€±<rt>ã›ã‚“ã—ã‚…ã†</rt></ruby>ã€<ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã« <input type="text" class="blank-input" id="q4-input" placeholder="ï¼Ÿ">ã€‚
                    </div>
                    <div class="feedback" id="q4-feedback"></div>
                </div>

                <!-- Q5: MC -->
                <div class="quiz-question" id="q5-block">
                    <div class="question-number">Question 2 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Which sentence correctly means "I just started learning Japanese"?</div>
                    <div class="mc-options" id="q5-options">
                        <div class="mc-option" onclick="selectMC('q5', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby>ã‚’<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã‚‹ã°ã‹ã‚Šã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q5', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby>ã‚’<ruby>ç¿’<rt>ãªã‚‰</rt></ruby>ã„<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ãŸã°ã‹ã‚Šã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q5', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby>ã‚’<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ãŸã°ã‹ã‚Šã¾ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q5-feedback"></div>
                </div>

                <!-- Q6: Fill in -->
                <div class="quiz-question" id="q6-block">
                    <div class="question-number">Question 3 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">Convert this verb to the ï½ãŸã°ã‹ã‚Šã§ã™ form: <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹ (to eat)</div>
                    <div class="fill-blank">
                        <input type="text" class="blank-input" id="q6-input" placeholder="ï¼Ÿ">
                    </div>
                    <div class="feedback" id="q6-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz2()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 6: Grammar 3 â€” V-ã¦ã„ã¾ã—ãŸ ==================== -->
        <div class="slide" data-slide="6">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 3</span>
                    <div>
                        <h2>V-ã¦ã„ã¾ã—ãŸ</h2>
                        <span class="jp-title">Past Habitual / Continuous</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>You already know V-ã¦ã„ã¾ã™ from Irodori Book 1 (<ruby>åˆç´š<rt>ã—ã‚‡ãã‚…ã†</rt></ruby>1), which describes a <strong>current ongoing state or habit</strong> â€” for example, <ruby>ä»‹è­·<rt>ã‹ã„ã”</rt></ruby>ã®<ruby>ä»•äº‹<rt>ã—ã”ã¨</rt></ruby>ã‚’ã—ã¦ã„ã¾ã™ ("I work as a caregiver") or ã„ã‘ã°ãªã‚’<ruby>ç¿’<rt>ãªã‚‰</rt></ruby>ã£ã¦ã„ã¾ã™ ("I am learning flower arrangement").</p>
                    <p>V-ã¦ã„ã¾ã—ãŸ is simply the <strong>past tense</strong> of V-ã¦ã„ã¾ã™. It describes something you <strong>used to do</strong> or <strong>were doing</strong> at a certain point in the past. It's used here specifically to talk about past jobs or past habitual activities in your home country.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">V-ã¦</span> + <span class="accent">ã„ã¾ã—ãŸ</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">Same as V-ã¦ã„ã¾ã™, but change ã„ã¾ã™ â†’ ã„ã¾ã—ãŸ for past tense.</p>
                </div>

                <div class="example-comparison">
                    <div class="polite-box">
                        <div class="style-label">ğŸŸ¢ Present (V-ã¦ã„ã¾ã™)</div>
                        <div class="example-japanese" style="font-size: 1.15rem;">ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„ã¦<strong>ã„ã¾ã™</strong>ã€‚</div>
                        <div class="example-english">I work at a hotel. (now)</div>
                    </div>
                    <div class="plain-box">
                        <div class="style-label">ğŸ”µ Past (V-ã¦ã„ã¾ã—ãŸ)</div>
                        <div class="example-japanese" style="font-size: 1.15rem;">ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„ã¦<strong>ã„ã¾ã—ãŸ</strong>ã€‚</div>
                        <div class="example-english">I used to work at a hotel.</div>
                    </div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue Example</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span><ruby>å›½<rt>ãã«</rt></ruby>ã§ã¯ã©ã‚“ãª<ruby>ä»•äº‹<rt>ã—ã”ã¨</rt></ruby>ã‚’ã—ã¦ã„ã¾ã—ãŸã‹ï¼Ÿ</div>
                    <div class="conversation-translation">What kind of work did you do back home?</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span>ãƒ„ã‚¢ãƒ¼ã‚¬ã‚¤ãƒ‰ã®<ruby>ä»•äº‹<rt>ã—ã”ã¨</rt></ruby>ã‚’ã—ã¦ã„ã¾ã—ãŸã€‚</div>
                    <div class="conversation-translation">I worked as a tour guide.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> Don't confuse V-ã¦ã„ã¾ã—ãŸ with V-ã¾ã—ãŸ. While both are past tense, V-ã¾ã—ãŸ describes a one-time completed action ("I worked yesterday"), whereas V-ã¦ã„ã¾ã—ãŸ emphasizes a <strong>continued state or habit over a period of time</strong> ("I used to work there / I was working there for a while").
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L14</span> V-ã¦ã„ã¾ã™ (present progressive/state)</h4>
                        <p>In MNN Lesson 14, you learned V-ã¦ã„ã¾ã™ to express ongoing actions and states: <ruby>ä»Š<rt>ã„ã¾</rt></ruby>ã€<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¦ã„ã¾ã™ ("I am eating now") and <ruby>çµå©š<rt>ã‘ã£ã“ã‚“</rt></ruby>ã—ã¦ã„ã¾ã™ ("I am married"). The V-ã¦ã„ã¾ã—ãŸ form is simply the past version of this same pattern.</p>
                        <h4><span class="ref-badge">MNN L15</span> V-ã¦ã„ã¾ã™ (habitual action)</h4>
                        <p>MNN Lesson 15 expanded V-ã¦ã„ã¾ã™ to describe habitual actions: <ruby>æ¯æ—¥<rt>ã¾ã„ã«ã¡</rt></ruby><ruby>èµ°<rt>ã¯ã—</rt></ruby>ã£ã¦ã„ã¾ã™ ("I run every day"). V-ã¦ã„ã¾ã—ãŸ describes past habits: <ruby>æ¯æ—¥<rt>ã¾ã„ã«ã¡</rt></ruby><ruby>èµ°<rt>ã¯ã—</rt></ruby>ã£ã¦ã„ã¾ã—ãŸ ("I used to run every day").</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 7: Quiz 3 â€” V-ã¦ã„ã¾ã—ãŸ ==================== -->
        <div class="slide" data-slide="7">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>V-ã¦ã„ã¾ã—ãŸ</h2>
                </div>

                <!-- Q7: MC -->
                <div class="quiz-question" id="q7-block">
                    <div class="question-number">Question 1 of 3 â€” Multiple Choice</div>
                    <div class="question-context">What is the difference between ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ãã¾ã—ãŸ and ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„ã¦ã„ã¾ã—ãŸ?</div>
                    <div class="mc-options" id="q7-options">
                        <div class="mc-option" onclick="selectMC('q7', 0, this)">
                            <div class="mc-radio"></div>
                            <span>They mean exactly the same thing.</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q7', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ï½ã¦ã„ã¾ã—ãŸ emphasizes it was a continued habit/state over time.</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q7', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ï½ã¦ã„ã¾ã—ãŸ means you are currently working there.</span>
                        </div>
                    </div>
                    <div class="feedback" id="q7-feedback"></div>
                </div>

                <!-- Q8: Fill in -->
                <div class="quiz-question" id="q8-block">
                    <div class="question-number">Question 2 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">You want to say "I used to teach Japanese in my country."</div>
                    <div class="question-text"><ruby>å›½<rt>ãã«</rt></ruby>ã§<ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby>ã‚’ _______ ã€‚</div>
                    <div class="fill-blank">
                        <ruby>å›½<rt>ãã«</rt></ruby>ã§<ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby>ã‚’ <input type="text" class="blank-input" id="q8-input" placeholder="ï¼Ÿ">ã€‚
                    </div>
                    <div class="feedback" id="q8-feedback"></div>
                </div>

                <!-- Q9: MC -->
                <div class="quiz-question" id="q9-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Which sentence correctly means "I used to live in Osaka"?</div>
                    <div class="mc-options" id="q9-options">
                        <div class="mc-option" onclick="selectMC('q9', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å¤§é˜ª<rt>ãŠãŠã•ã‹</rt></ruby>ã«<ruby>ä½<rt>ã™</rt></ruby>ã‚“ã§ã„ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q9', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å¤§é˜ª<rt>ãŠãŠã•ã‹</rt></ruby>ã«<ruby>ä½<rt>ã™</rt></ruby>ã¿ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q9', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>å¤§é˜ª<rt>ãŠãŠã•ã‹</rt></ruby>ã«<ruby>ä½<rt>ã™</rt></ruby>ã‚“ã§ã„ã¾ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q9-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz3()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 8: Grammar 4 â€” ãã‚Œ/ãã“ ==================== -->
        <div class="slide" data-slide="8">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 4</span>
                    <div>
                        <h2>ãã‚Œ / ãã“</h2>
                        <span class="jp-title"><ruby>æ–‡è„ˆæŒ‡ç¤º<rt>ã¶ã‚“ã¿ã‚ƒãã—ã˜</rt></ruby> â€” Discourse Demonstratives</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>You already know ãã‚Œ ("that thing") and ãã“ ("that place") from basic Japanese, where they point to something <strong>physically near the listener</strong>. But in this lesson, they serve a new role: <strong>discourse demonstratives</strong>. This means they refer back to <strong>something already mentioned in the conversation</strong>, not something you can physically see.</p>
                    <p>Think of it like using "that" or "there" in English to refer to something you just talked about: "I went to Yogyakarta. <em>It's</em> about 4 hours from <em>there</em> by bus."</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Two Uses of ãã‚Œ/ãã“</div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-top: 12px;">
                        <div style="background: white; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 600; color: var(--primary); margin-bottom: 8px;">ğŸ‘‰ Physical (near listener)</div>
                            <p style="font-size: 0.95rem; color: var(--text-secondary);">ãã‚Œã€<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¦ã‚‚ã„ã„ã§ã™ã‹ï¼Ÿ<br><em>May I eat that?</em></p>
                        </div>
                        <div style="background: white; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 600; color: var(--accent-dark); margin-bottom: 8px;">ğŸ’¬ Discourse (previously mentioned)</div>
                            <p style="font-size: 0.95rem; color: var(--text-secondary);">ãã‚Œã¯<ruby>ä½•<rt>ãªã‚“</rt></ruby>ã§ã™ã‹ï¼Ÿ<br><em>What is that? (referring to something just said)</em></p>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Key Example</div>
                    <div class="example-japanese">ã‚¸ãƒ£ãƒ¯<ruby>å³¶<rt>ã¨ã†</rt></ruby>ã«ã€ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿ã¨ã„ã†<ruby>å¤§<rt>ãŠãŠ</rt></ruby>ãã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ãŒã‚ã‚Šã¾ã™ã€‚ã‚¦ã‚©ãƒã‚½ãƒœã¯ã€<strong>ãã“</strong>ã‹ã‚‰ã€ãƒã‚¹ã§ï¼”<ruby>æ™‚é–“<rt>ã˜ã‹ã‚“</rt></ruby>ãã‚‰ã„ã§ã™ã€‚</div>
                    <div class="example-english">There is a large city called Yogyakarta on the island of Java. Wonosobo is about four hours by bus from <strong>there</strong> (= from Yogyakarta).</div>
                </div>

                <div class="conversation-box">
                    <div class="example-label">ğŸ’¬ Dialogue Example</div>
                    <div class="conversation-line"><span class="speaker">Aï¼š</span><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯ã€ã‚¹ãƒˆãƒ­ãƒãƒˆãƒ©ã‚¤ãƒˆãŒ<ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã§ã™ã€‚</div>
                    <div class="conversation-translation">My town is famous for stromatolites.</div>
                    <div class="conversation-line"><span class="speaker b">Bï¼š</span><strong>ãã‚Œ</strong>ã¯<ruby>ä½•<rt>ãªã‚“</rt></ruby>ã§ã™ã‹ï¼Ÿ</div>
                    <div class="conversation-translation">What is <strong>that</strong>? (= What are stromatolites?)</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> When you hear ãã‚Œ or ãã“ in conversation and there's nothing physically being pointed at, think: "What was just mentioned?" That's the referent. This discourse use of ã“ãã‚ã© is very common in natural Japanese storytelling and conversation.
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L2</span> ã“ã‚Œ / ãã‚Œ / ã‚ã‚Œ (physical demonstratives)</h4>
                        <p>In MNN Lesson 2, you learned the basic ã“ãã‚ã© system for pointing at physical objects: ã“ã‚Œ (near me), ãã‚Œ (near you), ã‚ã‚Œ (far from both). Now, ãã‚Œ/ãã“ gain a <strong>new meaning</strong> in discourse â€” pointing back at <em>previously mentioned information</em> rather than physical objects.</p>
                        <h4><span class="ref-badge">MNN L3</span> ã“ã“ / ãã“ / ã‚ãã“ (places)</h4>
                        <p>MNN Lesson 3 taught ãã“ as "there (near you)." In discourse, ãã“ means "that place (the one I just mentioned)" â€” e.g., ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿...ãã“ã‹ã‚‰ ("from there" = from Yogyakarta).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 9: Quiz 4 â€” ãã‚Œ/ãã“ ==================== -->
        <div class="slide" data-slide="9">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>ãã‚Œ / ãã“</h2>
                </div>

                <!-- Q10: MC -->
                <div class="quiz-question" id="q10-block">
                    <div class="question-number">Question 1 of 3 â€” Multiple Choice</div>
                    <div class="question-context">A: <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã«ã¯ã€Œãƒ©ã‚¯ã‚µã€ã¨ã„ã†<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ãŒã‚ã‚Šã¾ã™ã€‚<br>B: ï¼¿ï¼¿ï¼¿ã¯ã©ã‚“ãª<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã‹ï¼Ÿ</div>
                    <div class="question-text">What goes in the blank?</div>
                    <div class="mc-options" id="q10-options">
                        <div class="mc-option" onclick="selectMC('q10', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ã“ã‚Œ</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q10', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ãã‚Œ</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q10', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ã‚ã‚Œ</span>
                        </div>
                    </div>
                    <div class="feedback" id="q10-feedback"></div>
                </div>

                <!-- Q11: Fill in -->
                <div class="quiz-question" id="q11-block">
                    <div class="question-number">Question 2 of 3 â€” Fill in the Blank</div>
                    <div class="question-context"><ruby>æ±äº¬<rt>ã¨ã†ãã‚‡ã†</rt></ruby>ã«<ruby>æ–°<rt>ã‚ãŸã‚‰</rt></ruby>ã—ã„ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚_______ ã¯<ruby>é§…<rt>ãˆã</rt></ruby>ã‹ã‚‰<ruby>è¿‘<rt>ã¡ã‹</rt></ruby>ã„ã§ã™ã€‚</div>
                    <div class="question-text">Fill in with the correct discourse demonstrative for "that place."</div>
                    <div class="fill-blank">
                        <input type="text" class="blank-input" id="q11-input" placeholder="ï¼Ÿ"> ã¯<ruby>é§…<rt>ãˆã</rt></ruby>ã‹ã‚‰<ruby>è¿‘<rt>ã¡ã‹</rt></ruby>ã„ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q11-feedback"></div>
                </div>

                <!-- Q12: MC -->
                <div class="quiz-question" id="q12-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">In the sentence ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ãŒã‚ã‚Šã¾ã™ã€‚ã‚¦ã‚©ãƒã‚½ãƒœã¯ã€<strong>ãã“</strong>ã‹ã‚‰ãƒã‚¹ã§4<ruby>æ™‚é–“<rt>ã˜ã‹ã‚“</rt></ruby>ã§ã™ã€‚</div>
                    <div class="question-text">What does ãã“ refer to?</div>
                    <div class="mc-options" id="q12-options">
                        <div class="mc-option" onclick="selectMC('q12', 0, this)">
                            <div class="mc-radio"></div>
                            <span>Wonosobo</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q12', 1, this)">
                            <div class="mc-radio"></div>
                            <span>Yogyakarta (ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿)</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q12', 2, this)">
                            <div class="mc-radio"></div>
                            <span>Java island (ã‚¸ãƒ£ãƒ¯<ruby>å³¶<rt>ã¨ã†</rt></ruby>)</span>
                        </div>
                    </div>
                    <div class="feedback" id="q12-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz4()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 10: Grammar 5 â€” ï½ã¦ã€ï½ã‹ã‚‰ã€ï½ã‘ã© ==================== -->
        <div class="slide" data-slide="10">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 5a</span>
                    <div>
                        <h2>ï½ã¦ã€ï½</h2>
                        <span class="jp-title">Listing & Linking Sentences</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>The ï½ã¦ form is used to <strong>simply connect two sentences together</strong>, listing facts or events without implying a cause-effect relationship. Think of it as the Japanese equivalent of "and" when joining two descriptive statements.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">Sentence 1 ï½ã¦</span> ã€<span class="accent">Sentence 2</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">For ã„-adjectives: ãŠã„ã—<strong>ãã¦</strong>ã€€|ã€€For ãª-adjectives/nouns: ã—ãšã‹<strong>ã§</strong>ã€€|ã€€For verbs: V-ã¦ form</p>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example</div>
                    <div class="example-japanese"><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã®<ruby>ä¸­å¿ƒ<rt>ã¡ã‚…ã†ã—ã‚“</rt></ruby>ã¯ã€<ruby>å±‹å°<rt>ã‚„ãŸã„</rt></ruby>ãŒãŸãã•ã‚“ã‚ã£<strong>ã¦</strong>ã€ã«ãã‚„ã‹ã§ã™ã€‚</div>
                    <div class="example-english">The city center has many food stands, and it is bustling.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> The ï½ã¦ connection is the most neutral of the three connectors. It doesn't explain why or contrast â€” it simply lists. Use it when both facts stand equally side by side, like describing features of a place: "There are parks, and it's quiet."
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L16</span> V-ã¦ã€V-ã¦ã€V-ã¾ã™ (sequential actions)</h4>
                        <p>In MNN Lesson 16, you learned to chain actions: <ruby>æœ<rt>ã‚ã•</rt></ruby><ruby>èµ·<rt>ãŠ</rt></ruby>ãã¦ã€ã‚·ãƒ£ãƒ¯ãƒ¼ã‚’<ruby>æµ´<rt>ã‚</rt></ruby>ã³ã¦ã€<ruby>å­¦æ ¡<rt>ãŒã£ã“ã†</rt></ruby>ã¸<ruby>è¡Œ<rt>ã„</rt></ruby>ãã¾ã™ ("I wake up, take a shower, and go to school"). This lesson extends ï½ã¦ to connect <em>descriptions</em> of places and things, not just sequential actions.</p>
                        <h4><span class="ref-badge">MNN L8</span> ã„-adjective + ãª-adjective basics</h4>
                        <p>The adjective conjugations from MNN Lesson 8 (ãŠãŠãã„ â†’ ãŠãŠããã¦, ã—ãšã‹ãª â†’ ã—ãšã‹ã§) are the building blocks for this connector pattern.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 11: Grammar 5b â€” ï½ã‹ã‚‰ ==================== -->
        <div class="slide" data-slide="11">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 5b</span>
                    <div>
                        <h2>ï½ã‹ã‚‰ã€ï½</h2>
                        <span class="jp-title">Cause & Reason</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>Unlike ï½ã¦ which neutrally lists, ï½ã‹ã‚‰ <strong>explains a reason or cause</strong>. It connects Sentence 1 (the reason) with Sentence 2 (the result). Think of it as "because" or "since."</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">Reason ï½ã‹ã‚‰</span> ã€<span class="accent">Result</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">Works with polite form (<ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã§ã™<strong>ã‹ã‚‰</strong>) and plain form (<ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã <strong>ã‹ã‚‰</strong>).</p>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example</div>
                    <div class="example-japanese"><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯<ruby>å±±<rt>ã‚„ã¾</rt></ruby>ã®<ruby>ä¸­<rt>ãªã‹</rt></ruby>ã <strong>ã‹ã‚‰</strong>ã€<ruby>ç©ºæ°—<rt>ãã†ã</rt></ruby>ãŒã‚ˆã<strong>ã¦</strong>ã€ã¨ã¦ã‚‚<ruby>æ°—æŒ<rt>ãã‚‚</rt></ruby>ã¡ãŒã„ã„ã‚“ã§ã™ã€‚</div>
                    <div class="example-english">Because the town is in the mountains, the air is clean and it feels very refreshing.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example</div>
                    <div class="example-japanese">ã‚¦ãƒ©ãƒ³ãƒãƒ¼ãƒˆãƒ«ã¯<ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã <strong>ã‹ã‚‰</strong>ã€<ruby>éƒ½ä¼š<rt>ã¨ã‹ã„</rt></ruby>ã§ã™ã‚ˆã€‚</div>
                    <div class="example-english">Because Ulaanbaatar is the capital, it's an urban city, you know.</div>
                </div>

                <div class="key-point">
                    <strong>ğŸ’¡ Key Insight:</strong> Notice the example above uses <em>both</em> ï½ã‹ã‚‰ and ï½ã¦ together! Japanese often chains these connectors: "Because the town is in the mountains (<ruby>å±±<rt>ã‚„ã¾</rt></ruby>ã®<ruby>ä¸­<rt>ãªã‹</rt></ruby>ã ã‹ã‚‰), the air is good (<ruby>ç©ºæ°—<rt>ãã†ã</rt></ruby>ãŒã‚ˆãã¦) AND it feels refreshing (<ruby>æ°—æŒ<rt>ãã‚‚</rt></ruby>ã¡ãŒã„ã„)."
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L9</span> ï½ã‹ã‚‰ (reason)</h4>
                        <p>You first encountered ï½ã‹ã‚‰ in MNN Lesson 9: <ruby>æ™‚é–“<rt>ã˜ã‹ã‚“</rt></ruby>ãŒã‚ã‚Šã¾ã›ã‚“ã‹ã‚‰ã€<ruby>æœ<rt>ã‚ã•</rt></ruby>ã”ã¯ã‚“ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã›ã‚“ ("Because I don't have time, I don't eat breakfast"). This lesson reviews the same grammar but applies it to describing places and combining with ï½ã¦ and ï½ã‘ã©.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 12: Grammar 5c â€” ï½ã‘ã© ==================== -->
        <div class="slide" data-slide="12">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Grammar 5c</span>
                    <div>
                        <h2>ï½ã‘ã©ã€ï½</h2>
                        <span class="jp-title">Contrast / "But"</span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ” What does it mean?</h3>
                    <p>ï½ã‘ã© connects two sentences that are <strong>in contrast</strong> with each other. It works like "but," "although," or "however." Use it when the second sentence presents an unexpected or opposing fact compared to the first.</p>
                </div>

                <div class="structure-box">
                    <div class="label">ğŸ“ Formation</div>
                    <div class="structure-formula">
                        <span class="highlight">Sentence 1 ï½ã‘ã©</span> ã€<span class="accent">Sentence 2 (contrast)</span>
                    </div>
                    <p style="margin-top: 12px; color: var(--text-secondary);">Works with polite form (<ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã§ã™<strong>ã‘ã©</strong>) and plain form (<ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã <strong>ã‘ã©</strong>). Can also connect negative + positive or positive + negative sentences.</p>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 1</div>
                    <div class="example-japanese"><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯<ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã˜ã‚ƒãªã„<strong>ã‘ã©</strong>ã€ã¨ã¦ã‚‚ã„ã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã§ã™ã€‚</div>
                    <div class="example-english">My town is not famous, <strong>but</strong> it is a very nice town.</div>
                </div>

                <div class="example-box">
                    <div class="example-label">ğŸ“ Example 2</div>
                    <div class="example-japanese"><ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã§ã¯ãªã„<strong>ã‘ã©</strong>ã€ã¨ã¦ã‚‚ã«ãã‚„ã‹ã§ã™ã€‚</div>
                    <div class="example-english">It is not the capital, <strong>but</strong> it is very lively.</div>
                </div>

                <!-- Summary comparison of all three -->
                <div class="explanation">
                    <h3>ğŸ“Š Comparing All Three Connectors</h3>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-box te-box">
                        <div class="box-label">ğŸ”µ ï½ã¦ (Listing / "and")</div>
                        <p style="font-size: 0.95rem; margin-bottom: 8px;"><ruby>å±‹å°<rt>ã‚„ãŸã„</rt></ruby>ãŒãŸãã•ã‚“ã‚ã£<strong>ã¦</strong>ã€ã«ãã‚„ã‹ã§ã™ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">There are many stalls <em>and</em> it's lively.</p>
                    </div>
                    <div class="comparison-box kara-box">
                        <div class="box-label">ğŸŸ¢ ï½ã‹ã‚‰ (Reason / "because")</div>
                        <p style="font-size: 0.95rem; margin-bottom: 8px;"><ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã <strong>ã‹ã‚‰</strong>ã€<ruby>éƒ½ä¼š<rt>ã¨ã‹ã„</rt></ruby>ã§ã™ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);"><em>Because</em> it's the capital, it's urban.</p>
                    </div>
                    <div class="comparison-box kedo-box">
                        <div class="box-label">ğŸŸ¡ ï½ã‘ã© (Contrast / "but")</div>
                        <p style="font-size: 0.95rem; margin-bottom: 8px;"><ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã˜ã‚ƒãªã„<strong>ã‘ã©</strong>ã€ã„ã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã§ã™ã€‚</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Not famous, <em>but</em> it's a nice town.</p>
                    </div>
                </div>

                <div class="ref-connection">
                    <button class="ref-toggle" onclick="toggleRef(this)">
                        ğŸ“– Minna no Nihongo Connection (N5 Review)
                        <span class="icon">â–¼</span>
                    </button>
                    <div class="ref-content">
                        <h4><span class="ref-badge">MNN L8</span> ï½ãŒ (contrast / "but")</h4>
                        <p>In MNN Lesson 8, you learned ï½ãŒ as a connector meaning "but": ã“ã®<ruby>éƒ¨å±‹<rt>ã¸ã‚„</rt></ruby>ã¯<ruby>åºƒ<rt>ã²ã‚</rt></ruby>ã„ã§ã™<strong>ãŒ</strong>ã€<ruby>æš—<rt>ãã‚‰</rt></ruby>ã„ã§ã™ ("This room is spacious but dark"). ï½ã‘ã© is the <strong>casual equivalent</strong> of ï½ãŒ. They mean the same thing, but ï½ã‘ã© is much more common in spoken Japanese.</p>
                        <h4><span class="ref-badge">MNN L9</span> ï½ã‹ã‚‰ (reason)</h4>
                        <p>The ï½ã‹ã‚‰ pattern was introduced in MNN L9. This lesson brings ï½ã¦, ï½ã‹ã‚‰, and ï½ã‘ã© together as a complete toolkit for connecting sentences in descriptions.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 13: Quiz 5 â€” Combining Sentences ==================== -->
        <div class="slide" data-slide="13">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">âœï¸ Comprehension Check</span>
                    <h2>ï½ã¦ / ï½ã‹ã‚‰ / ï½ã‘ã©</h2>
                </div>

                <!-- Q13: MC -->
                <div class="quiz-question" id="q13-block">
                    <div class="question-number">Question 1 of 3 â€” Multiple Choice</div>
                    <div class="question-context">You want to say: "My town is small, <strong>but</strong> it's very beautiful."</div>
                    <div class="question-text">Which connector should you use?</div>
                    <div class="mc-options" id="q13-options">
                        <div class="mc-option" onclick="selectMC('q13', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯<ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„<strong>ã‹ã‚‰</strong>ã€ã¨ã¦ã‚‚ãã‚Œã„ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q13', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯<ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã„<strong>ã‘ã©</strong>ã€ã¨ã¦ã‚‚ãã‚Œã„ã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q13', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã¯<ruby>å°<rt>ã¡ã„</rt></ruby>ã•ã<strong>ã¦</strong>ã€ã¨ã¦ã‚‚ãã‚Œã„ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q13-feedback"></div>
                </div>

                <!-- Q14: Fill in -->
                <div class="quiz-question" id="q14-block">
                    <div class="question-number">Question 2 of 3 â€” Fill in the Blank</div>
                    <div class="question-context">Because it's the capital, there are many people. (Hint: use ï½ã‹ã‚‰)</div>
                    <div class="question-text"><ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã ï¼¿ï¼¿ï¼¿ã€<ruby>äºº<rt>ã²ã¨</rt></ruby>ãŒ<ruby>å¤š<rt>ãŠãŠ</rt></ruby>ã„ã§ã™ã€‚</div>
                    <div class="fill-blank">
                        <ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby>ã <input type="text" class="blank-input" id="q14-input" placeholder="ï¼Ÿ" style="min-width:80px;">ã€<ruby>äºº<rt>ã²ã¨</rt></ruby>ãŒ<ruby>å¤š<rt>ãŠãŠ</rt></ruby>ã„ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q14-feedback"></div>
                </div>

                <!-- Q15: MC -->
                <div class="quiz-question" id="q15-block">
                    <div class="question-number">Question 3 of 3 â€” Multiple Choice</div>
                    <div class="question-context">Which connector neutrally lists two facts without implying cause or contrast?</div>
                    <div class="mc-options" id="q15-options">
                        <div class="mc-option" onclick="selectMC('q15', 0, this)">
                            <div class="mc-radio"></div>
                            <span>ï½ã¦</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q15', 1, this)">
                            <div class="mc-radio"></div>
                            <span>ï½ã‹ã‚‰</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q15', 2, this)">
                            <div class="mc-radio"></div>
                            <span>ï½ã‘ã©</span>
                        </div>
                    </div>
                    <div class="feedback" id="q15-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuiz5()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 14: Integrated Practice ==================== -->
        <div class="slide" data-slide="14">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Practice</span>
                    <div>
                        <h2>ğŸ¯ Putting It All Together</h2>
                        <span class="jp-title"><ruby>ç·åˆ<rt>ãã†ã”ã†</rt></ruby><ruby>ç·´ç¿’<rt>ã‚Œã‚“ã—ã‚…ã†</rt></ruby></span>
                    </div>
                </div>

                <div class="explanation">
                    <h3>ğŸ—£ï¸ Self-Introduction Using All 5 Grammar Points</h3>
                    <p>Here is a model self-introduction that uses every grammar point from this lesson. Read through it and try to identify each grammar structure.</p>
                </div>

                <div class="example-box" style="border-left-color: var(--accent);">
                    <div class="example-label" style="color: var(--accent-dark);">ğŸŒŸ Model Self-Introduction</div>
                    <div class="example-japanese" style="line-height: 2.4;">
                        <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã¯ã‚¿ãƒ³ã§ã™ã€‚ãƒ™ãƒˆãƒŠãƒ ã®ãƒ€ãƒŠãƒ³<span style="color: var(--primary); font-weight: 600;">ã¨ã„ã†</span><ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã‹ã‚‰<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚<br>
                        <ruby>å…ˆæœˆ<rt>ã›ã‚“ã’ã¤</rt></ruby>ã€<ruby>æ—¥æœ¬<rt>ã«ã»ã‚“</rt></ruby>ã«<ruby>æ¥<rt>ã</rt></ruby><span style="color: var(--primary); font-weight: 600;">ãŸã°ã‹ã‚Š</span>ã§ã™ã€‚<br>
                        ãƒ™ãƒˆãƒŠãƒ ã§ã¯ã€ãƒ›ãƒ†ãƒ«ã§<ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã„<span style="color: var(--primary); font-weight: 600;">ã¦ã„ã¾ã—ãŸ</span>ã€‚<br>
                        ãƒ€ãƒŠãƒ³ã¯<ruby>æµ·<rt>ã†ã¿</rt></ruby>ãŒãã‚Œã„ã§ã€<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ãŒãŠã„ã—<span style="color: var(--primary); font-weight: 600;">ãã¦</span>ã€ã¨ã¦ã‚‚ã„ã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã§ã™ã€‚<br>
                        <ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby>ã˜ã‚ƒãªã„<span style="color: var(--primary); font-weight: 600;">ã‘ã©</span>ã€<ruby>è‡ªç„¶<rt>ã—ãœã‚“</rt></ruby>ãŒ<ruby>å¤š<rt>ãŠãŠ</rt></ruby>ã„<span style="color: var(--primary); font-weight: 600;">ã‹ã‚‰</span>ã€<ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>ãŒã‚ã‚Šã¾ã™ã€‚
                    </div>
                    <div class="example-english" style="margin-top: 16px; line-height: 1.8;">
                        I'm Tan. I came from a city called Da Nang in Vietnam.<br>
                        I just came to Japan last month.<br>
                        In Vietnam, I used to work at a hotel.<br>
                        Da Nang has a beautiful sea, the food is delicious, and it's a very nice town.<br>
                        It's not famous, but because there is a lot of nature, it's popular.
                    </div>
                </div>

                <div class="key-point">
                    <strong>âœ¨ Challenge:</strong> Try writing your own self-introduction using these 5 grammar points! Talk about where you're from, when you arrived, what you used to do, and describe your hometown using ï½ã¦, ï½ã‹ã‚‰, and ï½ã‘ã©.
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 15: Final Comprehensive Quiz ==================== -->
        <div class="slide" data-slide="15">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ† Final Challenge</span>
                    <h2>Comprehensive Quiz â€” All Grammar Points</h2>
                </div>

                <!-- Q16: Fill in -->
                <div class="quiz-question" id="q16-block">
                    <div class="question-number">Question 1 of 3</div>
                    <div class="question-context">Introduce a dish called "rendang" (a food / <ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>).</div>
                    <div class="question-text">ãƒ«ãƒ³ãƒ€ãƒ³ _______ <ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚</div>
                    <div class="fill-blank">
                        ãƒ«ãƒ³ãƒ€ãƒ³ <input type="text" class="blank-input" id="q16-input" placeholder="ï¼Ÿ"> <ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q16-feedback"></div>
                </div>

                <!-- Q17: MC -->
                <div class="quiz-question" id="q17-block">
                    <div class="question-number">Question 2 of 3</div>
                    <div class="question-context">Choose the correct sentence: "I just moved (to a new place) recently."</div>
                    <div class="mc-options" id="q17-options">
                        <div class="mc-option" onclick="selectMC('q17', 0, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æœ€è¿‘<rt>ã•ã„ãã‚“</rt></ruby>ã€<ruby>å¼•<rt>ã²</rt></ruby>ã£<ruby>è¶Š<rt>ã“</rt></ruby>ã—ãŸã°ã‹ã‚Šã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q17', 1, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æœ€è¿‘<rt>ã•ã„ãã‚“</rt></ruby>ã€<ruby>å¼•<rt>ã²</rt></ruby>ã£<ruby>è¶Š<rt>ã“</rt></ruby>ã™ã°ã‹ã‚Šã§ã™ã€‚</span>
                        </div>
                        <div class="mc-option" onclick="selectMC('q17', 2, this)">
                            <div class="mc-radio"></div>
                            <span><ruby>æœ€è¿‘<rt>ã•ã„ãã‚“</rt></ruby>ã€<ruby>å¼•<rt>ã²</rt></ruby>ã£<ruby>è¶Š<rt>ã“</rt></ruby>ã—ã¦ã°ã‹ã‚Šã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="feedback" id="q17-feedback"></div>
                </div>

                <!-- Q18: Fill in -->
                <div class="quiz-question" id="q18-block">
                    <div class="question-number">Question 3 of 3</div>
                    <div class="question-context">Fill in: "It's not big, <strong>but</strong> it's a fun town." Use the correct connector.</div>
                    <div class="question-text"><ruby>å¤§<rt>ãŠãŠ</rt></ruby>ãããªã„ _______ ã€<ruby>æ¥½<rt>ãŸã®</rt></ruby>ã—ã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã§ã™ã€‚</div>
                    <div class="fill-blank">
                        <ruby>å¤§<rt>ãŠãŠ</rt></ruby>ãããªã„ <input type="text" class="blank-input" id="q18-input" placeholder="ï¼Ÿ" style="min-width: 80px;"> ã€<ruby>æ¥½<rt>ãŸã®</rt></ruby>ã—ã„<ruby>ç”º<rt>ã¾ã¡</rt></ruby>ã§ã™ã€‚
                    </div>
                    <div class="feedback" id="q18-feedback"></div>
                </div>

                <button class="check-btn" onclick="checkQuizFinal()">Check Answers âœ“</button>
            </div>
        </div>

        <!-- ==================== SLIDE 16: Vocabulary Reference ==================== -->
        <div class="slide" data-slide="16">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">Reference</span>
                    <div>
                        <h2>ğŸ“– Key Vocabulary</h2>
                        <span class="jp-title"><ruby>é‡è¦<rt>ã˜ã‚…ã†ã‚ˆã†</rt></ruby>ãª<ruby>èªå½™<rt>ã”ã„</rt></ruby></span>
                    </div>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Japanese</th>
                                <th>Reading</th>
                                <th>Meaning</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><ruby>æ„å‘³<rt>ã„ã¿</rt></ruby></td><td>ã„ã¿</td><td>meaning</td></tr>
                            <tr><td><ruby>ç”º<rt>ã¾ã¡</rt></ruby></td><td>ã¾ã¡</td><td>town, city</td></tr>
                            <tr><td><ruby>åº—<rt>ã¿ã›</rt></ruby></td><td>ã¿ã›</td><td>shop, store</td></tr>
                            <tr><td><ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby></td><td>ã‚Šã‚‡ã†ã‚Š</td><td>cooking, dish</td></tr>
                            <tr><td><ruby>èŠ±<rt>ã¯ãª</rt></ruby></td><td>ã¯ãª</td><td>flower</td></tr>
                            <tr><td><ruby>å…ˆé€±<rt>ã›ã‚“ã—ã‚…ã†</rt></ruby></td><td>ã›ã‚“ã—ã‚…ã†</td><td>last week</td></tr>
                            <tr><td><ruby>æœ€è¿‘<rt>ã•ã„ãã‚“</rt></ruby></td><td>ã•ã„ãã‚“</td><td>recently</td></tr>
                            <tr><td><ruby>ç©ºæ¸¯<rt>ãã†ã“ã†</rt></ruby></td><td>ãã†ã“ã†</td><td>airport</td></tr>
                            <tr><td><ruby>å›½<rt>ãã«</rt></ruby></td><td>ãã«</td><td>country, home country</td></tr>
                            <tr><td><ruby>ä»•äº‹<rt>ã—ã”ã¨</rt></ruby></td><td>ã—ã”ã¨</td><td>job, work</td></tr>
                            <tr><td><ruby>é¦–éƒ½<rt>ã—ã‚…ã¨</rt></ruby></td><td>ã—ã‚…ã¨</td><td>capital city</td></tr>
                            <tr><td><ruby>éƒ½ä¼š<rt>ã¨ã‹ã„</rt></ruby></td><td>ã¨ã‹ã„</td><td>urban area, city</td></tr>
                            <tr><td><ruby>å±‹å°<rt>ã‚„ãŸã„</rt></ruby></td><td>ã‚„ãŸã„</td><td>food stand/stall</td></tr>
                            <tr><td><ruby>æœ‰å<rt>ã‚†ã†ã‚ã„</rt></ruby></td><td>ã‚†ã†ã‚ã„</td><td>famous</td></tr>
                            <tr><td>ã«ãã‚„ã‹</td><td>ã«ãã‚„ã‹</td><td>lively, bustling</td></tr>
                            <tr><td><ruby>ç•‘<rt>ã¯ãŸã‘</rt></ruby></td><td>ã¯ãŸã‘</td><td>field, farm</td></tr>
                            <tr><td><ruby>ç©ºæ°—<rt>ãã†ã</rt></ruby></td><td>ãã†ã</td><td>air, atmosphere</td></tr>
                            <tr><td><ruby>è‡ªç„¶<rt>ã—ãœã‚“</rt></ruby></td><td>ã—ãœã‚“</td><td>nature</td></tr>
                            <tr><td><ruby>åƒ<rt>ã¯ãŸã‚‰</rt></ruby>ã</td><td>ã¯ãŸã‚‰ã</td><td>to work</td></tr>
                            <tr><td><ruby>ä½<rt>ã™</rt></ruby>ã‚€</td><td>ã™ã‚€</td><td>to live (somewhere)</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ==================== SLIDE 17: Summary ==================== -->
        <div class="slide" data-slide="17">
            <div class="summary-card">
                <h2>ğŸ‰ Lesson 1 Complete!</h2>
                <p><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã®<ruby>å‘¨<rt>ã¾ã‚</rt></ruby>ã‚Šã®<ruby>äºº<rt>ã²ã¨</rt></ruby>ãŸã¡ â€” People Around Me</p>
                <p>You've mastered 5 essential grammar points for introducing yourself and describing your hometown!</p>

                <div class="summary-points">
                    <div class="summary-point">
                        <h4>â¶ N1 ã¨ã„ã† N2</h4>
                        <p>Introduce & name things: "a city called ~"</p>
                    </div>
                    <div class="summary-point">
                        <h4>â· V-ãŸã°ã‹ã‚Šã§ã™</h4>
                        <p>Express recency: "I just came last week"</p>
                    </div>
                    <div class="summary-point">
                        <h4>â¸ V-ã¦ã„ã¾ã—ãŸ</h4>
                        <p>Describe past habits: "I used to work at ~"</p>
                    </div>
                    <div class="summary-point">
                        <h4>â¹ ãã‚Œ / ãã“</h4>
                        <p>Refer back in conversation: discourse "that"</p>
                    </div>
                    <div class="summary-point">
                        <h4>âº ï½ã¦ / ï½ã‹ã‚‰ / ï½ã‘ã©</h4>
                        <p>Connect sentences: and / because / but</p>
                    </div>
                </div>

                <button class="restart-btn" onclick="restartPresentation()">
                    ğŸ”„ Start Over
                </button>
            </div>
        </div>

    </div>

    <script>
        // ========== Slide Navigation ==========
        let currentSlide = 1;
        const totalSlides = 17;

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            const active = document.querySelector(`[data-slide="${currentSlide}"]`);
            if (active) active.classList.add('active');

            document.getElementById('currentSlide').textContent = currentSlide;
            document.getElementById('totalSlides').textContent = totalSlides;

            const progress = ((currentSlide - 1) / (totalSlides - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';

            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextSlide() { if (currentSlide < totalSlides) { currentSlide++; updateSlide(); } }
        function prevSlide() { if (currentSlide > 1) { currentSlide--; updateSlide(); } }
        function goToSlide(n) { currentSlide = n; updateSlide(); }
        function restartPresentation() { currentSlide = 1; updateSlide(); }

        // ========== Collapsible Toggles ==========
        function toggleRef(button) {
            const content = button.nextElementSibling;
            button.classList.toggle('open');
            content.classList.toggle('open');
        }

        // ========== Multiple Choice Selection ==========
        const mcSelections = {};

        function selectMC(qId, index, element) {
            // Don't allow selection if already checked
            if (element.classList.contains('disabled')) return;

            const options = document.querySelectorAll(`#${qId}-options .mc-option`);
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            mcSelections[qId] = index;
        }

        // ========== Feedback Display ==========
        function showFeedback(id, isCorrect, message) {
            const fb = document.getElementById(id);
            fb.className = 'feedback show ' + (isCorrect ? 'correct' : 'incorrect');
            fb.innerHTML = `<strong>${isCorrect ? 'âœ… Correct!' : 'âŒ Not quite.'}</strong> ${message}`;
        }

        function disableMCOptions(qId) {
            document.querySelectorAll(`#${qId}-options .mc-option`).forEach(opt => {
                opt.classList.add('disabled');
            });
        }

        function markMCCorrect(qId, correctIndex) {
            const options = document.querySelectorAll(`#${qId}-options .mc-option`);
            options.forEach((opt, i) => {
                if (i === correctIndex) opt.classList.add('correct-option');
                else if (opt.classList.contains('selected')) opt.classList.add('incorrect-option');
            });
        }

        // ========== Quiz 1: N1 ã¨ã„ã† N2 ==========
        function checkQuiz1() {
            // Q1: MC â€” correct answer is index 1
            const q1ans = mcSelections['q1'];
            if (q1ans !== undefined) {
                const correct = q1ans === 1;
                showFeedback('q1-feedback', correct, correct
                    ? 'ãƒ›ã‚¤ã‚¢ãƒ³ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby> correctly introduces "a town called Há»™i An" using the ã¨ã„ã† pattern.'
                    : 'The correct answer is ãƒ›ã‚¤ã‚¢ãƒ³ã¨ã„ã†<ruby>ç”º<rt>ã¾ã¡</rt></ruby>. Use ã¨ã„ã† to introduce a name the listener may not know. Option A uses ã® which doesn\'t have the "called" nuance, and option C uses ã¯ which changes the sentence structure incorrectly.');
                markMCCorrect('q1', 1);
                disableMCOptions('q1');
            }

            // Q2: Fill â€” correct answer is ã¨ã„ã†
            const q2val = document.getElementById('q2-input').value.trim();
            if (q2val) {
                const correct = q2val === 'ã¨ã„ã†';
                document.getElementById('q2-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q2-feedback', correct, correct
                    ? 'ã•ãã‚‰ã¯ã€Œæ¡œã€ã¨ã„ã†æ„å‘³ã§ã™ â€” "Sakura means \'cherry blossom.\'" ã¨ã„ã† connects the name to its meaning.'
                    : `The correct answer is <strong>ã¨ã„ã†</strong>. The pattern is: Name + ã¯ã€Œmeaningã€+ ã¨ã„ã† + æ„å‘³ã§ã™.`);
            }

            // Q3: MC â€” correct answer is index 2
            const q3ans = mcSelections['q3'];
            if (q3ans !== undefined) {
                const correct = q3ans === 2;
                showFeedback('q3-feedback', correct, correct
                    ? 'ãƒŠãƒ³ã¨ã„ã†ãƒ‘ãƒ³ã§ã™ â€” "It\'s a bread called naan." N1 ã¨ã„ã† N2 directly connects the name to the category.'
                    : 'The correct answer is ãƒŠãƒ³ã¨ã„ã†ãƒ‘ãƒ³ã§ã™. Remember: N1 + ã¨ã„ã† + N2. Don\'t add extra particles like ã® between ã¨ã„ã† and the noun.');
                markMCCorrect('q3', 2);
                disableMCOptions('q3');
            }
        }

        // ========== Quiz 2: V-ãŸã°ã‹ã‚Šã§ã™ ==========
        function checkQuiz2() {
            // Q4: Fill â€” æ¥ãŸã°ã‹ã‚Šã§ã™
            const q4val = document.getElementById('q4-input').value.trim();
            if (q4val) {
                const correct = q4val === 'æ¥ãŸã°ã‹ã‚Šã§ã™' || q4val === 'ããŸã°ã‹ã‚Šã§ã™';
                document.getElementById('q4-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q4-feedback', correct, correct
                    ? 'å…ˆé€±ã€æ—¥æœ¬ã«æ¥ãŸã°ã‹ã‚Šã§ã™ â€” "I just came to Japan last week." The ãŸ-form of æ¥ã‚‹ is æ¥ãŸ.'
                    : 'The correct answer is <strong>æ¥ãŸã°ã‹ã‚Šã§ã™</strong> (ããŸã°ã‹ã‚Šã§ã™). Use the ãŸ-form of æ¥ã‚‹ (æ¥ãŸ) + ã°ã‹ã‚Šã§ã™.');
            }

            // Q5: MC â€” correct answer is index 1
            const q5ans = mcSelections['q5'];
            if (q5ans !== undefined) {
                const correct = q5ans === 1;
                showFeedback('q5-feedback', correct, correct
                    ? 'ç¿’ã„å§‹ã‚ãŸã°ã‹ã‚Šã§ã™ â€” "I just started learning." The verb is in ãŸ-form (å§‹ã‚ãŸ) before ã°ã‹ã‚Šã§ã™.'
                    : 'The correct answer is ç¿’ã„å§‹ã‚ãŸã°ã‹ã‚Šã§ã™. Remember: ã°ã‹ã‚Šã§ã™ attaches to the <strong>ãŸ-form</strong> (past tense) of the verb, not dictionary or ã¦-form. Option A uses dictionary form (å§‹ã‚ã‚‹) and C has a conjugation error (ã°ã‹ã‚Šã¾ã™ doesn\'t exist).');
                markMCCorrect('q5', 1);
                disableMCOptions('q5');
            }

            // Q6: Fill â€” é£Ÿã¹ãŸã°ã‹ã‚Šã§ã™
            const q6val = document.getElementById('q6-input').value.trim();
            if (q6val) {
                const correct = q6val === 'é£Ÿã¹ãŸã°ã‹ã‚Šã§ã™' || q6val === 'ãŸã¹ãŸã°ã‹ã‚Šã§ã™';
                document.getElementById('q6-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q6-feedback', correct, correct
                    ? 'é£Ÿã¹ãŸã°ã‹ã‚Šã§ã™ â€” "just ate." é£Ÿã¹ã‚‹ â†’ é£Ÿã¹ãŸ â†’ é£Ÿã¹ãŸã°ã‹ã‚Šã§ã™. Perfect!'
                    : 'The correct answer is <strong>é£Ÿã¹ãŸã°ã‹ã‚Šã§ã™</strong> (ãŸã¹ãŸã°ã‹ã‚Šã§ã™). The ãŸ-form of é£Ÿã¹ã‚‹ is é£Ÿã¹ãŸ. Add ã°ã‹ã‚Šã§ã™ directly after it.');
            }
        }

        // ========== Quiz 3: V-ã¦ã„ã¾ã—ãŸ ==========
        function checkQuiz3() {
            // Q7: MC â€” correct answer is index 1
            const q7ans = mcSelections['q7'];
            if (q7ans !== undefined) {
                const correct = q7ans === 1;
                showFeedback('q7-feedback', correct, correct
                    ? 'Exactly! V-ã¦ã„ã¾ã—ãŸ emphasizes that the action was a <strong>continued state or habit</strong> over a period of time, while V-ã¾ã—ãŸ simply reports a completed past action.'
                    : 'The correct answer is that ï½ã¦ã„ã¾ã—ãŸ emphasizes a continued habit/state. V-ã¾ã—ãŸ is a simple past action, while V-ã¦ã„ã¾ã—ãŸ describes something that was ongoing or habitual over a period.');
                markMCCorrect('q7', 1);
                disableMCOptions('q7');
            }

            // Q8: Fill â€” æ•™ãˆã¦ã„ã¾ã—ãŸ
            const q8val = document.getElementById('q8-input').value.trim();
            if (q8val) {
                const correct = q8val === 'æ•™ãˆã¦ã„ã¾ã—ãŸ' || q8val === 'ãŠã—ãˆã¦ã„ã¾ã—ãŸ';
                document.getElementById('q8-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q8-feedback', correct, correct
                    ? 'æ—¥æœ¬èªã‚’æ•™ãˆã¦ã„ã¾ã—ãŸ â€” "I used to teach Japanese." æ•™ãˆã‚‹ â†’ æ•™ãˆã¦ â†’ æ•™ãˆã¦ã„ã¾ã—ãŸ.'
                    : 'The correct answer is <strong>æ•™ãˆã¦ã„ã¾ã—ãŸ</strong> (ãŠã—ãˆã¦ã„ã¾ã—ãŸ). The ã¦-form of æ•™ãˆã‚‹ is æ•™ãˆã¦. Add ã„ã¾ã—ãŸ for the past habitual: æ•™ãˆã¦ã„ã¾ã—ãŸ.');
            }

            // Q9: MC â€” correct answer is index 0
            const q9ans = mcSelections['q9'];
            if (q9ans !== undefined) {
                const correct = q9ans === 0;
                showFeedback('q9-feedback', correct, correct
                    ? 'å¤§é˜ªã«ä½ã‚“ã§ã„ã¾ã—ãŸ â€” "I used to live in Osaka." ä½ã‚€ â†’ ä½ã‚“ã§ â†’ ä½ã‚“ã§ã„ã¾ã—ãŸ describes a past state of living somewhere.'
                    : 'The correct answer is å¤§é˜ªã«ä½ã‚“ã§ã„ã¾ã—ãŸ. Option B (ä½ã¿ã¾ã—ãŸ) is a one-time past action, and option C (ä½ã‚“ã§ã„ã¾ã™) means you currently live there. V-ã¦ã„ã¾ã—ãŸ expresses a past ongoing state.');
                markMCCorrect('q9', 0);
                disableMCOptions('q9');
            }
        }

        // ========== Quiz 4: ãã‚Œ/ãã“ ==========
        function checkQuiz4() {
            // Q10: MC â€” correct answer is index 1
            const q10ans = mcSelections['q10'];
            if (q10ans !== undefined) {
                const correct = q10ans === 1;
                showFeedback('q10-feedback', correct, correct
                    ? 'ãã‚Œ is the correct discourse demonstrative. Person A just mentioned ãƒ©ã‚¯ã‚µ, so Person B uses ãã‚Œ to refer back to it: "What kind of dish is <em>that</em>?"'
                    : 'The correct answer is <strong>ãã‚Œ</strong>. Since Person A just mentioned ãƒ©ã‚¯ã‚µ in the previous sentence, Person B uses ãã‚Œ (discourse "that") to refer back to it. ã“ã‚Œ would mean something physically near B, and ã‚ã‚Œ would mean something far from both.');
                markMCCorrect('q10', 1);
                disableMCOptions('q10');
            }

            // Q11: Fill â€” ãã“
            const q11val = document.getElementById('q11-input').value.trim();
            if (q11val) {
                const correct = q11val === 'ãã“';
                document.getElementById('q11-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q11-feedback', correct, correct
                    ? 'ãã“ã¯é§…ã‹ã‚‰è¿‘ã„ã§ã™ â€” "That place is close to the station." ãã“ refers back to the restaurant mentioned in the previous sentence.'
                    : 'The correct answer is <strong>ãã“</strong>. Since we\'re referring to a <em>place</em> (the restaurant) that was mentioned in the previous sentence, we use ãã“ (discourse demonstrative for places). ãã‚Œ would refer to a thing, not a place.');
            }

            // Q12: MC â€” correct answer is index 1 (Yogyakarta)
            const q12ans = mcSelections['q12'];
            if (q12ans !== undefined) {
                const correct = q12ans === 1;
                showFeedback('q12-feedback', correct, correct
                    ? 'ãã“ refers to ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿ (Yogyakarta), the city just mentioned. The sentence means: "Wonosobo is about 4 hours from <em>there</em> (Yogyakarta) by bus."'
                    : 'The correct answer is <strong>Yogyakarta</strong>. In discourse demonstratives, ãã“ refers to the most recently mentioned place. ã‚¸ãƒ§ã‚°ã‚¸ãƒ£ã‚«ãƒ«ã‚¿ was introduced in the first sentence, and ãã“ in the second sentence refers back to it.');
                markMCCorrect('q12', 1);
                disableMCOptions('q12');
            }
        }

        // ========== Quiz 5: ï½ã¦ / ï½ã‹ã‚‰ / ï½ã‘ã© ==========
        function checkQuiz5() {
            // Q13: MC â€” correct answer is index 1 (ã‘ã©)
            const q13ans = mcSelections['q13'];
            if (q13ans !== undefined) {
                const correct = q13ans === 1;
                showFeedback('q13-feedback', correct, correct
                    ? 'å°ã•ã„ã‘ã©ã€ã¨ã¦ã‚‚ãã‚Œã„ã§ã™ â€” "small <em>but</em> very beautiful." Since "small" and "beautiful" are contrasting ideas, ï½ã‘ã© is the right connector.'
                    : 'The correct answer uses <strong>ï½ã‘ã©</strong> (contrast). "Small" and "beautiful" are contrasting qualities â€” the town is beautiful <em>despite</em> being small. ï½ã‹ã‚‰ would mean "because it\'s small, it\'s beautiful" (wrong logic), and ï½ã¦ would just list without showing the contrast.');
                markMCCorrect('q13', 1);
                disableMCOptions('q13');
            }

            // Q14: Fill â€” ã‹ã‚‰
            const q14val = document.getElementById('q14-input').value.trim();
            if (q14val) {
                const correct = q14val === 'ã‹ã‚‰';
                document.getElementById('q14-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q14-feedback', correct, correct
                    ? 'é¦–éƒ½ã ã‹ã‚‰ã€äººãŒå¤šã„ã§ã™ â€” "Because it\'s the capital, there are many people." ï½ã‹ã‚‰ gives the reason.'
                    : 'The correct answer is <strong>ã‹ã‚‰</strong>. The sentence expresses a cause-result relationship: being the capital (reason) â†’ having many people (result). ã‹ã‚‰ is the connector for reasons.');
            }

            // Q15: MC â€” correct answer is index 0 (ï½ã¦)
            const q15ans = mcSelections['q15'];
            if (q15ans !== undefined) {
                const correct = q15ans === 0;
                showFeedback('q15-feedback', correct, correct
                    ? 'ï½ã¦ is the neutral connector that simply lists facts side by side, without implying cause (ã‹ã‚‰) or contrast (ã‘ã©).'
                    : 'The correct answer is <strong>ï½ã¦</strong>. It\'s the most neutral connector â€” it simply joins two statements without adding cause (ã‹ã‚‰) or contrast (ã‘ã©) meaning.');
                markMCCorrect('q15', 0);
                disableMCOptions('q15');
            }
        }

        // ========== Final Quiz ==========
        function checkQuizFinal() {
            // Q16: Fill â€” ã¨ã„ã†
            const q16val = document.getElementById('q16-input').value.trim();
            if (q16val) {
                const correct = q16val === 'ã¨ã„ã†';
                document.getElementById('q16-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q16-feedback', correct, correct
                    ? 'ãƒ«ãƒ³ãƒ€ãƒ³ã¨ã„ã†æ–™ç†ã§ã™ â€” "It\'s a dish called rendang." Perfect use of N1 ã¨ã„ã† N2!'
                    : 'The correct answer is <strong>ã¨ã„ã†</strong>. To introduce a name: ãƒ«ãƒ³ãƒ€ãƒ³ (name) + ã¨ã„ã† + æ–™ç† (category) = "a dish called rendang."');
            }

            // Q17: MC â€” correct answer is index 0
            const q17ans = mcSelections['q17'];
            if (q17ans !== undefined) {
                const correct = q17ans === 0;
                showFeedback('q17-feedback', correct, correct
                    ? 'å¼•ã£è¶Šã—ãŸã°ã‹ã‚Šã§ã™ â€” "I just moved." The ãŸ-form of å¼•ã£è¶Šã™ is å¼•ã£è¶Šã—ãŸ. ã°ã‹ã‚Šã§ã™ always attaches to the ãŸ-form!'
                    : 'The correct answer is <strong>å¼•ã£è¶Šã—ãŸã°ã‹ã‚Šã§ã™</strong>. Remember: ã°ã‹ã‚Šã§ã™ requires the <strong>ãŸ-form</strong> (past tense). å¼•ã£è¶Šã™ â†’ å¼•ã£è¶Šã—ãŸ â†’ å¼•ã£è¶Šã—ãŸã°ã‹ã‚Šã§ã™. Option B uses dictionary form and option C uses ã¦-form â€” both are incorrect.');
                markMCCorrect('q17', 0);
                disableMCOptions('q17');
            }

            // Q18: Fill â€” ã‘ã©
            const q18val = document.getElementById('q18-input').value.trim();
            if (q18val) {
                const correct = q18val === 'ã‘ã©';
                document.getElementById('q18-input').classList.add(correct ? 'correct-input' : 'incorrect-input');
                showFeedback('q18-feedback', correct, correct
                    ? 'å¤§ãããªã„ã‘ã©ã€æ¥½ã—ã„ç”ºã§ã™ â€” "Not big, <em>but</em> a fun town." ã‘ã© perfectly expresses the contrast between negative and positive!'
                    : 'The correct answer is <strong>ã‘ã©</strong>. The sentence contrasts "not big" (negative) with "fun town" (positive). When two ideas are in contrast, use ï½ã‘ã© ("but/although").');
            }
        }

        // ========== Keyboard Navigation ==========
        document.addEventListener('keydown', function(e) {
            // Don't navigate if user is typing in an input
            if (e.target.tagName === 'INPUT') return;
            if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
            else if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
        });

        // ========== Touch/Swipe Navigation ==========
        let touchStartX = 0, touchEndX = 0;
        document.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; });
        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > 50) { diff > 0 ? nextSlide() : prevSlide(); }
        });

        // ========== Initialize ==========
        updateSlide();
    </script>
</body>
</html>
