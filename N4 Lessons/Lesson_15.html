<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã„ã‚ã©ã‚Š Irodori A2 - Lesson 15: ç†±ãŒã‚ã£ã¦ã®ã©ãŒç—›ã„ã‚“ã§ã™</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #e11d48;
            --primary-light: #fb7185;
            --primary-dark: #be123c;
            --accent: #0d9488;
            --accent-light: #5eead4;
            --accent-dark: #0f766e;
            --secondary: #f97316;
            --secondary-light: #fed7aa;
            --success: #16a34a;
            --success-light: #bbf7d0;
            --error: #dc2626;
            --error-light: #fecaca;
            --warning: #ca8a04;
            --warning-light: #fef9c3;
            --bg-light: #fff1f2;
            --bg-warm: #ffe4e6;
            --bg-card: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border: #fecdd3;
            --shadow: 0 4px 6px -1px rgba(225, 29, 72, 0.1), 0 2px 4px -1px rgba(225, 29, 72, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(225, 29, 72, 0.1), 0 4px 6px -2px rgba(225, 29, 72, 0.05);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans JP', 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-warm) 100%);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: var(--bg-card); box-shadow: var(--shadow); padding: 12px 20px;
        }
        .progress-header {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; gap: 20px;
        }
        .progress-title {
            font-size: 0.9rem; font-weight: 600; color: var(--primary);
            display: flex; align-items: center; gap: 8px;
        }
        .progress-title .lesson-badge {
            background: var(--primary); color: white; padding: 2px 10px;
            border-radius: 20px; font-size: 0.75rem;
        }
        .progress-bar-wrapper { flex: 1; max-width: 500px; }
        .progress-bar { height: 8px; background: var(--border); border-radius: 10px; overflow: hidden; }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 10px; transition: width 0.5s ease; width: 0%;
        }
        .progress-text { font-size: 0.8rem; color: var(--text-muted); text-align: right; margin-top: 4px; }
        .progress-nav { display: flex; gap: 8px; }
        .nav-btn {
            background: var(--primary); color: white; border: none; padding: 8px 16px;
            border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: 500;
            transition: var(--transition); display: flex; align-items: center; gap: 6px;
        }
        .nav-btn:hover { background: var(--accent); transform: translateY(-1px); }
        .nav-btn:disabled { background: var(--border); color: var(--text-muted); cursor: not-allowed; transform: none; }

        /* Slides */
        .presentation { padding-top: 80px; min-height: 100vh; }
        .slide { display: none; max-width: 1000px; margin: 0 auto; padding: 40px 20px; animation: fadeIn 0.5s ease; }
        .slide.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Title Slide */
        .title-slide { text-align: center; padding: 60px 20px; }
        .title-slide .book-badge {
            display: inline-block; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; padding: 8px 24px; border-radius: 30px; font-size: 0.9rem;
            font-weight: 500; margin-bottom: 24px; letter-spacing: 1px;
        }
        .title-slide h1 { font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 700; color: var(--primary-dark); margin-bottom: 16px; line-height: 1.2; }
        .title-slide .lesson-title-jp { font-size: clamp(1rem, 2.5vw, 1.4rem); color: var(--primary); margin-bottom: 8px; }
        .title-slide .lesson-subtitle { font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 40px; }
        .health-icons { font-size: 2.5rem; margin-bottom: 24px; }
        .title-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); max-width: 850px; margin: 0 auto 40px; }
        .title-card h2 { color: var(--primary-dark); font-size: 1.3rem; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .grammar-list { display: grid; gap: 10px; }
        .grammar-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: var(--bg-light); border-radius: var(--radius); border-left: 4px solid var(--primary); transition: var(--transition); font-size: 0.95rem; }
        .grammar-item:hover { transform: translateX(8px); background: var(--bg-warm); }
        .grammar-number { width: 26px; height: 26px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; flex-shrink: 0; }
        .start-btn { background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%); color: white; border: none; padding: 16px 48px; border-radius: 30px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: var(--transition); box-shadow: 0 4px 14px rgba(225, 29, 72, 0.4); }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(225, 29, 72, 0.5); }

        /* Content Cards */
        .content-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); margin-bottom: 24px; }
        .slide-header { display: flex; align-items: center; gap: 16px; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid var(--border); flex-wrap: wrap; }
        .grammar-badge { background: var(--primary); color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .slide-header h2 { font-size: 1.5rem; color: var(--primary-dark); flex: 1; min-width: 200px; }
        .slide-header .jp-title { font-size: 1rem; color: var(--primary); font-weight: 500; }

        /* Ruby/Furigana */
        ruby { ruby-position: over; }
        ruby rt { font-size: 0.6em; color: var(--text-muted); }
        .furigana { font-size: 0.75em; color: var(--text-muted); }

        /* Example Boxes */
        .example-box { background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-warm) 100%); border-radius: var(--radius); padding: 24px; margin: 20px 0; border-left: 4px solid var(--primary); }
        .example-box .jp { font-size: 1.3rem; color: var(--primary-dark); margin-bottom: 8px; line-height: 1.8; }
        .example-box .en { color: var(--text-secondary); font-size: 0.95rem; }
        .example-box .arrow { color: var(--accent); margin: 0 8px; }

        /* Dialogue Box */
        .dialogue-box { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 24px; margin: 20px 0; }
        .dialogue-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
        .dialogue-header .icon { font-size: 1.5rem; }
        .dialogue-header h4 { color: var(--primary-dark); font-size: 1rem; }
        .dialogue-line { display: flex; gap: 12px; margin: 12px 0; align-items: flex-start; }
        .dialogue-speaker { background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; white-space: nowrap; }
        .dialogue-speaker.patient { background: var(--accent); }
        .dialogue-text { flex: 1; }
        .dialogue-text .jp { font-size: 1.1rem; color: var(--text-primary); margin-bottom: 4px; }
        .dialogue-text .en { font-size: 0.85rem; color: var(--text-muted); }

        /* Formation Tables */
        .formation-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95rem; }
        .formation-table th { background: var(--primary); color: white; padding: 14px; text-align: left; font-weight: 500; }
        .formation-table td { padding: 14px; border-bottom: 1px solid var(--border); }
        .formation-table tr:hover { background: var(--bg-light); }
        .formation-table .pattern { font-weight: 600; color: var(--primary-dark); }
        .formation-table .example-jp { color: var(--text-primary); }
        .formation-table .example-en { color: var(--text-muted); font-size: 0.85rem; }

        /* Vocabulary Grid */
        .vocab-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin: 24px 0; }
        .vocab-card { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 16px; text-align: center; transition: var(--transition); }
        .vocab-card:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: var(--shadow); }
        .vocab-card .emoji { font-size: 2rem; margin-bottom: 8px; }
        .vocab-card .word { font-size: 1.2rem; color: var(--primary-dark); font-weight: 600; margin-bottom: 4px; }
        .vocab-card .reading { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px; }
        .vocab-card .meaning { font-size: 0.9rem; color: var(--text-secondary); }

        /* Medicine Cards */
        .medicine-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0; }
        .medicine-card { background: linear-gradient(135deg, #ffffff 0%, var(--bg-light) 100%); border-radius: var(--radius); padding: 20px; border: 2px solid var(--border); transition: var(--transition); }
        .medicine-card:hover { border-color: var(--accent); box-shadow: var(--shadow-lg); }
        .medicine-card .header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .medicine-card .icon { font-size: 2rem; }
        .medicine-card .name { font-size: 1.1rem; font-weight: 600; color: var(--primary-dark); }
        .medicine-card .name-reading { font-size: 0.8rem; color: var(--text-muted); }
        .medicine-card .effect { background: var(--accent-light); color: var(--accent-dark); padding: 8px 12px; border-radius: 8px; font-size: 0.9rem; margin-top: 8px; }
        .medicine-card .instruction { font-size: 0.85rem; color: var(--text-secondary); margin-top: 8px; padding-top: 8px; border-top: 1px dashed var(--border); }

        /* Timeline */
        .timeline-container { display: flex; align-items: center; justify-content: center; gap: 8px; margin: 24px 0; padding: 20px; background: var(--bg-light); border-radius: var(--radius); flex-wrap: wrap; }
        .timeline-item { text-align: center; padding: 12px 16px; }
        .timeline-item.action { background: var(--primary); color: white; border-radius: var(--radius); min-width: 120px; }
        .timeline-item.medicine { background: var(--accent); color: white; border-radius: var(--radius); min-width: 120px; }
        .timeline-arrow { font-size: 1.5rem; color: var(--primary); }
        .timeline-label { font-size: 0.8rem; opacity: 0.9; margin-top: 4px; }

        /* Key Points */
        .key-point { background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%); color: white; border-radius: var(--radius); padding: 20px; margin: 20px 0; }
        .key-point h4 { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-size: 1rem; }
        .key-point ul { list-style: none; }
        .key-point li { padding: 8px 0; padding-left: 24px; position: relative; }
        .key-point li::before { content: "âœ“"; position: absolute; left: 0; }

        /* Comparison Box */
        .comparison-box { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 20px 0; }
        .comparison-item { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 20px; }
        .comparison-item.correct { border-color: var(--success); background: var(--success-light); }
        .comparison-item.incorrect { border-color: var(--error); background: var(--error-light); }
        .comparison-item h4 { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-size: 0.95rem; }
        .comparison-item .jp { font-size: 1.1rem; color: var(--text-primary); }

        /* MNN Connection */
        .mnn-toggle { background: var(--secondary); color: white; border: none; padding: 12px 20px; border-radius: var(--radius); cursor: pointer; font-size: 0.9rem; font-weight: 500; display: flex; align-items: center; gap: 8px; margin: 20px 0; transition: var(--transition); width: 100%; justify-content: space-between; }
        .mnn-toggle:hover { background: var(--primary); }
        .mnn-toggle .arrow { transition: transform 0.3s ease; }
        .mnn-toggle.open .arrow { transform: rotate(180deg); }
        .mnn-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; background: var(--secondary-light); border-radius: 0 0 var(--radius) var(--radius); }
        .mnn-content.open { max-height: 600px; }
        .mnn-content-inner { padding: 20px; }
        .mnn-content h4 { color: var(--primary-dark); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .mnn-content ul { list-style: none; }
        .mnn-content li { padding: 8px 0; padding-left: 20px; position: relative; color: var(--text-secondary); border-bottom: 1px dashed var(--border); }
        .mnn-content li:last-child { border-bottom: none; }
        .mnn-content li::before { content: "ğŸ“–"; position: absolute; left: 0; }

        /* Mini Quiz */
        .mini-quiz { background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-light) 100%); border: 2px solid var(--accent); border-radius: var(--radius); padding: 24px; margin: 24px 0; }
        .mini-quiz-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; }
        .mini-quiz-header .icon { font-size: 1.5rem; }
        .mini-quiz-header h4 { color: var(--accent-dark); font-size: 1rem; }
        .mini-quiz-question { font-size: 1rem; color: var(--text-primary); margin-bottom: 16px; }
        .mini-quiz-options { display: grid; gap: 10px; }
        .mini-quiz-option { background: var(--bg-card); border: 2px solid var(--border); border-radius: 8px; padding: 14px 18px; cursor: pointer; transition: var(--transition); display: flex; align-items: center; gap: 12px; }
        .mini-quiz-option:hover { border-color: var(--accent); background: var(--accent-light); }
        .mini-quiz-option.selected { border-color: var(--accent); background: var(--accent-light); }
        .mini-quiz-option.correct { border-color: var(--success); background: var(--success-light); }
        .mini-quiz-option.incorrect { border-color: var(--error); background: var(--error-light); }
        .mini-quiz-option .marker { width: 24px; height: 24px; border: 2px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; flex-shrink: 0; }
        .mini-quiz-option.correct .marker { background: var(--success); border-color: var(--success); color: white; }
        .mini-quiz-option.incorrect .marker { background: var(--error); border-color: var(--error); color: white; }
        .mini-quiz-feedback { margin-top: 16px; padding: 16px; border-radius: 8px; display: none; }
        .mini-quiz-feedback.show { display: block; animation: fadeIn 0.3s ease; }
        .mini-quiz-feedback.correct { background: var(--success-light); border-left: 4px solid var(--success); }
        .mini-quiz-feedback.incorrect { background: var(--error-light); border-left: 4px solid var(--error); }
        .mini-quiz-feedback h5 { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
        .mini-quiz-feedback.correct h5 { color: var(--success); }
        .mini-quiz-feedback.incorrect h5 { color: var(--error); }

        /* Full Quiz Card */
        .quiz-card { background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%); border-radius: var(--radius-lg); padding: 40px; color: white; }
        .quiz-header { display: flex; align-items: center; gap: 16px; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid rgba(255,255,255,0.2); }
        .quiz-badge { background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .quiz-header h2 { font-size: 1.4rem; }
        .quiz-question { background: rgba(255,255,255,0.1); border-radius: var(--radius); padding: 24px; margin-bottom: 20px; }
        .question-number { font-size: 0.85rem; opacity: 0.8; margin-bottom: 8px; }
        .question-context { font-size: 0.95rem; opacity: 0.9; margin-bottom: 12px; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px; }
        .question-text { font-size: 1.1rem; margin-bottom: 16px; }
        .fill-blank { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; font-size: 1.2rem; }
        .blank-input { background: rgba(255,255,255,0.9); border: 2px solid transparent; border-radius: 8px; padding: 10px 16px; font-size: 1rem; color: var(--text-primary); width: 180px; transition: var(--transition); font-family: inherit; }
        .blank-input:focus { outline: none; border-color: var(--primary); }
        .check-btn { background: white; color: var(--accent-dark); border: none; padding: 14px 32px; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); margin-top: 20px; }
        .check-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        /* Answer Card */
        .answer-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); }
        .answer-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid var(--border); }
        .answer-badge { background: var(--success); color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .answer-header h2 { color: var(--primary-dark); font-size: 1.3rem; }
        .answer-result { padding: 20px; border-radius: var(--radius); margin-bottom: 16px; }
        .answer-result.correct { background: var(--success-light); border-left: 4px solid var(--success); }
        .result-label { font-size: 0.85rem; color: var(--success); font-weight: 600; margin-bottom: 8px; }
        .answer-text { font-size: 1.2rem; color: var(--text-primary); margin-bottom: 12px; }
        .answer-explanation { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; }

        /* Summary Card */
        .summary-card { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); border-radius: var(--radius-lg); padding: 48px; color: white; text-align: center; }
        .summary-card h2 { font-size: 2rem; margin-bottom: 16px; }
        .summary-card > p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 32px; }
        .summary-points { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px; margin-bottom: 32px; }
        .summary-point { background: rgba(255,255,255,0.15); border-radius: var(--radius); padding: 20px; }
        .summary-point h4 { font-size: 1rem; margin-bottom: 8px; }
        .summary-point p { font-size: 0.85rem; opacity: 0.9; }
        .restart-btn { background: white; color: var(--primary-dark); border: none; padding: 14px 32px; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); }
        .restart-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        /* Body Parts Diagram */
        .body-symptoms { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin: 20px 0; }
        .symptom-item { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 14px; text-align: center; transition: var(--transition); }
        .symptom-item:hover { border-color: var(--primary); transform: scale(1.02); }
        .symptom-item .emoji { font-size: 1.8rem; margin-bottom: 6px; }
        .symptom-item .jp { font-size: 1rem; color: var(--primary-dark); font-weight: 500; }
        .symptom-item .reading { font-size: 0.75rem; color: var(--text-muted); }
        .symptom-item .en { font-size: 0.8rem; color: var(--text-secondary); margin-top: 4px; }

        /* Highlight */
        .highlight { background: linear-gradient(120deg, var(--primary-light) 0%, var(--primary-light) 100%); background-repeat: no-repeat; background-size: 100% 40%; background-position: 0 90%; padding: 0 4px; }
        .grammar-highlight { color: var(--primary); font-weight: 600; }

        /* Responsive */
        @media (max-width: 768px) {
            .progress-header { flex-wrap: wrap; gap: 12px; }
            .progress-bar-wrapper { order: 3; flex-basis: 100%; max-width: none; }
            .progress-nav { gap: 6px; }
            .nav-btn { padding: 6px 12px; font-size: 0.8rem; }
            .content-card, .quiz-card, .answer-card, .summary-card { padding: 24px 16px; }
            .slide-header { flex-direction: column; align-items: flex-start; gap: 12px; }
            .formation-table { font-size: 0.85rem; }
            .formation-table th, .formation-table td { padding: 10px 8px; }
            .dialogue-line { flex-direction: column; gap: 6px; }
            .timeline-container { flex-direction: column; }
            .timeline-arrow { transform: rotate(90deg); }
            .vocab-grid { grid-template-columns: repeat(2, 1fr); }
            .medicine-grid { grid-template-columns: 1fr; }
        }

        @media (max-width: 480px) {
            .title-slide h1 { font-size: 2rem; }
            .grammar-item { font-size: 0.85rem; padding: 10px 12px; }
            .example-box .jp { font-size: 1.1rem; }
            .vocab-grid { grid-template-columns: 1fr 1fr; gap: 10px; }
            .vocab-card { padding: 12px; }
            .body-symptoms { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <div class="progress-title">
                <span class="lesson-badge">L15</span>
                <span>ğŸ¥ <ruby>å¥åº·<rt>ã‘ã‚“ã“ã†</rt></ruby>ãª<ruby>ç”Ÿæ´»<rt>ã›ã„ã‹ã¤</rt></ruby></span>
            </div>
            <div class="progress-bar-wrapper">
                <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
                <div class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">24</span></div>
            </div>
            <div class="progress-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">â† <ruby>å‰<rt>ã¾ãˆ</rt></ruby></button>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()"><ruby>æ¬¡<rt>ã¤ã</rt></ruby> â†’</button>
            </div>
        </div>
    </div>

    <!-- Presentation -->
    <div class="presentation">
        <!-- Slide 1: Title -->
        <div class="slide active" data-slide="1">
            <div class="title-slide">
                <div class="book-badge">ã„ã‚ã©ã‚Š IRODORI â€¢ åˆç´š1 A2</div>
                <div class="health-icons">ğŸ¥ ğŸ’Š ğŸ©º ğŸ¤’ ğŸ’‰</div>
                <div class="lesson-title-jp">ç¬¬15èª² â€¢ <ruby>å¥åº·<rt>ã‘ã‚“ã“ã†</rt></ruby>ãª<ruby>ç”Ÿæ´»<rt>ã›ã„ã‹ã¤</rt></ruby></div>
                <h1><ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã£ã¦ã®ã©ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby>ã„ã‚“ã§ã™</h1>
                <p class="lesson-subtitle">I have a fever and my throat hurts</p>
                
                <div class="title-card">
                    <h2>ğŸ“š <ruby>æ–‡æ³•<rt>ã¶ã‚“ã½ã†</rt></ruby>ãƒã‚¤ãƒ³ãƒˆ Grammar Points</h2>
                    <div class="grammar-list">
                        <div class="grammar-item"><span class="grammar-number">1</span> ï½ã‚“ã§ã™â‘¡ â€” Explaining symptoms (nouns/adjectives/verbs)</div>
                        <div class="grammar-item"><span class="grammar-number">2</span> V-ãªã„ã§ãã ã•ã„ â€” Negative instructions/requests</div>
                        <div class="grammar-item"><span class="grammar-number">3</span> V (plain-form) + N â€” Describing what something does</div>
                        <div class="grammar-item"><span class="grammar-number">4</span> V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« / V-ãŸã‚ã¨ â€” Before/After doing</div>
                        <div class="grammar-item"><span class="grammar-number">5</span> ï½ã¨ã(ã«)ã€ï½ â€” When (situation/timing)</div>
                    </div>
                </div>
                
                <button class="start-btn" onclick="nextSlide()">ğŸ©º <ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã¾ã—ã‚‡ã†ï¼Start Learning</button>
            </div>
        </div>

        <!-- Slide 2: Vocabulary - Body Parts & Symptoms -->
        <div class="slide" data-slide="2">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">ğŸ“ VOCAB</span>
                    <h2>Body Parts & Symptoms</h2>
                    <span class="jp-title"><ruby>ä½“<rt>ã‹ã‚‰ã </rt></ruby>ã®<ruby>éƒ¨åˆ†<rt>ã¶ã¶ã‚“</rt></ruby>ã¨<ruby>ç—‡çŠ¶<rt>ã—ã‚‡ã†ã˜ã‚‡ã†</rt></ruby></span>
                </div>

                <p style="margin-bottom: 20px; color: var(--text-secondary);">Before learning grammar, let's review key vocabulary for describing symptoms at the doctor's office! ğŸ¥</p>

                <h4 style="color: var(--primary-dark); margin-bottom: 16px;">ğŸ¦´ Body Parts</h4>
                <div class="body-symptoms">
                    <div class="symptom-item">
                        <div class="emoji">ğŸ—£ï¸</div>
                        <div class="jp">ã®ã©</div>
                        <div class="en">throat</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ¤•</div>
                        <div class="jp"><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby></div>
                        <div class="en">head</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ¦µ</div>
                        <div class="jp"><ruby>è¶³<rt>ã‚ã—</rt></ruby></div>
                        <div class="en">leg/foot</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ’ª</div>
                        <div class="jp"><ruby>è…•<rt>ã†ã§</rt></ruby></div>
                        <div class="en">arm</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ«</div>
                        <div class="jp"><ruby>èƒƒ<rt>ã„</rt></ruby></div>
                        <div class="en">stomach</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ‘‚</div>
                        <div class="jp"><ruby>è€³<rt>ã¿ã¿</rt></ruby></div>
                        <div class="en">ear</div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ¤’ Symptoms</h4>
                <div class="body-symptoms">
                    <div class="symptom-item">
                        <div class="emoji">ğŸŒ¡ï¸</div>
                        <div class="jp"><ruby>ç†±<rt>ã­ã¤</rt></ruby></div>
                        <div class="en">fever</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ¤§</div>
                        <div class="jp">ã›ã</div>
                        <div class="en">cough</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ¤¢</div>
                        <div class="jp"><ruby>å<rt>ã¯</rt></ruby>ã<ruby>æ°—<rt>ã‘</rt></ruby></div>
                        <div class="en">nausea</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ˜µ</div>
                        <div class="jp"><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby></div>
                        <div class="en">cold</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸ¤•</div>
                        <div class="jp">ã‘ãŒ</div>
                        <div class="en">injury</div>
                    </div>
                    <div class="symptom-item">
                        <div class="emoji">ğŸº</div>
                        <div class="jp"><ruby>äºŒæ—¥é…”<rt>ãµã¤ã‹ã‚ˆ</rt></ruby>ã„</div>
                        <div class="en">hangover</div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 1 â†’</button>
            </div>
        </div>

        <!-- Slide 3: Grammar 1 - ï½ã‚“ã§ã™â‘¡ Introduction -->
        <div class="slide" data-slide="3">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>ï½ã‚“ã§ã™ â‘¡</h2>
                    <span class="jp-title">Explaining Symptoms</span>
                </div>

                <div class="example-box">
                    <div class="jp"><ruby>æ˜¨æ—¥<rt>ãã®ã†</rt></ruby>ã‹ã‚‰38<ruby>åº¦<rt>ã©</rt></ruby>ã®<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã£ã¦ã€ã®ã©ãŒã™ã”ã<span class="grammar-highlight"><ruby>ç—›<rt>ã„ãŸ</rt></ruby>ã„ã‚“ã§ã™</span>ã€‚</div>
                    <div class="en">I have had a 38-degree fever since yesterday, and my throat is very sore.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is ï½ã‚“ã§ã™?</h4>
                    <ul>
                        <li>Used to <strong>explain a situation</strong> to someone (like a doctor)</li>
                        <li>In Lesson 14, we learned ï½ã‚“ã§ã™ with <strong>verbs</strong></li>
                        <li>This lesson adds <strong>nouns</strong> and <strong>adjectives</strong></li>
                        <li>Adds a sense of "the reason is..." or "the thing is..."</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ¥ Common Questions at the Doctor</h4>
                
                <div class="comparison-box">
                    <div class="comparison-item">
                        <h4>ğŸ˜Ÿ Casual: ã©ã†ã—ãŸã‚“ã§ã™ã‹ï¼Ÿ</h4>
                        <p class="jp">What's the matter?</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 8px;">Used when someone looks different than usual</p>
                    </div>
                    <div class="comparison-item">
                        <h4>ğŸ‘¨â€âš•ï¸ Formal: ã©ã†ã—ã¾ã—ãŸã‹ï¼Ÿ</h4>
                        <p class="jp">What's wrong? (professional)</p>
                        <p style="font-size: 0.85rem; color: var(--text-muted); margin-top: 8px;">Used by doctors to ask about symptoms</p>
                    </div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 17:</strong> Introduces ãªã„-form (needed for ï½ãªã„ã‚“ã§ã™)</li>
                            <li><strong>Lesson 19:</strong> ãŸ-form + ã“ã¨ãŒã‚ã‚‹ (experience)</li>
                            <li><strong>Lesson 20:</strong> Plain form basics (dictionary form, ãŸ-form)</li>
                            <li><strong>Lesson 26:</strong> ï½ã‚“ã§ã™ for explanations (main introduction)</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Formation Rules â†’</button>
            </div>
        </div>

        <!-- Slide 4: Grammar 1 - Formation Table -->
        <div class="slide" data-slide="4">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>ï½ã‚“ã§ã™ Formation</h2>
                    <span class="jp-title">ã€Œï½ã‚“ã§ã™ã€ã®<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã‚Š<ruby>æ–¹<rt>ã‹ãŸ</rt></ruby></span>
                </div>

                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Pattern</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Noun</strong><br><span class="furigana">åè©(ã‚ã„ã—)</span></td>
                            <td class="pattern">N + <span class="grammar-highlight">ãªã‚“ã§ã™</span></td>
                            <td>
                                <div class="example-jp"><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby><span class="grammar-highlight">ãªã‚“ã§ã™</span></div>
                                <div class="example-en">I have a cold</div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ãƒŠ-adjective</strong><br><span class="furigana">ãƒŠå½¢å®¹è©</span></td>
                            <td class="pattern">ãƒŠA + <span class="grammar-highlight">ãªã‚“ã§ã™</span></td>
                            <td>
                                <div class="example-jp"><ruby>å¤§å¤‰<rt>ãŸã„ã¸ã‚“</rt></ruby><span class="grammar-highlight">ãªã‚“ã§ã™</span></div>
                                <div class="example-en">It's terrible</div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ã‚¤-adjective</strong><br><span class="furigana">ã‚¤å½¢å®¹è©</span></td>
                            <td class="pattern">ã‚¤A + <span class="grammar-highlight">ã‚“ã§ã™</span></td>
                            <td>
                                <div class="example-jp">ã®ã©ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><span class="grammar-highlight">ã„ã‚“ã§ã™</span></div>
                                <div class="example-en">My throat hurts</div>
                            </td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Verb</strong><br><span class="furigana">å‹•è©(ã©ã†ã—)</span></td>
                            <td class="pattern">V-ã‚‹ + <span class="grammar-highlight">ã‚“ã§ã™</span><br><span class="furigana">(è¾æ›¸å½¢)</span></td>
                            <td>
                                <div class="example-jp"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒ<ruby>ã‚<rt></rt></ruby>ã‚‹<span class="grammar-highlight">ã‚“ã§ã™</span></div>
                                <div class="example-en">I have a fever</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãŸ + <span class="grammar-highlight">ã‚“ã§ã™</span><br><span class="furigana">(ã‚¿å½¢)</span></td>
                            <td>
                                <div class="example-jp"><ruby>è¶³<rt>ã‚ã—</rt></ruby>ã‚’ãã˜ã„<ruby>ãŸ<rt></rt></ruby><span class="grammar-highlight">ã‚“ã§ã™</span></div>
                                <div class="example-en">I twisted my ankle</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãªã„ + <span class="grammar-highlight">ã‚“ã§ã™</span><br><span class="furigana">(ãƒŠã‚¤å½¢)</span></td>
                            <td>
                                <div class="example-jp">ã›ããŒ<ruby>æ­¢<rt>ã¨</rt></ruby>ã¾ã‚‰<ruby>ãªã„<rt></rt></ruby><span class="grammar-highlight">ã‚“ã§ã™</span></div>
                                <div class="example-en">I can't stop coughing</div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="key-point" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);">
                    <h4>âš ï¸ Important Difference</h4>
                    <ul>
                        <li><strong>Nouns/ãƒŠ-adj:</strong> Use ï½<strong>ãª</strong>ã‚“ã§ã™</li>
                        <li><strong>ã‚¤-adj/Verbs:</strong> Use ï½ã‚“ã§ã™ (no ãª)</li>
                        <li>Multiple symptoms? Connect with <strong>ã¦-form</strong>!</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Examples â†’</button>
            </div>
        </div>

        <!-- Slide 5: Grammar 1 - Dialogue Example -->
        <div class="slide" data-slide="5">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>Doctor-Patient Dialogue</h2>
                    <span class="jp-title"><ruby>åŒ»è€…<rt>ã„ã—ã‚ƒ</rt></ruby>ã¨<ruby>æ‚£è€…<rt>ã‹ã‚“ã˜ã‚ƒ</rt></ruby>ã®<ruby>ä¼šè©±<rt>ã‹ã„ã‚</rt></ruby></span>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ¥</span>
                        <h4>At the Hospital</h4>
                    </div>
                    
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ <ruby>åŒ»è€…<rt>ã„ã—ã‚ƒ</rt></ruby></span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯ã€ã©ã†ã—ã¾ã—ãŸã‹ï¼Ÿ</div>
                            <div class="en">What is wrong with you today?</div>
                        </div>
                    </div>
                    
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">ğŸ¤’ <ruby>æ‚£è€…<rt>ã‹ã‚“ã˜ã‚ƒ</rt></ruby></span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby>ãã¦ã€<ruby>å<rt>ã¯</rt></ruby>ã<ruby>æ°—<rt>ã‘</rt></ruby>ãŒã™ã‚‹<span class="grammar-highlight">ã‚“ã§ã™</span>ã€‚</div>
                            <div class="en">I have a headache and nausea.</div>
                        </div>
                    </div>
                    
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ <ruby>åŒ»è€…<rt>ã„ã—ã‚ƒ</rt></ruby></span>
                        <div class="dialogue-text">
                            <div class="jp">ã„ã¤ã‹ã‚‰ã§ã™ã‹ï¼Ÿ</div>
                            <div class="en">Since when?</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ’¬ More Examples</h4>

                <div class="dialogue-box">
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>è…•<rt>ã†ã§</rt></ruby>ã®ã‘ãŒã€ã©ã†ã—ãŸã‚“ã§ã™ã‹ï¼Ÿ</div>
                            <div class="en">What happened to your arm?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>è‡ªè»¢è»Š<rt>ã˜ã¦ã‚“ã—ã‚ƒ</rt></ruby>ã§<ruby>è»¢<rt>ã“ã‚</rt></ruby>ã‚“ã <span class="grammar-highlight">ã‚“ã§ã™</span>ã€‚</div>
                            <div class="en">I fell off my bicycle.</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>æ°—<rt>ã</rt></ruby>ã‚’ã¤ã‘ã¦ãã ã•ã„ã­ã€‚</div>
                            <div class="en">Please take care.</div>
                        </div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 6: Grammar 1 - Mini Quiz -->
        <div class="slide" data-slide="6">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">ï½ã‚“ã§ã™</span>
                </div>

                <div class="mini-quiz" id="quiz1">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        The doctor asks "ã©ã†ã—ã¾ã—ãŸã‹ï¼Ÿ" You want to say "I have a cold."<br>
                        Which is correct?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ã‚“ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby><strong>ãª</strong>ã‚“ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ã„ã‚“ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz1-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz1b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        You want to explain "My head hurts" (using ã‚¤-adjective <ruby>ç—›<rt>ã„ãŸ</rt></ruby>ã„).<br>
                        Which is correct?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ãª</strong>ã‚“ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ã„</strong>ã‚“ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby>ãã‚“ã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz1b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 2 â†’</button>
            </div>
        </div>

        <!-- Slide 7: Grammar 2 - V-ãªã„ã§ãã ã•ã„ Introduction -->
        <div class="slide" data-slide="7">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>V-ãªã„ã§ãã ã•ã„</h2>
                    <span class="jp-title">Negative Instructions</span>
                </div>

                <div class="example-box">
                    <div class="jp"><ruby>ä»Šé€±<rt>ã“ã‚“ã—ã‚…ã†</rt></ruby>ã¯<ruby>ä»•äº‹<rt>ã—ã”ã¨</rt></ruby>ã‚’<ruby>ä¼‘<rt>ã‚„ã™</rt></ruby>ã‚“ã§ã€ã§ãã‚‹ã ã‘<ruby>äºº<rt>ã²ã¨</rt></ruby>ã«<ruby>ä¼š<rt>ã‚</rt></ruby>ã‚<span class="grammar-highlight">ãªã„ã§ãã ã•ã„</span>ã€‚</div>
                    <div class="en">Please take some time off from work this week, and do not see people if at all possible.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is V-ãªã„ã§ãã ã•ã„?</h4>
                    <ul>
                        <li>Used to <strong>instruct or request someone NOT to do something</strong></li>
                        <li>Common at hospitals when doctors give instructions</li>
                        <li>Connects to the verb's <strong>ãƒŠã‚¤-form</strong></li>
                        <li>Polite way to say "Please don't..."</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ“Š Politeness Levels</h4>
                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Expression</th>
                            <th>Politeness</th>
                            <th>When to Use</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pattern">V-ãªã„ã§</td>
                            <td>Casual</td>
                            <td>Friends, family</td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãªã„ã§ãã ã•ã„</td>
                            <td>Polite âœ“</td>
                            <td>Standard polite request</td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãªã„ã§ãã‚Œã‚‹ï¼Ÿ</td>
                            <td>Casual request</td>
                            <td>Asking a favor (casual)</td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãªã„ã§ã‚‚ã‚‰ãˆã¾ã›ã‚“ã‹ï¼Ÿ</td>
                            <td>Very polite</td>
                            <td>Formal situations</td>
                        </tr>
                    </tbody>
                </table>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 17:</strong> ãªã„-form introduction (V-ãªã„ã§ãã ã•ã„ first appears)</li>
                            <li><strong>Lesson 14:</strong> V-ã¦ãã ã•ã„ (positive request - learned first)</li>
                            <li><strong>Lesson 24:</strong> V-ã¦ã‚‚ã‚‰ãˆã¾ã›ã‚“ã‹ (polite request forms)</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Medical Examples â†’</button>
            </div>
        </div>

        <!-- Slide 8: Grammar 2 - Medical Instructions -->
        <div class="slide" data-slide="8">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>Doctor's Instructions</h2>
                    <span class="jp-title"><ruby>åŒ»è€…<rt>ã„ã—ã‚ƒ</rt></ruby>ã®<ruby>æŒ‡ç¤º<rt>ã—ã˜</rt></ruby></span>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ‘¨â€âš•ï¸</span>
                        <h4>Common Medical Instructions</h4>
                    </div>
                    
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ Dr.</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ã§ã™ã­ã€‚ã—ã°ã‚‰ãã€<ruby>æ¿€<rt>ã¯ã’</rt></ruby>ã—ã„<ruby>é‹å‹•<rt>ã†ã‚“ã©ã†</rt></ruby>ã‚’<span class="grammar-highlight">ã—ãªã„ã§ãã ã•ã„</span>ã€‚</div>
                            <div class="en">You have a cold. Do not engage in vigorous physical activity for a while.</div>
                        </div>
                    </div>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">ğŸ¤’ Patient</span>
                        <div class="dialogue-text">
                            <div class="jp">ãŠ<ruby>é¢¨å‘‚<rt>ãµã‚</rt></ruby>ã«<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã‚‚ã„ã„ã§ã™ã‹ï¼Ÿ</div>
                            <div class="en">Can I take a bath?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ Dr.</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã‚Šã¾ã™ã‹ã‚‰ã€<ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯ã€<span class="grammar-highlight"><ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„ã§ãã ã•ã„</span>ã€‚</div>
                            <div class="en">You have a fever, so please do not take a bath today.</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸš« Common "Don't" Instructions</h4>
                <div class="vocab-grid">
                    <div class="vocab-card">
                        <div class="emoji">ğŸƒ</div>
                        <div class="word"><ruby>é‹å‹•<rt>ã†ã‚“ã©ã†</rt></ruby>ã—ãªã„ã§</div>
                        <div class="meaning">Don't exercise</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ›</div>
                        <div class="word"><ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„ã§</div>
                        <div class="meaning">Don't take a bath</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸº</div>
                        <div class="word"><ruby>é£²<rt>ã®</rt></ruby>ã¾ãªã„ã§</div>
                        <div class="meaning">Don't drink (alcohol)</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸš—</div>
                        <div class="word"><ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby>ã—ãªã„ã§</div>
                        <div class="meaning">Don't drive</div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 9: Grammar 2 - Mini Quiz -->
        <div class="slide" data-slide="9">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">V-ãªã„ã§ãã ã•ã„</span>
                </div>

                <div class="mini-quiz" id="quiz2">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        The doctor says you shouldn't drive after taking medicine. How would they say "Please don't drive"?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby>ã—ã¦ãã ã•ã„ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby><strong>ã—ãªã„ã§</strong>ãã ã•ã„ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby>ã—ãªãã¦ãã ã•ã„ã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz2-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz2b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        What's the ãªã„-form of <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹ (to eat)?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‰ãªã„</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãªã„</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã°ãªã„</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz2b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 3 â†’</button>
            </div>
        </div>

        <!-- Slide 10: Grammar 3 - V (plain-form) + N Introduction -->
        <div class="slide" data-slide="10">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>V (plain-form) + N</h2>
                    <span class="jp-title">Describing What Medicine Does</span>
                </div>

                <div class="example-box">
                    <div class="jp">ã“ã¡ã‚‰ã¯ã€ã›ãã‚’<ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã‚‹<span class="grammar-highlight"><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></span>ã§ã™ã€‚</div>
                    <div class="en">This is medicine that suppresses coughing.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ Qualifying Nouns with Verbs</h4>
                    <ul>
                        <li>In Japanese, modifiers come <strong>BEFORE</strong> the noun</li>
                        <li>Use the <strong>plain/dictionary form</strong> of verbs to describe nouns</li>
                        <li>Very useful for explaining <strong>what medicine does</strong></li>
                        <li>Pattern: [verb plain-form] + [noun]</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ”„ How It Works</h4>
                <div class="example-box" style="background: white; border: 2px solid var(--border);">
                    <p style="margin-bottom: 12px; color: var(--text-secondary);">Combining two sentences:</p>
                    <div class="jp" style="font-size: 1.1rem;">ã“ã‚Œã¯ã€<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚ + ã“ã®<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¯ã€ã›ãã‚’<ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã¾ã™ã€‚</div>
                    <div class="en" style="margin-bottom: 16px;">"This is medicine." + "This medicine suppresses coughing."</div>
                    <div style="text-align: center; font-size: 1.5rem; color: var(--primary);">â†“</div>
                    <div class="jp" style="font-size: 1.2rem; margin-top: 12px;">ã“ã‚Œã¯ã€ã›ãã‚’<ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã‚‹<span class="grammar-highlight"><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></span>ã§ã™ã€‚</div>
                    <div class="en">"This is medicine that suppresses coughing."</div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 20:</strong> Plain form basics (dictionary form = non-past affirmative plain form)</li>
                            <li><strong>Lesson 22:</strong> Noun modification with plain form verbs (main lesson for this grammar)</li>
                            <li><strong>Lesson 38:</strong> More complex noun modification patterns</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Medicine Examples â†’</button>
            </div>
        </div>

        <!-- Slide 11: Grammar 3 - Medicine Cards -->
        <div class="slide" data-slide="11">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>Medicine Descriptions</h2>
                    <span class="jp-title"><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã®<ruby>èª¬æ˜<rt>ã›ã¤ã‚ã„</rt></ruby></span>
                </div>

                <div class="medicine-grid">
                    <div class="medicine-card">
                        <div class="header">
                            <span class="icon">ğŸŒ¡ï¸</span>
                            <div>
                                <div class="name"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                                <div class="name-reading">fever reducer</div>
                            </div>
                        </div>
                        <div class="effect">ğŸ’Š Reduces fever (antipyretic)</div>
                        <div class="instruction">Example: <ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã‚’<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    </div>

                    <div class="medicine-card">
                        <div class="header">
                            <span class="icon">ğŸ¤§</span>
                            <div>
                                <div class="name">ã›ãï¼<ruby>é¼»æ°´<rt>ã¯ãªã¿ãš</rt></ruby>ã‚’<ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                                <div class="name-reading">cough/runny nose suppressant</div>
                            </div>
                        </div>
                        <div class="effect">ğŸ’Š Suppresses coughing/runny nose</div>
                        <div class="instruction">Example: ã›ãã‚’<ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚</div>
                    </div>

                    <div class="medicine-card">
                        <div class="header">
                            <span class="icon">ğŸ«</span>
                            <div>
                                <div class="name"><ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                                <div class="name-reading">stomach protector</div>
                            </div>
                        </div>
                        <div class="effect">ğŸ’Š Protects the stomach</div>
                        <div class="instruction">Example: <ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¨ã„ã£ã—ã‚‡ã«<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    </div>

                    <div class="medicine-card">
                        <div class="header">
                            <span class="icon">ğŸ˜´</span>
                            <div>
                                <div class="name"><ruby>çœ <rt>ã­ã‚€</rt></ruby>ããªã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                                <div class="name-reading">medicine that causes drowsiness</div>
                            </div>
                        </div>
                        <div class="effect">âš ï¸ May cause drowsiness</div>
                        <div class="instruction">Warning: <ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby>ã—ãªã„ã§ãã ã•ã„ã€‚</div>
                    </div>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ’¬</span>
                        <h4>Example Conversation</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">ğŸ¤” A</span>
                        <div class="dialogue-text">
                            <div class="jp">ã“ã‚Œã¯<ruby>ä½•<rt>ãªã‚“</rt></ruby>ã®<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã‹ï¼Ÿ</div>
                            <div class="en">What is this medicine for?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚<ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¨ã„ã£ã—ã‚‡ã«<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                            <div class="en">This medicine is for reducing a fever. Please take it with a medicine to protect your stomach.</div>
                        </div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 12: Grammar 3 - Mini Quiz -->
        <div class="slide" data-slide="12">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">V (plain-form) + N</span>
                </div>

                <div class="mini-quiz" id="quiz3">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "medicine that protects the stomach"?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã¾ã™<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby><strong>ã‚‹</strong><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã‚’<ruby>èƒƒ<rt>ã„</rt></ruby>ã‚’<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚‹</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz3-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz3b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        Where does the modifying verb phrase go in Japanese?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, true)">
                            <span class="marker">A</span>
                            <span><strong>Before</strong> the noun it modifies</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, false)">
                            <span class="marker">B</span>
                            <span>After the noun it modifies</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, false)">
                            <span class="marker">C</span>
                            <span>At the end of the sentence</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz3b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 4 â†’</button>
            </div>
        </div>

        <!-- Slide 13: Grammar 4 - V-ã‚‹å‰ã« / V-ãŸã‚ã¨ Introduction -->
        <div class="slide" data-slide="13">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 4</span>
                    <h2>V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« / V-ãŸã‚ã¨</h2>
                    <span class="jp-title">Before/After Doing</span>
                </div>

                <div class="example-box">
                    <div class="jp">1<ruby>æ—¥<rt>ã«ã¡</rt></ruby>1<ruby>å›<rt>ã‹ã„</rt></ruby>ã€<ruby>å¯<rt>ã­</rt></ruby>ã‚‹<span class="grammar-highlight"><ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</span><ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    <div class="en">Please take it once daily before bedtime.</div>
                </div>

                <div class="example-box">
                    <div class="jp"><ruby>é£²<rt>ã®</rt></ruby>ã‚€ã¨ã€<ruby>çœ <rt>ã­ã‚€</rt></ruby>ããªã‚Šã¾ã™ã€‚<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã <span class="grammar-highlight">ã‚ã¨</span>ã€<ruby>é‹è»¢<rt>ã†ã‚“ã¦ã‚“</rt></ruby>ã—ãªã„ã§ãã ã•ã„ã­ã€‚</div>
                    <div class="en">You will be sleepy after taking this medicine. Please do not drive after taking it.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ Before & After with Verbs</h4>
                    <ul>
                        <li><strong>V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</strong> = Before doing V (uses dictionary form)</li>
                        <li><strong>V-ãŸã‚ã¨</strong> = After doing V (uses ãŸ-form)</li>
                        <li>Very common for medicine instructions!</li>
                        <li>Lesson 8 covered N ã®<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«/ã‚ã¨ã§ with nouns</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">â° Timeline Visualization</h4>
                <div class="timeline-container">
                    <div class="timeline-item action">
                        <div>ğŸ½ï¸</div>
                        <div>ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby></div>
                        <div class="timeline-label">meal</div>
                    </div>
                    <div class="timeline-arrow">â†’</div>
                    <div class="timeline-item medicine">
                        <div>ğŸ’Š</div>
                        <div><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                        <div class="timeline-label">medicine</div>
                    </div>
                    <div style="padding: 8px; text-align: center;">
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">= ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ<strong>ã‚ã¨</strong>ã€<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã‚’<ruby>é£²<rt>ã®</rt></ruby>ã‚€</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">"Take medicine after eating"</div>
                    </div>
                </div>

                <div class="timeline-container">
                    <div class="timeline-item medicine">
                        <div>ğŸ’Š</div>
                        <div><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby></div>
                        <div class="timeline-label">medicine</div>
                    </div>
                    <div class="timeline-arrow">â†’</div>
                    <div class="timeline-item action">
                        <div>ğŸ˜´</div>
                        <div><ruby>å¯<rt>ã­</rt></ruby>ã‚‹</div>
                        <div class="timeline-label">sleep</div>
                    </div>
                    <div style="padding: 8px; text-align: center;">
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">= <ruby>å¯<rt>ã­</rt></ruby>ã‚‹<strong><ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</strong>ã€<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã‚’<ruby>é£²<rt>ã®</rt></ruby>ã‚€</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted);">"Take medicine before sleeping"</div>
                    </div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 18:</strong> Dictionary form basics</li>
                            <li><strong>Lesson 19:</strong> ãŸ-form basics</li>
                            <li><strong>Lesson 17:</strong> V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« first introduced</li>
                            <li><strong>Lesson 16:</strong> V-ã¦ã‹ã‚‰ (another "after" expression)</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Examples â†’</button>
            </div>
        </div>

        <!-- Slide 14: Grammar 4 - Formation & Examples -->
        <div class="slide" data-slide="14">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 4</span>
                    <h2>Formation & Examples</h2>
                    <span class="jp-title"><ruby>ä½œ<rt>ã¤ã</rt></ruby>ã‚Š<ruby>æ–¹<rt>ã‹ãŸ</rt></ruby>ã¨<ruby>ä¾‹<rt>ã‚Œã„</rt></ruby></span>
                </div>

                <h4 style="color: var(--primary-dark); margin-bottom: 16px;">ğŸ“Š Verb Form Reference</h4>
                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Group</th>
                            <th>Polite (ã¾ã™)</th>
                            <th>Dictionary (ã‚‹)</th>
                            <th>ãŸ-form</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td><ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã™</td>
                            <td><ruby>è²·<rt>ã‹</rt></ruby>ã†</td>
                            <td><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ</td>
                        </tr>
                        <tr>
                            <td><strong>2ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td><ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã¾ã™</td>
                            <td><ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆã‚‹</td>
                            <td><ruby>æŠ‘<rt>ãŠã•</rt></ruby>ãˆãŸ</td>
                        </tr>
                        <tr>
                            <td rowspan="2"><strong>3ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td>ã—ã¾ã™</td>
                            <td>ã™ã‚‹</td>
                            <td>ã—ãŸ</td>
                        </tr>
                        <tr>
                            <td><ruby>æ¥<rt>ã</rt></ruby>ã¾ã™</td>
                            <td><ruby>æ¥<rt>ã</rt></ruby>ã‚‹</td>
                            <td><ruby>æ¥<rt>ã</rt></ruby>ãŸ</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ’¬ Pharmacy Dialogue</h4>
                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ’Š</span>
                        <h4>At the Pharmacy</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">ğŸ¤” A</span>
                        <div class="dialogue-text">
                            <div class="jp">ã“ã®<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¯ã€ã„ã¤<ruby>é£²<rt>ã®</rt></ruby>ã¿ã¾ã™ã‹ï¼Ÿ</div>
                            <div class="en">When should I take this medicine?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘©â€âš•ï¸ B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ç™½<rt>ã—ã‚</rt></ruby>ã„<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¯ã€ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ<span class="grammar-highlight">ã‚ã¨</span>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                            <div class="en">Please take the white pill after meals.</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘©â€âš•ï¸ B</span>
                        <div class="dialogue-text">
                            <div class="jp">ã‚«ãƒ—ã‚»ãƒ«ã¯ã€<ruby>å¯<rt>ã­</rt></ruby>ã‚‹<span class="grammar-highlight"><ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</span>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                            <div class="en">Please take the capsule before bedtime.</div>
                        </div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 15: Grammar 4 - Mini Quiz -->
        <div class="slide" data-slide="15">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 4</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« / V-ãŸã‚ã¨</span>
                </div>

                <div class="mini-quiz" id="quiz4">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "before sleeping" using <ruby>å¯<rt>ã­</rt></ruby>ã‚‹?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4', this, true)">
                            <span class="marker">A</span>
                            <span><ruby>å¯<rt>ã­</rt></ruby><strong>ã‚‹</strong><ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4', this, false)">
                            <span class="marker">B</span>
                            <span><ruby>å¯<rt>ã­</rt></ruby><strong>ãŸ</strong><ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>å¯<rt>ã­</rt></ruby>ã¾ã™<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz4-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz4b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "after eating" using <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4b', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹ã‚ã¨</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4b', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹<strong>ãŸ</strong>ã‚ã¨</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz4b', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¦ã‚ã¨</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz4b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 5 â†’</button>
            </div>
        </div>

        <!-- Slide 16: Grammar 5 - ï½ã¨ã Introduction -->
        <div class="slide" data-slide="16">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 5</span>
                    <h2>ï½ã¨ã(ã«)ã€ï½</h2>
                    <span class="jp-title">When (situation/timing)</span>
                </div>

                <div class="example-box">
                    <div class="jp">ã“ã®<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¯ã€<ruby>ç—›<rt>ã„ãŸ</rt></ruby>ãã¦ãŒã¾ã‚“ã§ããªã„<span class="grammar-highlight">ã¨ãã«</span>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    <div class="en">As for this medicine, please take it when the pain becomes unbearable.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is ï½ã¨ã?</h4>
                    <ul>
                        <li>Indicates a <strong>certain point in time or situation</strong></li>
                        <li>Used to give advice: "When X happens, do Y"</li>
                        <li>Perfect for medical advice about when to take medicine</li>
                        <li>ï½ã¨ãã¯ can introduce a topic: "As for when..."</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ”— Connection to Previous Lessons</h4>
                <div class="comparison-box">
                    <div class="comparison-item">
                        <h4>ğŸ“˜ Lesson 10 (Irodori)</h4>
                        <p class="jp">N/Adj + ã¨ã</p>
                        <p style="font-size: 0.9rem; margin-top: 8px;"><ruby>é«˜æ ¡<rt>ã“ã†ã“ã†</rt></ruby>ã®ã¨ã = when I was in high school</p>
                        <p style="font-size: 0.9rem;"><ruby>æš‡<rt>ã²ã¾</rt></ruby>ãªã¨ã = when I'm free</p>
                    </div>
                    <div class="comparison-item">
                        <h4>ğŸ“— Lesson 13 (Irodori)</h4>
                        <p class="jp">V-ãŸã„ã¨ã</p>
                        <p style="font-size: 0.9rem; margin-top: 8px;"><ruby>ä¸¡é¢<rt>ã‚Šã‚‡ã†ã‚ã‚“</rt></ruby>ã‚³ãƒ”ãƒ¼ã‚’ã—ãŸã„ã¨ã = when I want to make double-sided copies</p>
                    </div>
                </div>

                <div class="example-box" style="background: white; border: 2px solid var(--accent);">
                    <h4 style="color: var(--accent-dark); margin-bottom: 12px;">ğŸ¥ This Lesson: Medical Advice</h4>
                    <div class="jp" style="font-size: 1.1rem;"><ruby>é«˜<rt>ãŸã‹</rt></ruby>ã„<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ãŸ<span class="grammar-highlight">ã¨ã</span><ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    <div class="en">Please take it when you have a high fever.</div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 23:</strong> ï½ã¨ã (main introduction with various forms)</li>
                            <li><strong>Lesson 25:</strong> ï½ãŸã‚‰ (another conditional "when/if")</li>
                            <li><strong>Lesson 35:</strong> Conditional forms review</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Formation â†’</button>
            </div>
        </div>

        <!-- Slide 17: Grammar 5 - Formation Table -->
        <div class="slide" data-slide="17">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 5</span>
                    <h2>ï½ã¨ã Formation</h2>
                    <span class="jp-title">ã€Œï½ã¨ãã€ã®<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã‚Š<ruby>æ–¹<rt>ã‹ãŸ</rt></ruby></span>
                </div>

                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Pattern</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Noun</strong></td>
                            <td class="pattern">N + <span class="grammar-highlight">ã®ã¨ã</span></td>
                            <td>
                                <div class="example-jp"><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby><span class="grammar-highlight">ã®ã¨ã</span></div>
                                <div class="example-en">when you have a cold</div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ãƒŠ-adjective</strong></td>
                            <td class="pattern">ãƒŠA + <span class="grammar-highlight">ãªã¨ã</span></td>
                            <td>
                                <div class="example-jp"><ruby>å¤§å¤‰<rt>ãŸã„ã¸ã‚“</rt></ruby><span class="grammar-highlight">ãªã¨ã</span></div>
                                <div class="example-en">when you are troubled</div>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>ã‚¤-adjective</strong></td>
                            <td class="pattern">ã‚¤A + <span class="grammar-highlight">ã„ã¨ã</span></td>
                            <td>
                                <div class="example-jp"><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><span class="grammar-highlight">ã„ã¨ã</span></div>
                                <div class="example-en">when you have a headache</div>
                            </td>
                        </tr>
                        <tr>
                            <td rowspan="3"><strong>Verb</strong></td>
                            <td class="pattern">V-ã‚‹ + <span class="grammar-highlight">ã¨ã</span></td>
                            <td>
                                <div class="example-jp"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã‚‹<span class="grammar-highlight">ã¨ã</span></div>
                                <div class="example-en">when you have a fever</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãŸ + <span class="grammar-highlight">ã¨ã</span></td>
                            <td>
                                <div class="example-jp"><ruby>è¶³<rt>ã‚ã—</rt></ruby>ã‚’ãã˜ã„ãŸ<span class="grammar-highlight">ã¨ã</span></div>
                                <div class="example-en">when you twist your ankle</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="pattern">V-ãªã„ + <span class="grammar-highlight">ã¨ã</span></td>
                            <td>
                                <div class="example-jp">ãŒã¾ã‚“ã§ããªã„<span class="grammar-highlight">ã¨ã</span></div>
                                <div class="example-en">when it becomes unbearable</div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ’¬ Practical Examples</h4>
                <div class="dialogue-box">
                    <div class="dialogue-line">
                        <span class="dialogue-speaker patient">ğŸ¤” A</span>
                        <div class="dialogue-text">
                            <div class="jp">ã“ã®<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã¯ã€ã„ã¤<ruby>é£²<rt>ã®</rt></ruby>ã¿ã¾ã™ã‹ï¼Ÿ</div>
                            <div class="en">When should I take this medicine?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">ğŸ‘¨â€âš•ï¸ B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>é«˜<rt>ãŸã‹</rt></ruby>ã„<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ãŸ<span class="grammar-highlight">ã¨ã</span><ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                            <div class="en">Please take it when you have a high fever.</div>
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <div class="jp"><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ã®<span class="grammar-highlight">ã¨ãã¯</span>ã€<ruby>æ¸©<rt>ã‚ãŸãŸ</rt></ruby>ã‹ãã—ã¦ã€ã‚ˆã<ruby>ä¼‘<rt>ã‚„ã™</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    <div class="en">When you have a cold, keep warm and get plenty of rest.</div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 18: Grammar 5 - Mini Quiz -->
        <div class="slide" data-slide="18">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 5</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">ï½ã¨ã(ã«)ã€ï½</span>
                </div>

                <div class="mini-quiz" id="quiz5">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "when you have a cold" using the noun <ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ãªã¨ã</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby><strong>ã®</strong>ã¨ã</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>é¢¨é‚ª<rt>ã‹ãœ</rt></ruby>ã¨ã</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz5-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz5b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        Which form do you use with ã‚¤-adjectives before ã¨ã?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5b', this, true)">
                            <span class="marker">A</span>
                            <span>Keep the ã„: <ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ã„</strong>ã¨ã</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5b', this, false)">
                            <span class="marker">B</span>
                            <span>Add ãª: <ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ãª</strong>ã¨ã</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz5b', this, false)">
                            <span class="marker">C</span>
                            <span>Add ã®: <ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ã®</strong>ã¨ã</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz5b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Practice Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 19: Full Practice Quiz 1 -->
        <div class="slide" data-slide="19">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ¯ Practice</span>
                    <h2>Grammar Review Quiz</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">ğŸ¥ At the doctor's office, explaining your symptoms:</div>
                    <div class="question-text">Complete: "<ruby>æ˜¨æ—¥<rt>ãã®ã†</rt></ruby>ã‹ã‚‰<ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby>___ã€‚"</div>
                    <div class="fill-blank">
                        <ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><input type="text" class="blank-input" id="pq1-1" placeholder="?">ã€‚
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">ğŸ‘¨â€âš•ï¸ The doctor gives you instructions:</div>
                    <div class="question-text">Complete: "<ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯ãŠ<ruby>é¢¨å‘‚<rt>ãµã‚</rt></ruby>ã«___ã€‚" (Please don't take a bath)</div>
                    <div class="fill-blank">
                        ãŠ<ruby>é¢¨å‘‚<rt>ãµã‚</rt></ruby>ã«<input type="text" class="blank-input" id="pq1-2" placeholder="?">ã€‚
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">Check Answers â†’</button>
            </div>
        </div>

        <!-- Slide 20: Practice Quiz 1 Answers -->
        <div class="slide" data-slide="20">
            <div class="answer-card">
                <div class="answer-header">
                    <span class="answer-badge">âœ… Answers</span>
                    <h2>Quiz Review</h2>
                </div>
                
                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 1 Answer</div>
                    <div class="answer-text"><ruby>é ­<rt>ã‚ãŸã¾</rt></ruby>ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ã„ã‚“ã§ã™</strong>ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> When explaining symptoms with ã‚¤-adjectives like <ruby>ç—›<rt>ã„ãŸ</rt></ruby>ã„ (painful), you keep the ã„ and add ã‚“ã§ã™ directly. This creates "The thing is, my head hurts" â€” a natural way to explain symptoms to a doctor.
                    </div>
                </div>

                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 2 Answer</div>
                    <div class="answer-text">ãŠ<ruby>é¢¨å‘‚<rt>ãµã‚</rt></ruby>ã«<strong><ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„ã§ãã ã•ã„</strong>ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> To give a negative instruction "please don't," use V-ãªã„ã§ãã ã•ã„. The ãªã„-form of <ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‹ (to enter) is <ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„, so the full expression is <ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„ã§ãã ã•ã„ (please don't take a bath).
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Continue Practice â†’</button>
            </div>
        </div>

        <!-- Slide 21: Full Practice Quiz 2 -->
        <div class="slide" data-slide="21">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ¯ Practice</span>
                    <h2>Medicine Instructions Quiz</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">ğŸ’Š The pharmacist explains when to take medicine:</div>
                    <div class="question-text">Complete: "ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ___ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚" (after eating)</div>
                    <div class="fill-blank">
                        <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ<input type="text" class="blank-input" id="pq2-1" placeholder="?">ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">ğŸ©¹ The doctor explains what the medicine does:</div>
                    <div class="question-text">Complete: "ã“ã‚Œã¯ã€<ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’___<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚" (medicine that reduces fever)</div>
                    <div class="fill-blank">
                        <ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<input type="text" class="blank-input" id="pq2-2" placeholder="?"><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">Check Answers â†’</button>
            </div>
        </div>

        <!-- Slide 22: Practice Quiz 2 Answers -->
        <div class="slide" data-slide="22">
            <div class="answer-card">
                <div class="answer-header">
                    <span class="answer-badge">âœ… Answers</span>
                    <h2>Quiz Review</h2>
                </div>
                
                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 1 Answer</div>
                    <div class="answer-text"><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ<strong>ã‚ã¨</strong>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> "After doing V" uses V-ãŸã‚ã¨. Since <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã‚‹'s ãŸ-form is <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ, we get <ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸã‚ã¨ (after eating). Remember: <ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« uses dictionary form, ã‚ã¨ uses ãŸ-form!
                    </div>
                </div>

                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 2 Answer</div>
                    <div class="answer-text"><ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<strong><ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹</strong><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> To describe what medicine does, use V(plain-form) + N. The verb <ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹ means "to lower/reduce," so <ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby> = "medicine that lowers fever." Remember: modifiers come BEFORE the noun in Japanese!
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Final Scenario â†’</button>
            </div>
        </div>

        <!-- Slide 23: Comprehensive Practice -->
        <div class="slide" data-slide="23">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ¥ Final Practice</span>
                    <h2>Hospital Visit Scenario</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Putting It All Together</div>
                    <div class="question-context">Imagine you're visiting the doctor with a cold. Let's use all 5 grammar points!</div>
                    
                    <div style="padding: 16px; background: rgba(255,255,255,0.1); border-radius: 8px; margin: 16px 0;">
                        <p style="margin-bottom: 16px;"><strong>Scenario:</strong> At the Hospital</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>1. Explain your symptoms (ï½ã‚“ã§ã™):</strong></p>
                        <p style="opacity: 0.9;"><ruby>æ˜¨æ—¥<rt>ãã®ã†</rt></ruby>ã‹ã‚‰<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã£ã¦ã€ã®ã©ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby><strong>ã„ã‚“ã§ã™</strong>ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>2. Doctor's instruction (V-ãªã„ã§ãã ã•ã„):</strong></p>
                        <p style="opacity: 0.9;"><ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯ãŠ<ruby>é¢¨å‘‚<rt>ãµã‚</rt></ruby>ã«<strong><ruby>å…¥<rt>ã¯ã„</rt></ruby>ã‚‰ãªã„ã§ãã ã•ã„</strong>ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>3. Medicine description (V plain + N):</strong></p>
                        <p style="opacity: 0.9;">ã“ã‚Œã¯<ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<strong><ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹</strong><ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã§ã™ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>4. When to take (V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã« / V-ãŸã‚ã¨):</strong></p>
                        <p style="opacity: 0.9;">ã”<ruby>é£¯<rt>ã¯ã‚“</rt></ruby>ã‚’<ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ<strong>ã‚ã¨</strong>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>5. Conditional advice (ï½ã¨ã):</strong></p>
                        <p style="opacity: 0.9;"><ruby>é«˜<rt>ãŸã‹</rt></ruby>ã„<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ãŸ<strong>ã¨ã</strong>ã€<ruby>é£²<rt>ã®</rt></ruby>ã‚“ã§ãã ã•ã„ã€‚</p>
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">See Summary â†’</button>
            </div>
        </div>

        <!-- Slide 24: Summary -->
        <div class="slide" data-slide="24">
            <div class="summary-card">
                <h2>ğŸ‰ Lesson 15 Complete!</h2>
                <p>You've mastered 5 essential grammar points for medical situations!</p>
                
                <div class="summary-points">
                    <div class="summary-point">
                        <h4>1. ï½ã‚“ã§ã™â‘¡</h4>
                        <p>Explain symptoms<br>(N/Adj/V forms)</p>
                    </div>
                    <div class="summary-point">
                        <h4>2. V-ãªã„ã§ãã ã•ã„</h4>
                        <p>Negative instructions<br>"Please don't..."</p>
                    </div>
                    <div class="summary-point">
                        <h4>3. V plain + N</h4>
                        <p>Describe medicine<br>"medicine that..."</p>
                    </div>
                    <div class="summary-point">
                        <h4>4. V-ã‚‹<ruby>å‰<rt>ã¾ãˆ</rt></ruby>ã«/V-ãŸã‚ã¨</h4>
                        <p>Before/After<br>taking medicine</p>
                    </div>
                    <div class="summary-point">
                        <h4>5. ï½ã¨ã(ã«)</h4>
                        <p>When to take<br>medicine</p>
                    </div>
                </div>

                <div style="margin-top: 32px; padding: 20px; background: rgba(255,255,255,0.2); border-radius: var(--radius);">
                    <h3 style="margin-bottom: 12px;">ğŸ¥ Now You Can:</h3>
                    <p style="font-size: 1rem; opacity: 0.95;">
                        <ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒã‚ã£ã¦ã€ã®ã©ãŒ<ruby>ç—›<rt>ã„ãŸ</rt></ruby>ã„ã‚“ã§ã™ã€‚<br>
                        <ruby>ç†±<rt>ã­ã¤</rt></ruby>ã‚’<ruby>ä¸‹<rt>ã•</rt></ruby>ã’ã‚‹<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ã‚’ãã ã•ã„ã€‚<br>
                        <ruby>é«˜<rt>ãŸã‹</rt></ruby>ã„<ruby>ç†±<rt>ã­ã¤</rt></ruby>ãŒ<ruby>å‡º<rt>ã§</rt></ruby>ãŸã¨ãã€<ruby>é£²<rt>ã®</rt></ruby>ã¿ã¾ã™ã€‚
                    </p>
                </div>

                <button class="restart-btn" onclick="restartPresentation()">ğŸ”„ <ruby>æœ€åˆ<rt>ã•ã„ã—ã‚‡</rt></ruby>ã‹ã‚‰ Start Over</button>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 24;

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(slide => slide.classList.remove('active'));
            const activeSlide = document.querySelector(`[data-slide="${currentSlide}"]`);
            if (activeSlide) activeSlide.classList.add('active');
            
            document.getElementById('currentSlide').textContent = currentSlide;
            document.getElementById('totalSlides').textContent = totalSlides;
            
            const progress = ((currentSlide - 1) / (totalSlides - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(slideNum) {
            currentSlide = slideNum;
            updateSlide();
        }

        function restartPresentation() {
            currentSlide = 1;
            updateSlide();
            // Reset all quizzes
            document.querySelectorAll('.mini-quiz-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.style.pointerEvents = 'auto';
            });
            document.querySelectorAll('.mini-quiz-feedback').forEach(fb => {
                fb.classList.remove('show', 'correct', 'incorrect');
                fb.innerHTML = '';
            });
        }

        function toggleMNN(button) {
            const content = button.nextElementSibling;
            button.classList.toggle('open');
            content.classList.toggle('open');
        }

        function checkMiniQuiz(quizId, selectedOption, isCorrect) {
            const quiz = document.getElementById(quizId);
            const options = quiz.querySelectorAll('.mini-quiz-option');
            const feedback = document.getElementById(quizId + '-feedback');
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark selected
            selectedOption.classList.add('selected');
            
            // Show correct/incorrect
            if (isCorrect) {
                selectedOption.classList.add('correct');
                selectedOption.querySelector('.marker').textContent = 'âœ“';
                feedback.className = 'mini-quiz-feedback show correct';
                feedback.innerHTML = '<h5>âœ“ Correct!</h5><p>Great job! You understood this grammar point.</p>';
            } else {
                selectedOption.classList.add('incorrect');
                selectedOption.querySelector('.marker').textContent = 'âœ—';
                // Find and highlight correct answer
                options.forEach(opt => {
                    if (opt !== selectedOption) {
                        const marker = opt.querySelector('.marker').textContent;
                        // Check if this is the correct one based on the onclick
                        const onclickAttr = opt.getAttribute('onclick');
                        if (onclickAttr && onclickAttr.includes('true')) {
                            opt.classList.add('correct');
                            opt.querySelector('.marker').textContent = 'âœ“';
                        }
                    }
                });
                feedback.className = 'mini-quiz-feedback show incorrect';
                feedback.innerHTML = '<h5>âœ— Not quite!</h5><p>Check the correct answer highlighted above. Review the grammar explanation if needed.</p>';
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevSlide();
            }
        });

        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) nextSlide();
                else prevSlide();
            }
        }

        // Initialize
        updateSlide();
    </script>
</body>
</html>
