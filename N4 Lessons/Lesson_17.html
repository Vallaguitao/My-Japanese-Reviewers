<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã„ã‚ã©ã‚Š Irodori A2 - Lesson 17: å…„ãŒãã‚ŒãŸãŠå®ˆã‚Šã§ã™</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #d97706;
            --primary-light: #fbbf24;
            --primary-dark: #b45309;
            --accent: #dc2626;
            --accent-light: #fca5a5;
            --accent-dark: #b91c1c;
            --secondary: #7c3aed;
            --secondary-light: #ddd6fe;
            --success: #16a34a;
            --success-light: #bbf7d0;
            --error: #dc2626;
            --error-light: #fecaca;
            --warning: #ca8a04;
            --warning-light: #fef9c3;
            --bg-light: #fffbeb;
            --bg-warm: #fef3c7;
            --bg-card: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --border: #fde68a;
            --shadow: 0 4px 6px -1px rgba(217, 119, 6, 0.1), 0 2px 4px -1px rgba(217, 119, 6, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(217, 119, 6, 0.1), 0 4px 6px -2px rgba(217, 119, 6, 0.05);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Noto Sans JP', 'Outfit', sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-warm) 100%);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: var(--bg-card); box-shadow: var(--shadow); padding: 12px 20px;
        }
        .progress-header {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; gap: 20px;
        }
        .progress-title {
            font-size: 0.9rem; font-weight: 600; color: var(--primary);
            display: flex; align-items: center; gap: 8px;
        }
        .progress-title .lesson-badge {
            background: var(--primary); color: white; padding: 2px 10px;
            border-radius: 20px; font-size: 0.75rem;
        }
        .progress-bar-wrapper { flex: 1; max-width: 500px; }
        .progress-bar { height: 8px; background: var(--border); border-radius: 10px; overflow: hidden; }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
            border-radius: 10px; transition: width 0.5s ease; width: 0%;
        }
        .progress-text { font-size: 0.8rem; color: var(--text-muted); text-align: right; margin-top: 4px; }
        .progress-nav { display: flex; gap: 8px; }
        .nav-btn {
            background: var(--primary); color: white; border: none; padding: 8px 16px;
            border-radius: 8px; cursor: pointer; font-size: 0.85rem; font-weight: 500;
            transition: var(--transition); display: flex; align-items: center; gap: 6px;
        }
        .nav-btn:hover { background: var(--accent); transform: translateY(-1px); }
        .nav-btn:disabled { background: var(--border); color: var(--text-muted); cursor: not-allowed; transform: none; }

        /* Slides */
        .presentation { padding-top: 80px; min-height: 100vh; }
        .slide { display: none; max-width: 1000px; margin: 0 auto; padding: 40px 20px; animation: fadeIn 0.5s ease; }
        .slide.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Title Slide */
        .title-slide { text-align: center; padding: 60px 20px; }
        .title-slide .book-badge {
            display: inline-block; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; padding: 8px 24px; border-radius: 30px; font-size: 0.9rem;
            font-weight: 500; margin-bottom: 24px; letter-spacing: 1px;
        }
        .title-slide h1 { font-size: clamp(2rem, 5vw, 3.5rem); font-weight: 700; color: var(--primary-dark); margin-bottom: 16px; line-height: 1.2; }
        .title-slide .lesson-title-jp { font-size: clamp(1rem, 2.5vw, 1.4rem); color: var(--primary); margin-bottom: 8px; }
        .title-slide .lesson-subtitle { font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 40px; }
        .gift-icons { font-size: 2.5rem; margin-bottom: 24px; }
        .title-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); max-width: 850px; margin: 0 auto 40px; }
        .title-card h2 { color: var(--primary-dark); font-size: 1.3rem; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        .grammar-list { display: grid; gap: 10px; }
        .grammar-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: var(--bg-light); border-radius: var(--radius); border-left: 4px solid var(--primary); transition: var(--transition); font-size: 0.95rem; }
        .grammar-item:hover { transform: translateX(8px); background: var(--bg-warm); }
        .grammar-number { width: 26px; height: 26px; background: var(--primary); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 600; flex-shrink: 0; }
        .start-btn { background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%); color: white; border: none; padding: 16px 48px; border-radius: 30px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: var(--transition); box-shadow: 0 4px 14px rgba(217, 119, 6, 0.4); }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(217, 119, 6, 0.5); }

        /* Content Cards */
        .content-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); margin-bottom: 24px; }
        .slide-header { display: flex; align-items: center; gap: 16px; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid var(--border); flex-wrap: wrap; }
        .grammar-badge { background: var(--primary); color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .slide-header h2 { font-size: 1.5rem; color: var(--primary-dark); flex: 1; min-width: 200px; }
        .slide-header .jp-title { font-size: 1rem; color: var(--primary); font-weight: 500; }

        /* Ruby/Furigana */
        ruby { ruby-position: over; }
        ruby rt { font-size: 0.6em; color: var(--text-muted); }
        .furigana { font-size: 0.75em; color: var(--text-muted); }

        /* Example Boxes */
        .example-box { background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-warm) 100%); border-radius: var(--radius); padding: 24px; margin: 20px 0; border-left: 4px solid var(--primary); }
        .example-box .jp { font-size: 1.3rem; color: var(--primary-dark); margin-bottom: 8px; line-height: 1.8; }
        .example-box .en { color: var(--text-secondary); font-size: 0.95rem; }

        /* Dialogue Box */
        .dialogue-box { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 24px; margin: 20px 0; }
        .dialogue-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
        .dialogue-header .icon { font-size: 1.5rem; }
        .dialogue-header h4 { color: var(--primary-dark); font-size: 1rem; }
        .dialogue-line { display: flex; gap: 12px; margin: 12px 0; align-items: flex-start; }
        .dialogue-speaker { background: var(--primary); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; white-space: nowrap; }
        .dialogue-speaker.friend { background: var(--accent); }
        .dialogue-text { flex: 1; }
        .dialogue-text .jp { font-size: 1.1rem; color: var(--text-primary); margin-bottom: 4px; }
        .dialogue-text .en { font-size: 0.85rem; color: var(--text-muted); }

        /* Formation Tables */
        .formation-table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 0.95rem; }
        .formation-table th { background: var(--primary); color: white; padding: 14px; text-align: left; font-weight: 500; }
        .formation-table td { padding: 14px; border-bottom: 1px solid var(--border); }
        .formation-table tr:hover { background: var(--bg-light); }
        .formation-table .pattern { font-weight: 600; color: var(--primary-dark); }
        .formation-table .example-jp { color: var(--text-primary); }
        .formation-table .example-en { color: var(--text-muted); font-size: 0.85rem; }

        /* Vocabulary Grid */
        .vocab-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin: 24px 0; }
        .vocab-card { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 16px; text-align: center; transition: var(--transition); }
        .vocab-card:hover { border-color: var(--primary); transform: translateY(-3px); box-shadow: var(--shadow); }
        .vocab-card .emoji { font-size: 2rem; margin-bottom: 8px; }
        .vocab-card .word { font-size: 1.1rem; color: var(--primary-dark); font-weight: 600; margin-bottom: 4px; }
        .vocab-card .reading { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px; }
        .vocab-card .meaning { font-size: 0.9rem; color: var(--text-secondary); }

        /* Gift Cards */
        .gift-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0; }
        .gift-card { background: linear-gradient(135deg, #ffffff 0%, var(--bg-light) 100%); border-radius: var(--radius); padding: 20px; border: 2px solid var(--border); transition: var(--transition); position: relative; overflow: hidden; }
        .gift-card:hover { border-color: var(--primary); box-shadow: var(--shadow-lg); }
        .gift-card::before { content: "ğŸ"; position: absolute; top: 10px; right: 10px; font-size: 1.5rem; opacity: 0.3; }
        .gift-card .header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
        .gift-card .icon { font-size: 2rem; }
        .gift-card .name { font-size: 1.1rem; font-weight: 600; color: var(--primary-dark); }
        .gift-card .name-reading { font-size: 0.8rem; color: var(--text-muted); }
        .gift-card .description { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 8px; }
        .gift-card .example { background: var(--primary-light); color: var(--primary-dark); padding: 10px 14px; border-radius: 8px; font-size: 0.9rem; margin-top: 12px; }
        .gift-card .example .en { font-size: 0.8rem; color: var(--text-muted); margin-top: 4px; }

        /* Key Points */
        .key-point { background: linear-gradient(135deg, var(--primary-light) 0%, var(--primary) 100%); color: white; border-radius: var(--radius); padding: 20px; margin: 20px 0; }
        .key-point h4 { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-size: 1rem; }
        .key-point ul { list-style: none; }
        .key-point li { padding: 8px 0; padding-left: 24px; position: relative; }
        .key-point li::before { content: "âœ“"; position: absolute; left: 0; }

        /* Comparison Box */
        .comparison-box { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 20px 0; }
        .comparison-item { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 20px; }
        .comparison-item.morau { border-color: var(--primary); background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); }
        .comparison-item.kureru { border-color: var(--accent); background: linear-gradient(135deg, #fef2f2 0%, #fecaca 100%); }
        .comparison-item h4 { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; font-size: 0.95rem; }
        .comparison-item .jp { font-size: 1.1rem; color: var(--text-primary); margin-bottom: 8px; }
        .comparison-item .pattern { font-size: 0.9rem; color: var(--text-secondary); padding: 8px; background: rgba(255,255,255,0.5); border-radius: 6px; margin-top: 8px; }

        /* Flow Diagram */
        .flow-diagram { display: flex; align-items: center; justify-content: center; gap: 16px; padding: 24px; background: var(--bg-light); border-radius: var(--radius); margin: 20px 0; flex-wrap: wrap; }
        .flow-item { text-align: center; padding: 16px 24px; background: var(--bg-card); border-radius: var(--radius); border: 2px solid var(--border); min-width: 100px; }
        .flow-item .emoji { font-size: 2rem; margin-bottom: 8px; }
        .flow-item .label { font-size: 0.9rem; color: var(--text-secondary); }
        .flow-item .jp { font-size: 1rem; color: var(--primary-dark); font-weight: 500; }
        .flow-arrow { font-size: 2rem; color: var(--primary); }
        .flow-verb { background: var(--primary); color: white; padding: 12px 20px; border-radius: 30px; font-weight: 600; }

        /* MNN Connection */
        .mnn-toggle { background: var(--secondary); color: white; border: none; padding: 12px 20px; border-radius: var(--radius); cursor: pointer; font-size: 0.9rem; font-weight: 500; display: flex; align-items: center; gap: 8px; margin: 20px 0; transition: var(--transition); width: 100%; justify-content: space-between; }
        .mnn-toggle:hover { background: var(--primary); }
        .mnn-toggle .arrow { transition: transform 0.3s ease; }
        .mnn-toggle.open .arrow { transform: rotate(180deg); }
        .mnn-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; background: var(--secondary-light); border-radius: 0 0 var(--radius) var(--radius); }
        .mnn-content.open { max-height: 600px; }
        .mnn-content-inner { padding: 20px; }
        .mnn-content h4 { color: var(--primary-dark); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .mnn-content ul { list-style: none; }
        .mnn-content li { padding: 8px 0; padding-left: 20px; position: relative; color: var(--text-secondary); border-bottom: 1px dashed var(--border); }
        .mnn-content li:last-child { border-bottom: none; }
        .mnn-content li::before { content: "ğŸ“–"; position: absolute; left: 0; }

        /* Mini Quiz */
        .mini-quiz { background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-light) 100%); border: 2px solid var(--accent); border-radius: var(--radius); padding: 24px; margin: 24px 0; }
        .mini-quiz-header { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; }
        .mini-quiz-header .icon { font-size: 1.5rem; }
        .mini-quiz-header h4 { color: var(--accent-dark); font-size: 1rem; }
        .mini-quiz-question { font-size: 1rem; color: var(--text-primary); margin-bottom: 16px; }
        .mini-quiz-options { display: grid; gap: 10px; }
        .mini-quiz-option { background: var(--bg-card); border: 2px solid var(--border); border-radius: 8px; padding: 14px 18px; cursor: pointer; transition: var(--transition); display: flex; align-items: center; gap: 12px; }
        .mini-quiz-option:hover { border-color: var(--accent); background: var(--accent-light); }
        .mini-quiz-option.selected { border-color: var(--accent); background: var(--accent-light); }
        .mini-quiz-option.correct { border-color: var(--success); background: var(--success-light); }
        .mini-quiz-option.incorrect { border-color: var(--error); background: var(--error-light); }
        .mini-quiz-option .marker { width: 24px; height: 24px; border: 2px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; flex-shrink: 0; }
        .mini-quiz-option.correct .marker { background: var(--success); border-color: var(--success); color: white; }
        .mini-quiz-option.incorrect .marker { background: var(--error); border-color: var(--error); color: white; }
        .mini-quiz-feedback { margin-top: 16px; padding: 16px; border-radius: 8px; display: none; }
        .mini-quiz-feedback.show { display: block; animation: fadeIn 0.3s ease; }
        .mini-quiz-feedback.correct { background: var(--success-light); border-left: 4px solid var(--success); }
        .mini-quiz-feedback.incorrect { background: var(--error-light); border-left: 4px solid var(--error); }
        .mini-quiz-feedback h5 { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
        .mini-quiz-feedback.correct h5 { color: var(--success); }
        .mini-quiz-feedback.incorrect h5 { color: var(--error); }

        /* Full Quiz Card */
        .quiz-card { background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%); border-radius: var(--radius-lg); padding: 40px; color: white; }
        .quiz-header { display: flex; align-items: center; gap: 16px; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 2px solid rgba(255,255,255,0.2); }
        .quiz-badge { background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .quiz-header h2 { font-size: 1.4rem; }
        .quiz-question { background: rgba(255,255,255,0.1); border-radius: var(--radius); padding: 24px; margin-bottom: 20px; }
        .question-number { font-size: 0.85rem; opacity: 0.8; margin-bottom: 8px; }
        .question-context { font-size: 0.95rem; opacity: 0.9; margin-bottom: 12px; padding: 12px; background: rgba(255,255,255,0.1); border-radius: 8px; }
        .question-text { font-size: 1.1rem; margin-bottom: 16px; }
        .fill-blank { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; font-size: 1.2rem; }
        .blank-input { background: rgba(255,255,255,0.9); border: 2px solid transparent; border-radius: 8px; padding: 10px 16px; font-size: 1rem; color: var(--text-primary); width: 200px; transition: var(--transition); font-family: inherit; }
        .blank-input:focus { outline: none; border-color: var(--primary); }
        .check-btn { background: white; color: var(--accent-dark); border: none; padding: 14px 32px; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); margin-top: 20px; }
        .check-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        /* Answer Card */
        .answer-card { background: var(--bg-card); border-radius: var(--radius-lg); padding: 40px; box-shadow: var(--shadow-lg); }
        .answer-header { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid var(--border); }
        .answer-badge { background: var(--success); color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
        .answer-header h2 { color: var(--primary-dark); font-size: 1.3rem; }
        .answer-result { padding: 20px; border-radius: var(--radius); margin-bottom: 16px; }
        .answer-result.correct { background: var(--success-light); border-left: 4px solid var(--success); }
        .result-label { font-size: 0.85rem; color: var(--success); font-weight: 600; margin-bottom: 8px; }
        .answer-text { font-size: 1.2rem; color: var(--text-primary); margin-bottom: 12px; }
        .answer-explanation { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.6; }

        /* Summary Card */
        .summary-card { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); border-radius: var(--radius-lg); padding: 48px; color: white; text-align: center; }
        .summary-card h2 { font-size: 2rem; margin-bottom: 16px; }
        .summary-card > p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 32px; }
        .summary-points { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin-bottom: 32px; }
        .summary-point { background: rgba(255,255,255,0.15); border-radius: var(--radius); padding: 20px; }
        .summary-point h4 { font-size: 1rem; margin-bottom: 8px; }
        .summary-point p { font-size: 0.85rem; opacity: 0.9; }
        .restart-btn { background: white; color: var(--primary-dark); border: none; padding: 14px 32px; border-radius: 30px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: var(--transition); }
        .restart-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }

        /* Highlight */
        .highlight { background: linear-gradient(120deg, var(--primary-light) 0%, var(--primary-light) 100%); background-repeat: no-repeat; background-size: 100% 40%; background-position: 0 90%; padding: 0 4px; }
        .grammar-highlight { color: var(--primary); font-weight: 600; }

        /* Perspective Visual */
        .perspective-box { background: var(--bg-card); border: 2px solid var(--border); border-radius: var(--radius); padding: 20px; margin: 20px 0; }
        .perspective-title { text-align: center; font-weight: 600; color: var(--primary-dark); margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px dashed var(--border); }
        .perspective-row { display: flex; align-items: center; justify-content: center; gap: 16px; padding: 12px 0; flex-wrap: wrap; }
        .perspective-person { text-align: center; padding: 12px 20px; }
        .perspective-person .emoji { font-size: 2.5rem; }
        .perspective-person .label { font-size: 0.85rem; color: var(--text-muted); margin-top: 4px; }
        .perspective-arrow { font-size: 1.5rem; color: var(--primary); }
        .perspective-item { text-align: center; }
        .perspective-item .emoji { font-size: 1.8rem; }

        /* Responsive */
        @media (max-width: 768px) {
            .progress-header { flex-wrap: wrap; gap: 12px; }
            .progress-bar-wrapper { order: 3; flex-basis: 100%; max-width: none; }
            .progress-nav { gap: 6px; }
            .nav-btn { padding: 6px 12px; font-size: 0.8rem; }
            .content-card, .quiz-card, .answer-card, .summary-card { padding: 24px 16px; }
            .slide-header { flex-direction: column; align-items: flex-start; gap: 12px; }
            .formation-table { font-size: 0.85rem; }
            .formation-table th, .formation-table td { padding: 10px 8px; }
            .dialogue-line { flex-direction: column; gap: 6px; }
            .vocab-grid { grid-template-columns: repeat(2, 1fr); }
            .gift-grid { grid-template-columns: 1fr; }
            .flow-diagram { flex-direction: column; }
            .flow-arrow { transform: rotate(90deg); }
        }

        @media (max-width: 480px) {
            .title-slide h1 { font-size: 1.8rem; }
            .grammar-item { font-size: 0.85rem; padding: 10px 12px; }
            .example-box .jp { font-size: 1.1rem; }
            .vocab-grid { grid-template-columns: 1fr 1fr; gap: 10px; }
            .vocab-card { padding: 12px; }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-header">
            <div class="progress-title">
                <span class="lesson-badge">L17</span>
                <span>ğŸ <ruby>äº¤éš›<rt>ã“ã†ã•ã„</rt></ruby></span>
            </div>
            <div class="progress-bar-wrapper">
                <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
                <div class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">22</span></div>
            </div>
            <div class="progress-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevSlide()">â† <ruby>å‰<rt>ã¾ãˆ</rt></ruby></button>
                <button class="nav-btn" id="nextBtn" onclick="nextSlide()"><ruby>æ¬¡<rt>ã¤ã</rt></ruby> â†’</button>
            </div>
        </div>
    </div>

    <!-- Presentation -->
    <div class="presentation">
        <!-- Slide 1: Title -->
        <div class="slide active" data-slide="1">
            <div class="title-slide">
                <div class="book-badge">ã„ã‚ã©ã‚Š IRODORI â€¢ åˆç´š1 A2</div>
                <div class="gift-icons">ğŸ ğŸ€ ğŸ‚ ğŸ’ ğŸ§§</div>
                <div class="lesson-title-jp">ç¬¬17èª² â€¢ <ruby>äº¤éš›<rt>ã“ã†ã•ã„</rt></ruby></div>
                <h1><ruby>å…„<rt>ã‚ã«</rt></ruby>ãŒãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™</h1>
                <p class="lesson-subtitle">This is a personal amulet my older brother gave me</p>
                
                <div class="title-card">
                    <h2>ğŸ“š <ruby>æ–‡æ³•<rt>ã¶ã‚“ã½ã†</rt></ruby>ãƒã‚¤ãƒ³ãƒˆ Grammar Points</h2>
                    <div class="grammar-list">
                        <div class="grammar-item"><span class="grammar-number">1</span> V (plain-form) + N â‘¡ â€” Describing gifts with past tense verbs</div>
                        <div class="grammar-item"><span class="grammar-number">2</span> [<ruby>äºº<rt>ã²ã¨</rt></ruby>]ã«[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]ã‚’ã‚‚ã‚‰ã„ã¾ã™ â€” Receiving something from someone</div>
                        <div class="grammar-item"><span class="grammar-number">3</span> [<ruby>äºº<rt>ã²ã¨</rt></ruby>]ãŒ[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]ã‚’ãã‚Œã¾ã™ â€” Someone gives you something</div>
                    </div>
                </div>
                
                <button class="start-btn" onclick="nextSlide()">ğŸ <ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã¾ã—ã‚‡ã†ï¼Start Learning</button>
            </div>
        </div>

        <!-- Slide 2: Vocabulary - Gifts & Souvenirs -->
        <div class="slide" data-slide="2">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">ğŸ“ VOCAB</span>
                    <h2>Gifts & Special Items</h2>
                    <span class="jp-title">ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã¨<ruby>ç‰¹åˆ¥<rt>ã¨ãã¹ã¤</rt></ruby>ãªã‚‚ã®</span>
                </div>

                <p style="margin-bottom: 20px; color: var(--text-secondary);">Let's learn vocabulary for talking about gifts and souvenirs! ğŸ</p>

                <h4 style="color: var(--primary-dark); margin-bottom: 16px;">ğŸ€ Common Gifts</h4>
                <div class="vocab-grid">
                    <div class="vocab-card">
                        <div class="emoji">â›©ï¸</div>
                        <div class="word">ãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Š</div>
                        <div class="meaning">amulet/charm</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ¨</div>
                        <div class="word"><ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Š</div>
                        <div class="meaning">decoration</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ</div>
                        <div class="word">ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby></div>
                        <div class="meaning">souvenir</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">â˜•</div>
                        <div class="word">ãƒã‚°ã‚«ãƒƒãƒ—</div>
                        <div class="meaning">mug</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">âŒš</div>
                        <div class="word"><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby></div>
                        <div class="meaning">watch/clock</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ§ˆ</div>
                        <div class="word">ãƒã‚¿ãƒ¼</div>
                        <div class="meaning">butter</div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Members (Giver's perspective)</h4>
                <div class="vocab-grid">
                    <div class="vocab-card">
                        <div class="emoji">ğŸ‘¨</div>
                        <div class="word"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby></div>
                        <div class="meaning">(my) father</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ‘©</div>
                        <div class="word"><ruby>æ¯<rt>ã¯ã¯</rt></ruby></div>
                        <div class="meaning">(my) mother</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ‘¦</div>
                        <div class="word"><ruby>å…„<rt>ã‚ã«</rt></ruby></div>
                        <div class="meaning">(my) older brother</div>
                    </div>
                    <div class="vocab-card">
                        <div class="emoji">ğŸ‘§</div>
                        <div class="word"><ruby>å§‰<rt>ã‚ã­</rt></ruby></div>
                        <div class="meaning">(my) older sister</div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 1 â†’</button>
            </div>
        </div>

        <!-- Slide 3: Grammar 1 - V (plain-form) + N â‘¡ Introduction -->
        <div class="slide" data-slide="3">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>V (plain-form) + N â‘¡</h2>
                    <span class="jp-title">Describing Gifts</span>
                </div>

                <div class="example-box">
                    <div class="jp">ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ<span class="grammar-highlight"><ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Š</span>ã§ã™ã€‚</div>
                    <div class="en">This is a decoration I brought from Nepal.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is V (plain-form) + N?</h4>
                    <ul>
                        <li>Used to <strong>describe/explain things</strong> like gifts and belongings</li>
                        <li>In Lesson 15, we learned V + N for medicine (subject of explanation)</li>
                        <li>This lesson: the noun is the <strong>OBJECT</strong> being described</li>
                        <li>Uses <strong>past tense plain form (ãŸ-form)</strong> for completed actions</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ”„ How It Works</h4>
                <div class="example-box" style="background: white; border: 2px solid var(--border);">
                    <p style="margin-bottom: 12px; color: var(--text-secondary);">Combining two sentences:</p>
                    <div class="jp" style="font-size: 1.1rem;">ã“ã‚Œã¯ã€<ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Šã§ã™ã€‚ + <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã¯ã€ã“ã®<ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Šã‚’ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸã€‚</div>
                    <div class="en" style="margin-bottom: 16px;">"This is a decoration." + "I brought this decoration from Nepal."</div>
                    <div style="text-align: center; font-size: 1.5rem; color: var(--primary);">â†“</div>
                    <div class="jp" style="font-size: 1.2rem; margin-top: 12px;">ã“ã‚Œã¯ã€ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ<span class="grammar-highlight"><ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Š</span>ã§ã™ã€‚</div>
                    <div class="en">"This is a decoration (that) I brought from Nepal."</div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 19:</strong> ãŸ-form introduction (past plain form)</li>
                            <li><strong>Lesson 20:</strong> Plain form basics for all tenses</li>
                            <li><strong>Lesson 22:</strong> Noun modification with verbs (main lesson)</li>
                            <li><strong>Lesson 38:</strong> Complex noun modification patterns</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Verb Conjugation â†’</button>
            </div>
        </div>

        <!-- Slide 4: Grammar 1 - Verb Conjugation Table -->
        <div class="slide" data-slide="4">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>Past Plain Form (ãŸ-form)</h2>
                    <span class="jp-title"><ruby>å‹•è©<rt>ã©ã†ã—</rt></ruby>ï¼š<ruby>éå»<rt>ã‹ã“</rt></ruby>ãƒ»<ruby>æ™®é€šå½¢<rt>ãµã¤ã†ã‘ã„</rt></ruby></span>
                </div>

                <p style="margin-bottom: 16px; color: var(--text-secondary);">The past tense plain form (ã‚¿å½¢) is the same as the ãŸ-form you learned before!</p>

                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Group</th>
                            <th>Polite Past (ã¾ã—ãŸ)</th>
                            <th>Plain Past (ãŸ-form)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td><ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸ</td>
                            <td class="pattern"><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ</td>
                        </tr>
                        <tr>
                            <td><strong>2ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ã¾ã—ãŸ</td>
                            <td class="pattern"><ruby>é£Ÿ<rt>ãŸ</rt></ruby>ã¹ãŸ</td>
                        </tr>
                        <tr>
                            <td rowspan="2"><strong>3ã‚°ãƒ«ãƒ¼ãƒ—</strong></td>
                            <td>ã—ã¾ã—ãŸ</td>
                            <td class="pattern">ã—ãŸ</td>
                        </tr>
                        <tr>
                            <td><ruby>æ¥<rt>ã</rt></ruby>ã¾ã—ãŸ</td>
                            <td class="pattern"><ruby>æ¥<rt>ã</rt></ruby>ãŸ</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ Common Gift Expressions</h4>
                <div class="gift-grid">
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘¨â€ğŸ³</span>
                            <div>
                                <div class="name">(<ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ãŒ)<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸN</div>
                                <div class="name-reading">N (that) I made</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ãŒ<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸ<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚
                            <div class="en">This is a dish I made.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">âœˆï¸</span>
                            <div>
                                <div class="name">ï½ã‹ã‚‰<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸN</div>
                                <div class="name-reading">N I brought from ~</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>äº¬éƒ½<rt>ãã‚‡ã†ã¨</rt></ruby>ã‹ã‚‰<ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã§ã™ã€‚
                            <div class="en">This is a souvenir I brought from Kyoto.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ›’</span>
                            <div>
                                <div class="name">ï½ã§<ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸN</div>
                                <div class="name-reading">N I bought at ~</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>åŒ—æµ·é“<rt>ã»ã£ã‹ã„ã©ã†</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸãƒã‚¿ãƒ¼ã§ã™ã€‚
                            <div class="en">This is butter I bought in Hokkaido.</div>
                        </div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Dialogue Examples â†’</button>
            </div>
        </div>

        <!-- Slide 5: Grammar 1 - Dialogue Examples -->
        <div class="slide" data-slide="5">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>Offering Gifts</h2>
                    <span class="jp-title">ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã‚’<ruby>æ¸¡<rt>ã‚ãŸ</rt></ruby>ã™ã¨ã</span>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ</span>
                        <h4>Giving a Homemade Dish</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ãŒ<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸ<ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚ã‚ˆã‹ã£ãŸã‚‰ã€ã©ã†ãã€‚</div>
                            <div class="en">This is a dish I made. Please try some if you would like.</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker friend">B</span>
                        <div class="dialogue-text">
                            <div class="jp">ã„ãŸã ãã¾ã™ã€‚</div>
                            <div class="en">Thank you. (lit. I will receive it)</div>
                        </div>
                    </div>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ§ˆ</span>
                        <h4>Sharing a Souvenir</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp">ã“ã‚Œã€<ruby>åŒ—æµ·é“<rt>ã»ã£ã‹ã„ã©ã†</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸãƒã‚¿ãƒ¼ã§ã™ã€‚ãŠã„ã—ã„ã§ã™ã‚ˆã€‚</div>
                            <div class="en">This is butter I bought in Hokkaido. It's delicious!</div>
                        </div>
                    </div>
                </div>

                <div class="key-point" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);">
                    <h4>ğŸ’¡ Key Expression: ã‚ˆã‹ã£ãŸã‚‰ã€ã©ã†ã</h4>
                    <ul>
                        <li>A polite way to offer something</li>
                        <li>Means "If you'd like, please (have some)"</li>
                        <li>Very common when giving gifts or food</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 6: Grammar 1 - Mini Quiz -->
        <div class="slide" data-slide="6">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 1</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">V (plain-form) + N</span>
                </div>

                <div class="mini-quiz" id="quiz1">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "This is a souvenir I bought in Tokyo"?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>æ±äº¬<rt>ã¨ã†ãã‚‡ã†</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby>ã„ã¾ã—ãŸãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>æ±äº¬<rt>ã¨ã†ãã‚‡ã†</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby><strong>ã£ãŸ</strong>ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã§ã™ã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1', this, false)">
                            <span class="marker">C</span>
                            <span>ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã‚’<ruby>æ±äº¬<rt>ã¨ã†ãã‚‡ã†</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸã§ã™ã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz1-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz1b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        What is the ãŸ-form of <ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ (to bring)?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ã£ãŸ</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz1b', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ãŸ<ruby>æ¥<rt>ã</rt></ruby>ãŸ</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz1b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 2 â†’</button>
            </div>
        </div>

        <!-- Slide 7: Grammar 2 - ã‚‚ã‚‰ã„ã¾ã™ Introduction -->
        <div class="slide" data-slide="7">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>[<ruby>äºº<rt>ã²ã¨</rt></ruby>]ã«[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]ã‚’ã‚‚ã‚‰ã„ã¾ã™</h2>
                    <span class="jp-title">Receiving from Someone</span>
                </div>

                <div class="example-box">
                    <div class="jp">ã“ã®ãƒã‚°ã‚«ãƒƒãƒ—ã€<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«ã€<ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡ã«<span class="grammar-highlight">ã‚‚ã‚‰ã£ãŸã‚“ã§ã™</span>ã€‚</div>
                    <div class="en">This mug was given to me by a friend for my birthday.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is ã‚‚ã‚‰ã„ã¾ã™?</h4>
                    <ul>
                        <li>Indicates that <strong>YOU receive something</strong> from someone</li>
                        <li>Focus is on the <strong>receiver's</strong> perspective</li>
                        <li>The particle <strong>ã«</strong> marks the giver (can also use ã‹ã‚‰)</li>
                        <li>Very common when talking about birthday gifts!</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ“Š Pattern</h4>
                <div class="flow-diagram">
                    <div class="flow-item">
                        <div class="emoji">ğŸ‘¤</div>
                        <div class="label">Giver</div>
                        <div class="jp">[<ruby>äºº<rt>ã²ã¨</rt></ruby>]<strong>ã«</strong></div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-item">
                        <div class="emoji">ğŸ</div>
                        <div class="label">Thing</div>
                        <div class="jp">[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]<strong>ã‚’</strong></div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-verb">ã‚‚ã‚‰ã„ã¾ã™</div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-item">
                        <div class="emoji">ğŸ™‹</div>
                        <div class="label">Receiver</div>
                        <div class="jp">(<ruby>ç§<rt>ã‚ãŸã—</rt></ruby>)</div>
                    </div>
                </div>

                <div class="example-box" style="background: white; border: 2px solid var(--primary);">
                    <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 8px;">ğŸ’¡ ã« and ã‹ã‚‰ are interchangeable here:</p>
                    <div class="jp" style="font-size: 1.1rem;"><ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡<strong>ã«</strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ = <ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡<strong>ã‹ã‚‰</strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ</div>
                    <div class="en">I received it from a friend</div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 7:</strong> Basic giving/receiving (ã‚ã’ã¾ã™ã€ã‚‚ã‚‰ã„ã¾ã™ã€ãã‚Œã¾ã™)</li>
                            <li><strong>Lesson 24:</strong> V-ã¦ã‚‚ã‚‰ã„ã¾ã™ (receiving actions as favors)</li>
                            <li><strong>Lesson 41:</strong> Advanced giving/receiving expressions</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Examples â†’</button>
            </div>
        </div>

        <!-- Slide 8: Grammar 2 - Examples -->
        <div class="slide" data-slide="8">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>Talking About Gifts Received</h2>
                    <span class="jp-title">ã‚‚ã‚‰ã£ãŸã‚‚ã®ã«ã¤ã„ã¦</span>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">ğŸ‚</span>
                        <h4>Birthday Gifts</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>ä»Šå¹´<rt>ã“ã¨ã—</rt></ruby>ã®<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«ã€<ruby>ä½•<rt>ãªã«</rt></ruby>ã‹<span class="grammar-highlight">ã‚‚ã‚‰ã„ã¾ã—ãŸã‹</span>ï¼Ÿ</div>
                            <div class="en">Did you get anything for your birthday this year?</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker friend">B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ã«<ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’<span class="grammar-highlight">ã‚‚ã‚‰ã„ã¾ã—ãŸ</span>ã€‚</div>
                            <div class="en">My father gave me a watch.</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ More Examples</h4>
                
                <div class="gift-grid">
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘¨</span>
                            <div>
                                <div class="name">From Father</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ã«<ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
                            <div class="en">I received a watch from my father.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘©</span>
                            <div>
                                <div class="name">From Mother</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>æ¯<rt>ã¯ã¯</rt></ruby>ã«ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
                            <div class="en">I received a sweater from my mother.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘«</span>
                            <div>
                                <div class="name">From Friends</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡ã«ãƒã‚°ã‚«ãƒƒãƒ—ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
                            <div class="en">I received a mug from my friends.</div>
                        </div>
                    </div>
                </div>

                <div class="key-point" style="background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%); margin-top: 24px;">
                    <h4>âš ï¸ Remember: Perspective</h4>
                    <ul>
                        <li><strong>ã‚‚ã‚‰ã„ã¾ã™</strong> = "I/we receive" (receiver's viewpoint)</li>
                        <li>The subject is usually <ruby>ç§<rt>ã‚ãŸã—</rt></ruby> (I) - often omitted</li>
                        <li>Use when talking about gifts YOU received</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 9: Grammar 2 - Mini Quiz -->
        <div class="slide" data-slide="9">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 2</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">ã‚‚ã‚‰ã„ã¾ã™</span>
                </div>

                <div class="mini-quiz" id="quiz2">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "I received a watch from my father"?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ãŒ</strong><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ã«</strong><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2', this, false)">
                            <span class="marker">C</span>
                            <span><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã«<ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz2-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz2b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        Which particle can replace ã« when expressing the giver?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, false)">
                            <span class="marker">A</span>
                            <span>ã‚’</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, true)">
                            <span class="marker">B</span>
                            <span>ã‹ã‚‰</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz2b', this, false)">
                            <span class="marker">C</span>
                            <span>ã§</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz2b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Continue to Grammar 3 â†’</button>
            </div>
        </div>

        <!-- Slide 10: Grammar 3 - ãã‚Œã¾ã™ Introduction -->
        <div class="slide" data-slide="10">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>[<ruby>äºº<rt>ã²ã¨</rt></ruby>]ãŒ[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]ã‚’ãã‚Œã¾ã™</h2>
                    <span class="jp-title">Someone Gives (to You)</span>
                </div>

                <div class="example-box">
                    <div class="jp">ã“ã‚Œã¯ã€<ruby>å…„<rt>ã‚ã«</rt></ruby>ãŒ<span class="grammar-highlight">ãã‚ŒãŸ</span>ãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚</div>
                    <div class="en">This is a personal amulet my older brother gave me.</div>
                </div>

                <div class="key-point">
                    <h4>ğŸ’¡ What is ãã‚Œã¾ã™?</h4>
                    <ul>
                        <li>Used when <strong>someone gives something TO YOU</strong></li>
                        <li>Focus is on the <strong>giver's action</strong> toward you</li>
                        <li>The particle <strong>ãŒ</strong> marks the giver</li>
                        <li>Often implies gratitude - "they kindly gave me"</li>
                        <li><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã« (to me) is usually omitted because it's obvious</li>
                    </ul>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ“Š Pattern</h4>
                <div class="flow-diagram">
                    <div class="flow-item">
                        <div class="emoji">ğŸ‘¤</div>
                        <div class="label">Giver</div>
                        <div class="jp">[<ruby>äºº<rt>ã²ã¨</rt></ruby>]<strong>ãŒ</strong></div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-item">
                        <div class="emoji">ğŸ</div>
                        <div class="label">Thing</div>
                        <div class="jp">[<ruby>ç‰©<rt>ã‚‚ã®</rt></ruby>]<strong>ã‚’</strong></div>
                    </div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-verb">ãã‚Œã¾ã™</div>
                    <div class="flow-arrow">â†’</div>
                    <div class="flow-item">
                        <div class="emoji">ğŸ™‹</div>
                        <div class="label">To Me</div>
                        <div class="jp">(<ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ã«)</div>
                    </div>
                </div>

                <button class="mnn-toggle" onclick="toggleMNN(this)">
                    <span>ğŸ“– MNN Connection: ã¿ã‚“ãªã®æ—¥æœ¬èª</span>
                    <span class="arrow">â–¼</span>
                </button>
                <div class="mnn-content">
                    <div class="mnn-content-inner">
                        <h4>ğŸ“š Related MNN Lessons</h4>
                        <ul>
                            <li><strong>Lesson 7:</strong> ãã‚Œã¾ã™ introduction (basic giving to the speaker)</li>
                            <li><strong>Lesson 24:</strong> V-ã¦ãã‚Œã¾ã™ (someone does a favor for you)</li>
                            <li><strong>Lesson 41:</strong> Advanced giving/receiving with in-group/out-group</li>
                        </ul>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">See Examples â†’</button>
            </div>
        </div>

        <!-- Slide 11: Grammar 3 - Examples -->
        <div class="slide" data-slide="11">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>Talking About Gifts Given to You</h2>
                    <span class="jp-title">ãã‚ŒãŸã‚‚ã®ã«ã¤ã„ã¦</span>
                </div>

                <div class="dialogue-box">
                    <div class="dialogue-header">
                        <span class="icon">âŒš</span>
                        <h4>Admiring Someone's Watch</h4>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker">A</span>
                        <div class="dialogue-text">
                            <div class="jp">ãã®<ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã€ã™ã¦ãã§ã™ã­ã€‚</div>
                            <div class="en">That's a nice watch.</div>
                        </div>
                    </div>
                    <div class="dialogue-line">
                        <span class="dialogue-speaker friend">B</span>
                        <div class="dialogue-text">
                            <div class="jp"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ãŒ<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<span class="grammar-highlight">ãã‚Œã¾ã—ãŸ</span>ã€‚</div>
                            <div class="en">My father gave it to me for my birthday.</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ More Examples with ãã‚Œã¾ã™</h4>
                
                <div class="gift-grid">
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘¦</span>
                            <div>
                                <div class="name">From Older Brother</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>å…„<rt>ã‚ã«</rt></ruby>ãŒãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚
                            <div class="en">This is an amulet my brother gave me.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘§</span>
                            <div>
                                <div class="name">From Older Sister</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>å§‰<rt>ã‚ã­</rt></ruby>ãŒãã‚ŒãŸ<ruby>æœ<rt>ãµã</rt></ruby>ã§ã™ã€‚
                            <div class="en">These are clothes my sister gave me.</div>
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ‘©</span>
                            <div>
                                <div class="name">From Mother</div>
                            </div>
                        </div>
                        <div class="example">
                            <ruby>æ¯<rt>ã¯ã¯</rt></ruby>ãŒãã‚ŒãŸãƒãƒƒã‚¯ãƒ¬ã‚¹ã§ã™ã€‚
                            <div class="en">This is a necklace my mother gave me.</div>
                        </div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Compare ã‚‚ã‚‰ã† vs ãã‚Œã‚‹ â†’</button>
            </div>
        </div>

        <!-- Slide 12: Grammar 2 & 3 - Comparison -->
        <div class="slide" data-slide="12">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ¯”è¼ƒ</span>
                    <h2>ã‚‚ã‚‰ã„ã¾ã™ vs ãã‚Œã¾ã™</h2>
                    <span class="jp-title">Receiving vs Being Given</span>
                </div>

                <p style="margin-bottom: 20px; color: var(--text-secondary);">Both express receiving a gift, but from different perspectives. The meaning is essentially the same!</p>

                <div class="comparison-box">
                    <div class="comparison-item morau">
                        <h4>ğŸ™‹ ã‚‚ã‚‰ã„ã¾ã™ (I receive)</h4>
                        <div class="jp"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ã«</strong><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’<strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ</strong>ã€‚</div>
                        <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 8px;">I received a watch from my father.</div>
                        <div class="pattern">
                            <strong>Focus:</strong> Me receiving<br>
                            <strong>Particle:</strong> [giver]<strong>ã«</strong> or ã‹ã‚‰
                        </div>
                    </div>
                    <div class="comparison-item kureru">
                        <h4>ğŸ‘¤ ãã‚Œã¾ã™ (Someone gives me)</h4>
                        <div class="jp"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ãŒ</strong><ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’<strong>ãã‚Œã¾ã—ãŸ</strong>ã€‚</div>
                        <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 8px;">My father gave me a watch.</div>
                        <div class="pattern">
                            <strong>Focus:</strong> Giver's action<br>
                            <strong>Particle:</strong> [giver]<strong>ãŒ</strong>
                        </div>
                    </div>
                </div>

                <div class="perspective-box">
                    <div class="perspective-title">ğŸ Same Event, Different Perspectives</div>
                    <div class="perspective-row">
                        <div class="perspective-person">
                            <div class="emoji">ğŸ‘¨</div>
                            <div class="label"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby></div>
                        </div>
                        <div class="perspective-arrow">â†’ ğŸ â†’</div>
                        <div class="perspective-person">
                            <div class="emoji">ğŸ™‹</div>
                            <div class="label"><ruby>ç§<rt>ã‚ãŸã—</rt></ruby></div>
                        </div>
                    </div>
                    <div style="text-align: center; padding: 16px; background: var(--bg-light); border-radius: 8px; margin-top: 16px;">
                        <p style="margin-bottom: 8px;"><strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ</strong> = "I received" (my action of receiving)</p>
                        <p><strong>ãã‚Œã¾ã—ãŸ</strong> = "He gave me" (his action toward me)</p>
                    </div>
                </div>

                <div class="key-point" style="margin-top: 20px;">
                    <h4>ğŸ’¡ When to Use Which?</h4>
                    <ul>
                        <li><strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ</strong> â€” When YOU are the subject (I received...)</li>
                        <li><strong>ãã‚Œã¾ã—ãŸ</strong> â€” When the GIVER is the subject (Someone gave me...)</li>
                        <li>ãã‚Œã¾ã™ implies gratitude - "they kindly gave me"</li>
                        <li>Both are natural and commonly used!</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Try Mini Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 13: Grammar 3 - Mini Quiz -->
        <div class="slide" data-slide="13">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">æ–‡æ³• 3</span>
                    <h2>Comprehension Check</h2>
                    <span class="jp-title">ãã‚Œã¾ã™</span>
                </div>

                <div class="mini-quiz" id="quiz3">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        How do you say "My father gave me this" using ãã‚Œã¾ã™?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, false)">
                            <span class="marker">A</span>
                            <span><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ã«</strong>ã“ã‚Œã‚’ãã‚Œã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, true)">
                            <span class="marker">B</span>
                            <span><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ãŒ</strong>ã“ã‚Œã‚’ãã‚Œã¾ã—ãŸã€‚</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3', this, false)">
                            <span class="marker">C</span>
                            <span>ã“ã‚Œ<strong>ãŒ</strong><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ã‚’ãã‚Œã¾ã—ãŸã€‚</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz3-feedback"></div>
                </div>

                <div class="mini-quiz" id="quiz3b" style="margin-top: 24px;">
                    <div class="mini-quiz-header">
                        <span class="icon">ğŸ§ </span>
                        <h4>Quick Check #2!</h4>
                    </div>
                    <div class="mini-quiz-question">
                        "<ruby>å…„<rt>ã‚ã«</rt></ruby>___ãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™" â€” Which particle goes in the blank?
                    </div>
                    <div class="mini-quiz-options">
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, false)">
                            <span class="marker">A</span>
                            <span>ã«</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, true)">
                            <span class="marker">B</span>
                            <span>ãŒ</span>
                        </div>
                        <div class="mini-quiz-option" onclick="checkMiniQuiz('quiz3b', this, false)">
                            <span class="marker">C</span>
                            <span>ã‚’</span>
                        </div>
                    </div>
                    <div class="mini-quiz-feedback" id="quiz3b-feedback"></div>
                </div>

                <button class="nav-btn" style="margin-top: 24px;" onclick="nextSlide()">Practice Quiz â†’</button>
            </div>
        </div>

        <!-- Slide 14: Full Practice Quiz 1 -->
        <div class="slide" data-slide="14">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ¯ Practice</span>
                    <h2>Grammar Review Quiz</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">ğŸ You're showing someone a decoration you brought from Nepal:</div>
                    <div class="question-text">Complete: "ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰___<ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Šã§ã™ã€‚"</div>
                    <div class="fill-blank">
                        ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰<input type="text" class="blank-input" id="pq1-1" placeholder="?"><ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Šã§ã™ã€‚
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">ğŸ‚ You're telling someone about a birthday gift:</div>
                    <div class="question-text">Complete: "<ruby>æ¯<rt>ã¯ã¯</rt></ruby>___ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚"</div>
                    <div class="fill-blank">
                        <ruby>æ¯<rt>ã¯ã¯</rt></ruby><input type="text" class="blank-input" id="pq1-2" placeholder="?" style="width: 80px;">ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">Check Answers â†’</button>
            </div>
        </div>

        <!-- Slide 15: Practice Quiz 1 Answers -->
        <div class="slide" data-slide="15">
            <div class="answer-card">
                <div class="answer-header">
                    <span class="answer-badge">âœ… Answers</span>
                    <h2>Quiz Review</h2>
                </div>
                
                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 1 Answer</div>
                    <div class="answer-text">ãƒãƒ‘ãƒ¼ãƒ«ã‹ã‚‰<strong><ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ</strong><ruby>é£¾<rt>ã‹ã–</rt></ruby>ã‚Šã§ã™ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> To describe something you brought, use V(ãŸ-form) + N. <ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ã¾ã™ becomes <ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ in plain past form. This creates "a decoration (that) I brought from Nepal."
                    </div>
                </div>

                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 2 Answer</div>
                    <div class="answer-text"><ruby>æ¯<rt>ã¯ã¯</rt></ruby><strong>ã«</strong>ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> With ã‚‚ã‚‰ã„ã¾ã™, the giver is marked with ã« (or ã‹ã‚‰). <ruby>æ¯<rt>ã¯ã¯</rt></ruby>ã« = "from my mother." The pattern is [person]ã«[thing]ã‚’ã‚‚ã‚‰ã„ã¾ã™.
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Continue Practice â†’</button>
            </div>
        </div>

        <!-- Slide 16: Full Practice Quiz 2 -->
        <div class="slide" data-slide="16">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ¯ Practice</span>
                    <h2>ãã‚Œã¾ã™ Quiz</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Question 1 of 2</div>
                    <div class="question-context">â›©ï¸ You're explaining about an amulet your older brother gave you:</div>
                    <div class="question-text">Complete: "<ruby>å…„<rt>ã‚ã«</rt></ruby>___ãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚"</div>
                    <div class="fill-blank">
                        <ruby>å…„<rt>ã‚ã«</rt></ruby><input type="text" class="blank-input" id="pq2-1" placeholder="?" style="width: 80px;">ãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚
                    </div>
                </div>

                <div class="quiz-question">
                    <div class="question-number">Question 2 of 2</div>
                    <div class="question-context">âŒš Someone compliments your watch. Say "My father gave it to me for my birthday":</div>
                    <div class="question-text">Complete: "<ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ãŒ<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«___ã€‚"</div>
                    <div class="fill-blank">
                        <ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ãŒ<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<input type="text" class="blank-input" id="pq2-2" placeholder="?">ã€‚
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">Check Answers â†’</button>
            </div>
        </div>

        <!-- Slide 17: Practice Quiz 2 Answers -->
        <div class="slide" data-slide="17">
            <div class="answer-card">
                <div class="answer-header">
                    <span class="answer-badge">âœ… Answers</span>
                    <h2>Quiz Review</h2>
                </div>
                
                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 1 Answer</div>
                    <div class="answer-text"><ruby>å…„<rt>ã‚ã«</rt></ruby><strong>ãŒ</strong>ãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> With ãã‚Œã¾ã™, the giver is marked with ãŒ. This shows your brother as the subject who performed the action of giving to you. The ãŸ-form ãã‚ŒãŸ modifies ãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Š (amulet).
                    </div>
                </div>

                <div class="answer-result correct">
                    <div class="result-label">âœ“ Question 2 Answer</div>
                    <div class="answer-text"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ãŒ<ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<strong>ãã‚Œã¾ã—ãŸ</strong>ã€‚</div>
                    <div class="answer-explanation">
                        <strong>Explanation:</strong> When talking about what someone gave you, use ãã‚Œã¾ã—ãŸ. The pattern is [person]ãŒ[occasion]ã«[thing]ã‚’ãã‚Œã¾ã—ãŸ. Here, the thing (watch) is implied from context.
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Final Scenario â†’</button>
            </div>
        </div>

        <!-- Slide 18: Comprehensive Practice -->
        <div class="slide" data-slide="18">
            <div class="quiz-card">
                <div class="quiz-header">
                    <span class="quiz-badge">ğŸ Final Practice</span>
                    <h2>Gift Exchange Scenario</h2>
                </div>
                
                <div class="quiz-question">
                    <div class="question-number">Putting It All Together</div>
                    <div class="question-context">Imagine you're talking about gifts and souvenirs. Let's use all 3 grammar points!</div>
                    
                    <div style="padding: 16px; background: rgba(255,255,255,0.1); border-radius: 8px; margin: 16px 0;">
                        <p style="margin-bottom: 16px;"><strong>Scenario:</strong> Talking about your belongings</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>1. Describe something you made (V-ãŸ + N):</strong></p>
                        <p style="opacity: 0.9;"><ruby>ç§<rt>ã‚ãŸã—</rt></ruby>ãŒ<strong><ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸ</strong><ruby>æ–™ç†<rt>ã‚Šã‚‡ã†ã‚Š</rt></ruby>ã§ã™ã€‚ã‚ˆã‹ã£ãŸã‚‰ã€ã©ã†ãã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>2. Describe something you bought (V-ãŸ + N):</strong></p>
                        <p style="opacity: 0.9;"><ruby>äº¬éƒ½<rt>ãã‚‡ã†ã¨</rt></ruby>ã§<strong><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ</strong>ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã§ã™ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>3. Talk about receiving a gift (ã‚‚ã‚‰ã„ã¾ã™):</strong></p>
                        <p style="opacity: 0.9;"><ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡<strong>ã«</strong>ãƒã‚°ã‚«ãƒƒãƒ—ã‚’<strong>ã‚‚ã‚‰ã„ã¾ã—ãŸ</strong>ã€‚</p>
                        
                        <p style="margin: 16px 0 8px; color: rgba(255,255,255,0.9);"><strong>4. Talk about someone giving you something (ãã‚Œã¾ã™):</strong></p>
                        <p style="opacity: 0.9;"><ruby>å…„<rt>ã‚ã«</rt></ruby><strong>ãŒ</strong><ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<strong>ãã‚ŒãŸ</strong>ãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚</p>
                    </div>
                </div>

                <button class="check-btn" onclick="nextSlide()">See MNN Reference â†’</button>
            </div>
        </div>

        <!-- Slide 19: MNN Complete Reference -->
        <div class="slide" data-slide="19">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">ğŸ“– MNN</span>
                    <h2>Minna no Nihongo Reference</h2>
                    <span class="jp-title">ã¿ã‚“ãªã®<ruby>æ—¥æœ¬èª<rt>ã«ã»ã‚“ã”</rt></ruby></span>
                </div>

                <p style="margin-bottom: 20px; color: var(--text-secondary);">Here's how Lesson 17's grammar connects to Minna no Nihongo (N5 level, Lessons 1-25):</p>

                <div class="gift-grid">
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">1ï¸âƒ£</span>
                            <div>
                                <div class="name">V (plain) + N</div>
                            </div>
                        </div>
                        <div class="description">
                            <strong>MNN L19:</strong> ãŸ-form (past plain)<br>
                            <strong>MNN L20:</strong> Plain form basics<br>
                            <strong>MNN L22:</strong> Noun modification (main lesson)
                        </div>
                    </div>

                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">2ï¸âƒ£</span>
                            <div>
                                <div class="name">ã‚‚ã‚‰ã„ã¾ã™</div>
                            </div>
                        </div>
                        <div class="description">
                            <strong>MNN L7:</strong> ã‚‚ã‚‰ã„ã¾ã™ introduction<br>
                            <strong>MNN L24:</strong> V-ã¦ã‚‚ã‚‰ã„ã¾ã™<br>
                            <em>Particle: [person]ã«/ã‹ã‚‰</em>
                        </div>
                    </div>

                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">3ï¸âƒ£</span>
                            <div>
                                <div class="name">ãã‚Œã¾ã™</div>
                            </div>
                        </div>
                        <div class="description">
                            <strong>MNN L7:</strong> ãã‚Œã¾ã™ introduction<br>
                            <strong>MNN L24:</strong> V-ã¦ãã‚Œã¾ã™<br>
                            <em>Particle: [person]ãŒ</em>
                        </div>
                    </div>
                </div>

                <div class="key-point" style="background: linear-gradient(135deg, var(--secondary) 0%, #6d28d9 100%); margin-top: 24px;">
                    <h4>ğŸ“š Giving/Receiving Overview (MNN L7)</h4>
                    <ul>
                        <li><strong>ã‚ã’ã¾ã™</strong> â€” I/someone give(s) to another person</li>
                        <li><strong>ã‚‚ã‚‰ã„ã¾ã™</strong> â€” I receive from someone</li>
                        <li><strong>ãã‚Œã¾ã™</strong> â€” Someone gives to ME</li>
                        <li>This trio is essential for Japanese gift culture!</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Grammar Comparison â†’</button>
            </div>
        </div>

        <!-- Slide 20: Grammar Summary Table -->
        <div class="slide" data-slide="20">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">ğŸ“Š REVIEW</span>
                    <h2>Grammar Comparison</h2>
                    <span class="jp-title"><ruby>æ–‡æ³•<rt>ã¶ã‚“ã½ã†</rt></ruby>ã®<ruby>æ¯”è¼ƒ<rt>ã²ã‹ã</rt></ruby></span>
                </div>

                <table class="formation-table">
                    <thead>
                        <tr>
                            <th>Grammar</th>
                            <th>Pattern</th>
                            <th>Key Particle</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pattern">V-ãŸ + N</td>
                            <td>Describe with past action</td>
                            <td>â€”</td>
                        </tr>
                        <tr>
                            <td class="pattern">ã‚‚ã‚‰ã„ã¾ã™</td>
                            <td>[person]ã«[thing]ã‚’ã‚‚ã‚‰ã„ã¾ã™</td>
                            <td><strong>ã«</strong> (or ã‹ã‚‰)</td>
                        </tr>
                        <tr>
                            <td class="pattern">ãã‚Œã¾ã™</td>
                            <td>[person]ãŒ[thing]ã‚’ãã‚Œã¾ã™</td>
                            <td><strong>ãŒ</strong></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: var(--primary-dark); margin: 24px 0 16px;">ğŸ”‘ Quick Reference</h4>
                <div class="comparison-box">
                    <div class="comparison-item">
                        <h4>ğŸ“ Describing Things</h4>
                        <div class="jp"><ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸ / <ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸ / <ruby>æŒ<rt>ã‚‚</rt></ruby>ã£ã¦<ruby>æ¥<rt>ã</rt></ruby>ãŸ + N</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: 8px;">N that I bought/made/brought</div>
                    </div>
                    <div class="comparison-item">
                        <h4>ğŸ Receiving/Being Given</h4>
                        <div class="jp"><ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ã«</strong>ã‚‚ã‚‰ã£ãŸ = <ruby>çˆ¶<rt>ã¡ã¡</rt></ruby><strong>ãŒ</strong>ãã‚ŒãŸ</div>
                        <div style="font-size: 0.85rem; color: var(--text-muted); margin-top: 8px;">Same meaning, different perspective!</div>
                    </div>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Continue â†’</button>
            </div>
        </div>

        <!-- Slide 21: Cultural Note -->
        <div class="slide" data-slide="21">
            <div class="content-card">
                <div class="slide-header">
                    <span class="grammar-badge">ğŸŒ CULTURE</span>
                    <h2>Gift-Giving in Japan</h2>
                    <span class="jp-title">ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã®<ruby>æ–‡åŒ–<rt>ã¶ã‚“ã‹</rt></ruby></span>
                </div>

                <p style="margin-bottom: 20px; color: var(--text-secondary);">Gift-giving (ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>) is an important part of Japanese culture! ğŸ</p>

                <div class="gift-grid">
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">âœˆï¸</span>
                            <div>
                                <div class="name">Travel Souvenirs</div>
                            </div>
                        </div>
                        <div class="description">
                            When traveling, it's customary to bring back souvenirs for coworkers, friends, and family. This is called ãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>.
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">â›©ï¸</span>
                            <div>
                                <div class="name">ãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Š (Amulets)</div>
                            </div>
                        </div>
                        <div class="description">
                            Amulets from shrines/temples are popular gifts, believed to bring protection and good luck to the recipient.
                        </div>
                    </div>
                    <div class="gift-card">
                        <div class="header">
                            <span class="icon">ğŸ«</span>
                            <div>
                                <div class="name">Regional Specialties</div>
                            </div>
                        </div>
                        <div class="description">
                            Each region has famous products. Hokkaido butter, Kyoto sweets, and local crafts make perfect gifts!
                        </div>
                    </div>
                </div>

                <div class="key-point" style="margin-top: 24px;">
                    <h4>ğŸ’¡ Useful Phrases When Giving</h4>
                    <ul>
                        <li>ã‚ˆã‹ã£ãŸã‚‰ã€ã©ã†ãã€‚â€” If you'd like, please (have some).</li>
                        <li>ã¤ã¾ã‚‰ãªã„ã‚‚ã®ã§ã™ãŒ...â€” It's nothing special, but... (humble)</li>
                        <li>ãŠ<ruby>å£<rt>ãã¡</rt></ruby>ã«<ruby>åˆ<rt>ã‚</rt></ruby>ã†ã¨ã„ã„ã‚“ã§ã™ãŒã€‚â€” I hope it suits your taste.</li>
                    </ul>
                </div>

                <button class="nav-btn" style="margin-top: 20px;" onclick="nextSlide()">Final Summary â†’</button>
            </div>
        </div>

        <!-- Slide 22: Summary -->
        <div class="slide" data-slide="22">
            <div class="summary-card">
                <h2>ğŸ‰ Lesson 17 Complete!</h2>
                <p>You've mastered 3 essential grammar points for talking about gifts!</p>
                
                <div class="summary-points">
                    <div class="summary-point">
                        <h4>1. V-ãŸ + N</h4>
                        <p>Describe gifts/items<br>"N that I made/bought/brought"</p>
                    </div>
                    <div class="summary-point">
                        <h4>2. [<ruby>äºº<rt>ã²ã¨</rt></ruby>]ã«ã‚‚ã‚‰ã„ã¾ã™</h4>
                        <p>Receive from someone<br>"I received from..."</p>
                    </div>
                    <div class="summary-point">
                        <h4>3. [<ruby>äºº<rt>ã²ã¨</rt></ruby>]ãŒãã‚Œã¾ã™</h4>
                        <p>Someone gives you<br>"... gave me"</p>
                    </div>
                </div>

                <div style="margin-top: 32px; padding: 20px; background: rgba(255,255,255,0.2); border-radius: var(--radius);">
                    <h3 style="margin-bottom: 12px;">ğŸ Now You Can Say:</h3>
                    <p style="font-size: 1rem; opacity: 0.95;">
                        <ruby>äº¬éƒ½<rt>ãã‚‡ã†ã¨</rt></ruby>ã§<ruby>è²·<rt>ã‹</rt></ruby>ã£ãŸãŠ<ruby>åœŸç”£<rt>ã¿ã‚„ã’</rt></ruby>ã§ã™ã€‚ã‚ˆã‹ã£ãŸã‚‰ã€ã©ã†ãã€‚<br>
                        <ruby>èª•ç”Ÿæ—¥<rt>ãŸã‚“ã˜ã‚‡ã†ã³</rt></ruby>ã«<ruby>çˆ¶<rt>ã¡ã¡</rt></ruby>ã«<ruby>æ™‚è¨ˆ<rt>ã¨ã‘ã„</rt></ruby>ã‚’ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚<br>
                        ã“ã‚Œã¯ã€<ruby>å…„<rt>ã‚ã«</rt></ruby>ãŒãã‚ŒãŸãŠ<ruby>å®ˆ<rt>ã¾ã‚‚</rt></ruby>ã‚Šã§ã™ã€‚
                    </p>
                </div>

                <button class="restart-btn" onclick="restartPresentation()">ğŸ”„ <ruby>æœ€åˆ<rt>ã•ã„ã—ã‚‡</rt></ruby>ã‹ã‚‰ Start Over</button>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 22;

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(slide => slide.classList.remove('active'));
            const activeSlide = document.querySelector(`[data-slide="${currentSlide}"]`);
            if (activeSlide) activeSlide.classList.add('active');
            
            document.getElementById('currentSlide').textContent = currentSlide;
            document.getElementById('totalSlides').textContent = totalSlides;
            
            const progress = ((currentSlide - 1) / (totalSlides - 1)) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function nextSlide() {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 1) {
                currentSlide--;
                updateSlide();
            }
        }

        function goToSlide(slideNum) {
            currentSlide = slideNum;
            updateSlide();
        }

        function restartPresentation() {
            currentSlide = 1;
            updateSlide();
            // Reset all quizzes
            document.querySelectorAll('.mini-quiz-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.style.pointerEvents = 'auto';
            });
            document.querySelectorAll('.mini-quiz-feedback').forEach(fb => {
                fb.classList.remove('show', 'correct', 'incorrect');
                fb.innerHTML = '';
            });
        }

        function toggleMNN(button) {
            const content = button.nextElementSibling;
            button.classList.toggle('open');
            content.classList.toggle('open');
        }

        function checkMiniQuiz(quizId, selectedOption, isCorrect) {
            const quiz = document.getElementById(quizId);
            const options = quiz.querySelectorAll('.mini-quiz-option');
            const feedback = document.getElementById(quizId + '-feedback');
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Mark selected
            selectedOption.classList.add('selected');
            
            // Show correct/incorrect
            if (isCorrect) {
                selectedOption.classList.add('correct');
                selectedOption.querySelector('.marker').textContent = 'âœ“';
                feedback.className = 'mini-quiz-feedback show correct';
                feedback.innerHTML = '<h5>âœ“ Correct!</h5><p>Great job! You understood this grammar point.</p>';
            } else {
                selectedOption.classList.add('incorrect');
                selectedOption.querySelector('.marker').textContent = 'âœ—';
                // Find and highlight correct answer
                options.forEach(opt => {
                    if (opt !== selectedOption) {
                        const onclickAttr = opt.getAttribute('onclick');
                        if (onclickAttr && onclickAttr.includes('true')) {
                            opt.classList.add('correct');
                            opt.querySelector('.marker').textContent = 'âœ“';
                        }
                    }
                });
                feedback.className = 'mini-quiz-feedback show incorrect';
                feedback.innerHTML = '<h5>âœ— Not quite!</h5><p>Check the correct answer highlighted above. Review the grammar explanation if needed.</p>';
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                prevSlide();
            }
        });

        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) nextSlide();
                else prevSlide();
            }
        }

        // Initialize
        updateSlide();
    </script>
</body>
</html>
