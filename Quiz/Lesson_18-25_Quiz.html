<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N5 Assessment Quiz - Lessons 18-25</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;600;700&family=Zen+Maru+Gothic:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans JP', 'Zen Maru Gothic', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            padding: clamp(10px, 3vw, 30px);
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            text-align: center;
            color: white;
            margin-bottom: clamp(15px, 3vw, 25px);
        }
        
        .header h1 {
            font-size: clamp(24px, 5vw, 40px);
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(135deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            font-size: clamp(14px, 2.5vw, 18px);
            opacity: 0.9;
        }
        
        .lesson-badge {
            display: inline-block;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: clamp(12px, 2vw, 14px);
            margin-top: 10px;
            font-weight: 600;
        }
        
        /* Score Board */
        .score-board {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: clamp(12px, 2vw, 18px);
            padding: clamp(15px, 3vw, 25px);
            margin-bottom: clamp(15px, 2vw, 20px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: clamp(10px, 2vw, 20px);
            position: relative;
            overflow: hidden;
        }
        
        .score-board::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #e94560, #ff6b6b, #feca57, #48dbfb, #ff9ff3, #a29bfe, #6c5ce7);
        }
        
        .score-item {
            text-align: center;
            padding: 10px;
        }
        
        .score-label {
            font-size: clamp(11px, 1.5vw, 14px);
            color: #666;
            margin-bottom: 5px;
        }
        
        .score-value {
            font-size: clamp(22px, 4vw, 32px);
            font-weight: 700;
            background: linear-gradient(135deg, #e94560, #0f3460);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .progress-container {
            grid-column: 1 / -1;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            max-width: 400px;
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px auto;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e94560, #ff6b6b, #feca57);
            border-radius: 6px;
            transition: width 0.4s ease;
            width: 0%;
        }
        
        /* Section Tabs */
        .section-tabs {
            display: flex;
            gap: clamp(5px, 1vw, 10px);
            margin-bottom: clamp(15px, 2vw, 20px);
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .tab-btn {
            padding: clamp(10px, 2vw, 15px) clamp(15px, 3vw, 25px);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: clamp(12px, 1.8vw, 16px);
            font-weight: 600;
            transition: all 0.3s;
            background: rgba(255,255,255,0.2);
            color: white;
            font-family: 'Noto Sans JP', sans-serif;
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
        }
        
        .tab-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            background: rgba(255,255,255,0.3);
        }
        
        .tab-btn.active {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }
        
        .tab-btn.completed {
            background: linear-gradient(135deg, #28a745, #20c997);
        }
        
        .tab-btn.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .tab-check {
            font-size: 1.2em;
        }
        
        .tab-lock {
            font-size: 0.9em;
        }
        
        /* Main Card */
        .card {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: clamp(15px, 2.5vw, 25px);
            padding: clamp(20px, 4vw, 40px);
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #e94560, #ff6b6b, #feca57, #48dbfb, #ff9ff3, #a29bfe, #6c5ce7, #e94560);
        }
        
        .card-title {
            font-size: clamp(18px, 3vw, 26px);
            color: #0f3460;
            margin-bottom: clamp(15px, 2vw, 25px);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .section-badge {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: clamp(11px, 1.5vw, 14px);
        }
        
        .lesson-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: clamp(10px, 1.3vw, 12px);
            font-weight: 600;
        }
        
        /* Question Styles */
        .question-container {
            margin-bottom: clamp(15px, 2vw, 25px);
        }
        
        .question-number {
            font-size: clamp(12px, 1.5vw, 14px);
            color: #888;
            margin-bottom: 8px;
        }
        
        .question-text {
            font-size: clamp(18px, 3vw, 28px);
            color: #0f3460;
            margin-bottom: clamp(10px, 2vw, 20px);
            line-height: 1.6;
            text-align: center;
            padding: clamp(15px, 3vw, 25px);
            background: linear-gradient(135deg, #f0f4ff 0%, #e8f4f8 100%);
            border-radius: clamp(10px, 1.5vw, 15px);
            border-left: 4px solid #e94560;
        }
        
        .question-hint {
            font-size: clamp(13px, 1.8vw, 16px);
            color: #666;
            margin-bottom: 15px;
            font-style: italic;
            text-align: center;
        }
        
        /* Dialogue Box for Listening */
        .dialogue-box {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
            border-radius: clamp(10px, 1.5vw, 15px);
            padding: clamp(15px, 3vw, 25px);
            margin-bottom: clamp(15px, 2vw, 20px);
            border-left: 4px solid #ffc107;
        }
        
        .dialogue-title {
            font-size: clamp(14px, 2vw, 18px);
            color: #856404;
            margin-bottom: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .dialogue-content {
            font-size: clamp(15px, 2.2vw, 20px);
            color: #533f03;
            line-height: 2;
        }
        
        .dialogue-line {
            margin-bottom: 8px;
            padding-left: 10px;
            border-left: 3px solid #e0a800;
        }
        
        .speaker {
            font-weight: 600;
            color: #856404;
        }
        
        /* Reading Passage */
        .reading-passage {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: clamp(10px, 1.5vw, 15px);
            padding: clamp(15px, 3vw, 25px);
            margin-bottom: clamp(15px, 2vw, 20px);
            border-left: 4px solid #4caf50;
        }
        
        .passage-title {
            font-size: clamp(14px, 2vw, 18px);
            color: #2e7d32;
            margin-bottom: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .passage-text {
            font-size: clamp(15px, 2.2vw, 20px);
            color: #1b5e20;
            line-height: 2;
        }
        
        /* Options */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: clamp(10px, 2vw, 15px);
        }
        
        .option-btn {
            padding: clamp(15px, 2.5vw, 22px);
            border: 3px solid #e0e0e0;
            border-radius: clamp(10px, 1.5vw, 15px);
            background: white;
            cursor: pointer;
            font-size: clamp(16px, 2.5vw, 22px);
            font-family: 'Noto Sans JP', sans-serif;
            transition: all 0.3s;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .option-btn:hover:not(:disabled) {
            border-color: #e94560;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .option-btn.correct {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-color: #28a745;
            animation: pulse 0.5s ease;
        }
        
        .option-btn.incorrect {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            border-color: #dc3545;
        }
        
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        /* Feedback */
        .feedback {
            margin-top: clamp(15px, 2vw, 20px);
            padding: clamp(12px, 2vw, 18px);
            border-radius: clamp(10px, 1.5vw, 15px);
            text-align: center;
            font-size: clamp(14px, 2vw, 18px);
            display: none;
        }
        
        .feedback.correct {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            display: block;
        }
        
        .feedback.incorrect {
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
            color: #721c24;
            display: block;
        }
        
        .feedback-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }
        
        .explanation {
            margin-top: 10px;
            font-size: clamp(13px, 1.8vw, 16px);
            padding-top: 10px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }
        
        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: clamp(15px, 2vw, 25px);
            gap: 15px;
        }
        
        .nav-btn {
            padding: clamp(12px, 2vw, 18px) clamp(25px, 4vw, 40px);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: clamp(14px, 2vw, 18px);
            font-weight: 600;
            transition: all 0.3s;
            font-family: 'Noto Sans JP', sans-serif;
        }
        
        .nav-btn.prev {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .nav-btn.next {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }
        
        .nav-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.25);
        }
        
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Results */
        .results-card {
            text-align: center;
            padding: clamp(25px, 5vw, 50px);
        }
        
        .results-icon {
            font-size: clamp(60px, 15vw, 100px);
            margin-bottom: 15px;
        }
        
        .results-title {
            font-size: clamp(24px, 5vw, 38px);
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .results-title.pass {
            color: #28a745;
        }
        
        .results-title.fail {
            color: #e94560;
        }
        
        .results-score {
            font-size: clamp(48px, 12vw, 80px);
            font-weight: 700;
            margin: 20px 0;
        }
        
        .results-score.pass {
            background: linear-gradient(135deg, #28a745, #20c997);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .results-score.fail {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .results-message {
            font-size: clamp(14px, 2vw, 18px);
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .results-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: clamp(10px, 2vw, 15px);
            margin: 25px 0;
        }
        
        .breakdown-item {
            background: linear-gradient(135deg, #f0f4ff 0%, #e8f4f8 100%);
            padding: clamp(12px, 2vw, 20px);
            border-radius: 15px;
            border-left: 4px solid #e94560;
        }
        
        .breakdown-item.pass {
            border-left-color: #28a745;
        }
        
        .breakdown-item.fail {
            border-left-color: #e94560;
        }
        
        .breakdown-label {
            font-size: clamp(11px, 1.5vw, 14px);
            color: #666;
            margin-bottom: 5px;
        }
        
        .breakdown-value {
            font-size: clamp(18px, 3vw, 26px);
            font-weight: 700;
            color: #0f3460;
        }
        
        .retry-btn {
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            color: white;
            border: none;
            padding: clamp(15px, 3vw, 22px) clamp(40px, 8vw, 60px);
            font-size: clamp(16px, 2.5vw, 22px);
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 30px rgba(233, 69, 96, 0.4);
            transition: all 0.3s;
            font-family: 'Noto Sans JP', sans-serif;
            margin-top: 20px;
        }
        
        .retry-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(233, 69, 96, 0.5);
        }
        
        /* Notes Card */
        .notes-card {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
            border-radius: clamp(12px, 2vw, 18px);
            padding: clamp(15px, 3vw, 25px);
            margin-top: clamp(15px, 2vw, 20px);
            border-left: 5px solid #ffc107;
        }
        
        .notes-title {
            font-size: clamp(16px, 2.5vw, 20px);
            color: #856404;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
        }
        
        .notes-content {
            font-size: clamp(13px, 1.8vw, 16px);
            color: #856404;
            line-height: 1.7;
        }
        
        .notes-content ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .notes-content li {
            margin-bottom: 8px;
        }
        
        .grammar-tag {
            display: inline-block;
            background: white;
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: 600;
            color: #0f3460;
            margin: 0 3px;
        }
        
        /* Reference Toggle */
        .reference-toggle {
            text-align: center;
            margin-top: clamp(15px, 2vw, 20px);
        }
        
        .reference-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: clamp(10px, 2vw, 15px) clamp(20px, 4vw, 35px);
            font-size: clamp(14px, 2vw, 16px);
            font-weight: 600;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Noto Sans JP', sans-serif;
        }
        
        .reference-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.4);
        }
        
        .reference-card {
            display: none;
            background: linear-gradient(145deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: clamp(12px, 2vw, 18px);
            padding: clamp(15px, 3vw, 25px);
            margin-top: clamp(15px, 2vw, 20px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .reference-card.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .ref-section {
            margin-bottom: clamp(15px, 2vw, 20px);
        }
        
        .ref-section-title {
            font-size: clamp(14px, 2vw, 18px);
            color: #0f3460;
            margin-bottom: 12px;
            font-weight: 700;
            padding-bottom: 8px;
            border-bottom: 2px solid #e94560;
        }
        
        .ref-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: clamp(8px, 1.5vw, 12px);
        }
        
        .ref-item {
            background: linear-gradient(135deg, #f0f4ff 0%, #e8f4f8 100%);
            padding: clamp(8px, 1.5vw, 12px);
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }
        
        .ref-jp {
            font-weight: 600;
            color: #0f3460;
            font-size: clamp(13px, 1.8vw, 16px);
        }
        
        .ref-en {
            color: #666;
            font-size: clamp(11px, 1.5vw, 14px);
            text-align: right;
        }
        
        /* Practice Sections */
        .practice-section {
            display: none;
        }
        
        .practice-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        
        /* Hidden utility */
        .hidden {
            display: none !important;
        }
        
        /* Mobile adjustments */
        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸ“ N5 ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆã‚¯ã‚¤ã‚º</h1>
            <p>ã ã„18-25ã‹ ã® ã‚Šã‹ã„ã© ãƒã‚§ãƒƒã‚¯</p>
            <div class="lesson-badge">ãƒ¬ãƒƒã‚¹ãƒ³ 18-25 ç·åˆãƒ†ã‚¹ãƒˆ</div>
        </div>
        
        <!-- Score Board -->
        <div class="score-board">
            <div class="score-item">
                <div class="score-label">ã‚¹ã‚³ã‚¢</div>
                <div class="score-value" id="score">0/40</div>
            </div>
            <div class="score-item">
                <div class="score-label">ã›ã„ã‹ã„ã‚Šã¤</div>
                <div class="score-value" id="percentage">0%</div>
            </div>
            <div class="score-item">
                <div class="score-label">ã”ã†ã‹ããƒ©ã‚¤ãƒ³</div>
                <div class="score-value">80%</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>
        
        <!-- Section Tabs -->
        <div class="section-tabs">
            <button class="tab-btn active" id="tab-vocab" onclick="switchSection('vocab')">
                ğŸ“š ã”ã„
                <span class="tab-check hidden" id="check-vocab">âœ“</span>
            </button>
            <button class="tab-btn locked" id="tab-grammar" onclick="switchSection('grammar')" disabled>
                âœï¸ ã¶ã‚“ã½ã†
                <span class="tab-lock" id="lock-grammar">ğŸ”’</span>
                <span class="tab-check hidden" id="check-grammar">âœ“</span>
            </button>
            <button class="tab-btn locked" id="tab-listening" onclick="switchSection('listening')" disabled>
                ğŸ‘‚ ãƒªã‚¹ãƒ‹ãƒ³ã‚°
                <span class="tab-lock" id="lock-listening">ğŸ”’</span>
                <span class="tab-check hidden" id="check-listening">âœ“</span>
            </button>
            <button class="tab-btn locked" id="tab-reading" onclick="switchSection('reading')" disabled>
                ğŸ“– ã©ã£ã‹ã„
                <span class="tab-lock" id="lock-reading">ğŸ”’</span>
                <span class="tab-check hidden" id="check-reading">âœ“</span>
            </button>
        </div>
        
        <!-- Vocabulary Section -->
        <div class="practice-section active" id="vocab-section">
            <div class="card">
                <div class="card-title">
                    ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã”ã„ ğŸ“š
                    <span class="section-badge" id="vocab-type-badge">ã«ã»ã‚“ã”â†’ãˆã„ã”</span>
                    <span class="lesson-tag" id="vocab-lesson-tag">L18</span>
                </div>
                <div id="vocab-question"></div>
            </div>
        </div>
        
        <!-- Grammar Section -->
        <div class="practice-section" id="grammar-section">
            <div class="card">
                <div class="card-title">
                    ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ã¶ã‚“ã½ã† âœï¸
                    <span class="section-badge">ã¶ã‚“ã½ã†</span>
                    <span class="lesson-tag" id="grammar-lesson-tag">L18</span>
                </div>
                <div id="grammar-question"></div>
            </div>
        </div>
        
        <!-- Listening Section -->
        <div class="practice-section" id="listening-section">
            <div class="card">
                <div class="card-title">
                    ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ãƒªã‚¹ãƒ‹ãƒ³ã‚° ğŸ‘‚
                    <span class="section-badge">ã‹ã„ã‚</span>
                    <span class="lesson-tag" id="listening-lesson-tag">L18</span>
                </div>
                <div id="listening-question"></div>
            </div>
        </div>
        
        <!-- Reading Section -->
        <div class="practice-section" id="reading-section">
            <div class="card">
                <div class="card-title">
                    ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: ã©ã£ã‹ã„ ğŸ“–
                    <span class="section-badge">ã¶ã‚“ã—ã‚‡ã†</span>
                    <span class="lesson-tag" id="reading-lesson-tag">L18</span>
                </div>
                <div id="reading-question"></div>
            </div>
        </div>
        
        <!-- Results Section -->
        <div class="practice-section" id="results-section">
            <div class="card results-card">
                <div class="results-icon" id="results-icon">ğŸ‰</div>
                <div class="results-title" id="results-title">ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸ!</div>
                <div class="results-score" id="final-score">0%</div>
                <div class="results-message" id="results-message">ãŒã‚“ã°ã‚Šã¾ã—ãŸã­!</div>
                <div class="results-breakdown">
                    <div class="breakdown-item" id="breakdown-vocab">
                        <div class="breakdown-label">ğŸ“š ã”ã„</div>
                        <div class="breakdown-value" id="vocab-score">0/10</div>
                    </div>
                    <div class="breakdown-item" id="breakdown-grammar">
                        <div class="breakdown-label">âœï¸ ã¶ã‚“ã½ã†</div>
                        <div class="breakdown-value" id="grammar-score">0/10</div>
                    </div>
                    <div class="breakdown-item" id="breakdown-listening">
                        <div class="breakdown-label">ğŸ‘‚ ãƒªã‚¹ãƒ‹ãƒ³ã‚°</div>
                        <div class="breakdown-value" id="listening-score">0/10</div>
                    </div>
                    <div class="breakdown-item" id="breakdown-reading">
                        <div class="breakdown-label">ğŸ“– ã©ã£ã‹ã„</div>
                        <div class="breakdown-value" id="reading-score">0/10</div>
                    </div>
                </div>
                <button class="retry-btn" onclick="restartQuiz()">ã‚‚ã†ã„ã¡ã© ğŸ”„</button>
            </div>
        </div>
        
        <!-- Notes Card -->
        <div class="notes-card">
            <div class="notes-title">ğŸ“ ã¹ã‚“ãã‚‡ã†ã® ãƒã‚¤ãƒ³ãƒˆ</div>
            <div class="notes-content">
                <strong>ã ã„18-25ã‹ã® ã˜ã‚…ã†ã‚ˆã†ãƒã‚¤ãƒ³ãƒˆ:</strong>
                <ul>
                    <li>ğŸ¹ <strong>L18:</strong> Potential form <span class="grammar-tag">ã§ãã¾ã™</span>, hobbies & abilities</li>
                    <li>ğŸƒ <strong>L19:</strong> <span class="grammar-tag">ã€œãŸã“ã¨ãŒã‚ã‚Šã¾ã™</span> (experience), <span class="grammar-tag">ã€œãŸã‚Šã€œãŸã‚Š</span></li>
                    <li>ğŸ‘” <strong>L20:</strong> Casual/Plain form speech, <span class="grammar-tag">ã¼ããƒ»ãã¿</span></li>
                    <li>ğŸ’­ <strong>L21:</strong> <span class="grammar-tag">ã€œã¨ãŠã‚‚ã„ã¾ã™</span> (I think), probability expressions</li>
                    <li>ğŸ‘• <strong>L22:</strong> Wearing verbs: <span class="grammar-tag">ãã¾ã™ãƒ»ã¯ãã¾ã™ãƒ»ã‹ã¶ã‚Šã¾ã™ãƒ»ã‹ã‘ã¾ã™</span></li>
                    <li>ğŸš¦ <strong>L23:</strong> Directions, <span class="grammar-tag">ã€œã¨ã</span> (when), machine instructions</li>
                    <li>ğŸ <strong>L24:</strong> Giving/receiving: <span class="grammar-tag">ãã‚Œã¾ã™ãƒ»ã¤ã‚Œã¦ã„ãã¾ã™ãƒ»ã¤ã‚Œã¦ãã¾ã™</span></li>
                    <li>ğŸ“ <strong>L25:</strong> Conditionals <span class="grammar-tag">ã€œãŸã‚‰ãƒ»ã‚‚ã—ãƒ»ã„ãã‚‰ã€œã¦ã‚‚</span>, life events</li>
                </ul>
            </div>
        </div>
        
        <!-- Reference Toggle -->
        <div class="reference-toggle">
            <button class="reference-btn" onclick="toggleReference()">ğŸ“– ã•ã‚“ã“ã†ã‚«ãƒ¼ãƒ‰ã‚’ ã¿ã‚‹</button>
        </div>
        
        <!-- Reference Card -->
        <div class="reference-card" id="referenceCard">
            <div class="ref-section">
                <div class="ref-section-title">ğŸ“š L18-20 ã˜ã‚…ã†ã‚ˆã† ã”ã„</div>
                <div class="ref-grid">
                    <div class="ref-item"><span class="ref-jp">ã§ãã¾ã™</span><span class="ref-en">can do</span></div>
                    <div class="ref-item"><span class="ref-jp">ã²ãã¾ã™</span><span class="ref-en">play (piano)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã†ãŸã„ã¾ã™</span><span class="ref-en">sing</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‚ã¤ã‚ã¾ã™</span><span class="ref-en">collect</span></div>
                    <div class="ref-item"><span class="ref-jp">ã™ã¦ã¾ã™</span><span class="ref-en">throw away</span></div>
                    <div class="ref-item"><span class="ref-jp">ã†ã‚“ã¦ã‚“ã—ã¾ã™</span><span class="ref-en">drive</span></div>
                    <div class="ref-item"><span class="ref-jp">ã®ã¼ã‚Šã¾ã™</span><span class="ref-en">climb</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¨ã¾ã‚Šã¾ã™</span><span class="ref-en">stay</span></div>
                    <div class="ref-item"><span class="ref-jp">ãã†ã˜ã—ã¾ã™</span><span class="ref-en">clean</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‚Œã‚“ã—ã‚…ã†ã—ã¾ã™</span><span class="ref-en">practice</span></div>
                    <div class="ref-item"><span class="ref-jp">ã—ã‚‰ã¹ã¾ã™</span><span class="ref-en">investigate</span></div>
                    <div class="ref-item"><span class="ref-jp">ãªãŠã—ã¾ã™</span><span class="ref-en">repair</span></div>
                </div>
            </div>
            <div class="ref-section">
                <div class="ref-section-title">ğŸ“š L21-25 ã˜ã‚…ã†ã‚ˆã† ã”ã„</div>
                <div class="ref-grid">
                    <div class="ref-item"><span class="ref-jp">ãŠã‚‚ã„ã¾ã™</span><span class="ref-en">think</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‹ã¡ã¾ã™</span><span class="ref-en">win</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¾ã‘ã¾ã™</span><span class="ref-en">lose</span></div>
                    <div class="ref-item"><span class="ref-jp">ãã¾ã™</span><span class="ref-en">wear (shirt)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¯ãã¾ã™</span><span class="ref-en">wear (pants)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‹ã¶ã‚Šã¾ã™</span><span class="ref-en">wear (hat)</span></div>
                    <div class="ref-item"><span class="ref-jp">ããã¾ã™</span><span class="ref-en">ask</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‚ãŸã‚Šã¾ã™</span><span class="ref-en">cross</span></div>
                    <div class="ref-item"><span class="ref-jp">ãã‚Œã¾ã™</span><span class="ref-en">give (to me)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¤ã‚Œã¦ã„ãã¾ã™</span><span class="ref-en">take (person)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‹ã‚“ãŒãˆã¾ã™</span><span class="ref-en">consider</span></div>
                    <div class="ref-item"><span class="ref-jp">ãŒã‚“ã°ã‚Šã¾ã™</span><span class="ref-en">do one's best</span></div>
                </div>
            </div>
            <div class="ref-section">
                <div class="ref-section-title">âœï¸ ã˜ã‚…ã†ã‚ˆã† ã¶ã‚“ã½ã†</div>
                <div class="ref-grid">
                    <div class="ref-item"><span class="ref-jp">Vã“ã¨ãŒã§ãã¾ã™</span><span class="ref-en">can do V</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œãŸã“ã¨ãŒã‚ã‚Šã¾ã™</span><span class="ref-en">have done</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œãŸã‚Šã€œãŸã‚Šã—ã¾ã™</span><span class="ref-en">do things like</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œã¨ãŠã‚‚ã„ã¾ã™</span><span class="ref-en">I think</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œã¨ã„ã„ã¾ã™</span><span class="ref-en">say that</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œã¨ã</span><span class="ref-en">when</span></div>
                    <div class="ref-item"><span class="ref-jp">ã€œãŸã‚‰</span><span class="ref-en">if/when</span></div>
                    <div class="ref-item"><span class="ref-jp">ã‚‚ã—ã€œãŸã‚‰</span><span class="ref-en">if (hypothetical)</span></div>
                    <div class="ref-item"><span class="ref-jp">ã„ãã‚‰ã€œã¦ã‚‚</span><span class="ref-en">no matter how</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¦ã‚ã’ã¾ã™</span><span class="ref-en">do for someone</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¦ã‚‚ã‚‰ã„ã¾ã™</span><span class="ref-en">have done for me</span></div>
                    <div class="ref-item"><span class="ref-jp">ã¦ãã‚Œã¾ã™</span><span class="ref-en">do for me (favor)</span></div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Vocabulary Data for L18-25
        const vocabularyData = [
            // L18 - Hobbies & Abilities
            { jp: 'ã§ãã¾ã™', en: 'be able to, can', lesson: 18 },
            { jp: 'ã‚ã‚‰ã„ã¾ã™', en: 'wash', lesson: 18 },
            { jp: 'ã²ãã¾ã™', en: 'play (piano, guitar)', lesson: 18 },
            { jp: 'ã†ãŸã„ã¾ã™', en: 'sing', lesson: 18 },
            { jp: 'ã‚ã¤ã‚ã¾ã™', en: 'collect, gather', lesson: 18 },
            { jp: 'ã™ã¦ã¾ã™', en: 'throw away', lesson: 18 },
            { jp: 'ã‹ãˆã¾ã™', en: 'exchange, change', lesson: 18 },
            { jp: 'ã†ã‚“ã¦ã‚“ã—ã¾ã™', en: 'drive', lesson: 18 },
            { jp: 'ã‚ˆã‚„ãã—ã¾ã™', en: 'reserve, book', lesson: 18 },
            { jp: 'ã‘ã‚“ãŒãã—ã¾ã™', en: 'visit for study', lesson: 18 },
            { jp: 'ãƒ”ã‚¢ãƒ', en: 'piano', lesson: 18 },
            { jp: 'ã—ã‚…ã¿', en: 'hobby', lesson: 18 },
            { jp: 'ã«ã£ã', en: 'diary', lesson: 18 },
            { jp: 'ã’ã‚“ãã‚“', en: 'cash', lesson: 18 },
            { jp: 'ã©ã†ã¶ã¤', en: 'animal', lesson: 18 },
            { jp: 'ã†ã¾', en: 'horse', lesson: 18 },
            { jp: 'ã‹ã¡ã‚‡ã†', en: 'section chief', lesson: 18 },
            { jp: 'ã¶ã¡ã‚‡ã†', en: 'department chief', lesson: 18 },
            { jp: 'ã—ã‚ƒã¡ã‚‡ã†', en: 'president of company', lesson: 18 },
            // L19 - Condition & Practice
            { jp: 'ã®ã¼ã‚Šã¾ã™', en: 'climb (mountain)', lesson: 19 },
            { jp: 'ã¨ã¾ã‚Šã¾ã™', en: 'stay (at hotel)', lesson: 19 },
            { jp: 'ãã†ã˜ã—ã¾ã™', en: 'clean (room)', lesson: 19 },
            { jp: 'ã›ã‚“ãŸãã—ã¾ã™', en: 'do laundry', lesson: 19 },
            { jp: 'ã‚Œã‚“ã—ã‚…ã†ã—ã¾ã™', en: 'practice', lesson: 19 },
            { jp: 'ãªã‚Šã¾ã™', en: 'become', lesson: 19 },
            { jp: 'ã­ã‚€ã„', en: 'sleepy', lesson: 19 },
            { jp: 'ã¤ã‚ˆã„', en: 'strong', lesson: 19 },
            { jp: 'ã‚ˆã‚ã„', en: 'weak', lesson: 19 },
            { jp: 'ã¡ã‚‡ã†ã—', en: 'condition', lesson: 19 },
            { jp: 'ã‚´ãƒ«ãƒ•', en: 'golf', lesson: 19 },
            { jp: 'ã™ã‚‚ã†', en: 'sumo wrestling', lesson: 19 },
            { jp: 'ãŠã¡ã‚ƒ', en: 'tea ceremony', lesson: 19 },
            { jp: 'ãƒ€ã‚¤ã‚¨ãƒƒãƒˆ', en: 'diet', lesson: 19 },
            { jp: 'ã„ã¡ã©', en: 'once', lesson: 19 },
            { jp: 'ã„ã¡ã©ã‚‚', en: 'never (+ neg)', lesson: 19 },
            { jp: 'ãªã‚“ã‹ã„ã‚‚', en: 'many times', lesson: 19 },
            { jp: 'ã ã‚“ã ã‚“', en: 'gradually', lesson: 19 },
            { jp: 'ã‚‚ã†ã™ã', en: 'soon', lesson: 19 },
            // L20 - Casual Speech
            { jp: 'ã„ã‚Šã¾ã™', en: 'need, require', lesson: 20 },
            { jp: 'ã—ã‚‰ã¹ã¾ã™', en: 'check, investigate', lesson: 20 },
            { jp: 'ãªãŠã—ã¾ã™', en: 'repair, correct', lesson: 20 },
            { jp: 'ã—ã‚…ã†ã‚Šã—ã¾ã™', en: 'repair (machine)', lesson: 20 },
            { jp: 'ã§ã‚“ã‚ã—ã¾ã™', en: 'phone, call', lesson: 20 },
            { jp: 'ã¼ã', en: 'I (informal, male)', lesson: 20 },
            { jp: 'ãã¿', en: 'you (informal)', lesson: 20 },
            { jp: 'ã“ã£ã¡', en: 'this way (informal)', lesson: 20 },
            { jp: 'ãã£ã¡', en: 'that way (informal)', lesson: 20 },
            { jp: 'ã‚ã£ã¡', en: 'over there (informal)', lesson: 20 },
            { jp: 'ã©ã£ã¡', en: 'which way (informal)', lesson: 20 },
            { jp: 'ã‚µãƒ©ãƒªãƒ¼ãƒãƒ³', en: 'office worker', lesson: 20 },
            { jp: 'ã“ã¨ã°', en: 'word, language', lesson: 20 },
            { jp: 'ãã‚‚ã®', en: 'kimono', lesson: 20 },
            { jp: 'ã“ã®ã‚ã„ã ', en: 'the other day', lesson: 20 },
            { jp: 'ã¿ã‚“ãªã§', en: 'all together', lesson: 20 },
            { jp: 'ã„ã‚ã„ã‚', en: 'various', lesson: 20 },
            // L21 - Opinions & Probability
            { jp: 'ãŠã‚‚ã„ã¾ã™', en: 'think', lesson: 21 },
            { jp: 'ã„ã„ã¾ã™', en: 'say', lesson: 21 },
            { jp: 'ãŸã‚Šã¾ã™', en: 'be enough, sufficient', lesson: 21 },
            { jp: 'ã‹ã¡ã¾ã™', en: 'win', lesson: 21 },
            { jp: 'ã¾ã‘ã¾ã™', en: 'lose, be beaten', lesson: 21 },
            { jp: 'ã‚ã‚Šã¾ã™', en: 'be held (festival)', lesson: 21 },
            { jp: 'ã‚„ãã«ãŸã¡ã¾ã™', en: 'be useful', lesson: 21 },
            { jp: 'ã—ã‚…ã—ã‚‡ã†', en: 'prime minister', lesson: 21 },
            { jp: 'ã ã„ã¨ã†ã‚Šã‚‡ã†', en: 'president', lesson: 21 },
            { jp: 'ã›ã„ã˜', en: 'politics', lesson: 21 },
            { jp: 'ãƒ‹ãƒ¥ãƒ¼ã‚¹', en: 'news', lesson: 21 },
            { jp: 'ã‚¹ãƒ”ãƒ¼ãƒ', en: 'speech', lesson: 21 },
            { jp: 'ã—ã‚ã„', en: 'game, match', lesson: 21 },
            { jp: 'ã‚¢ãƒ«ãƒã‚¤ãƒˆ', en: 'part-time job', lesson: 21 },
            { jp: 'ã„ã‘ã‚“', en: 'opinion', lesson: 21 },
            { jp: 'ãã£ã¨', en: 'surely, certainly', lesson: 21 },
            { jp: 'ãŸã¶ã‚“', en: 'probably, maybe', lesson: 21 },
            { jp: 'ã»ã‚“ã¨ã†ã«', en: 'really', lesson: 21 },
            { jp: 'ã•ã„ãã‚“', en: 'recently', lesson: 21 },
            // L22 - Wearing Verbs & Housing
            { jp: 'ãã¾ã™', en: 'put on (shirt, coat)', lesson: 22 },
            { jp: 'ã¯ãã¾ã™', en: 'put on (pants, shoes)', lesson: 22 },
            { jp: 'ã‹ã¶ã‚Šã¾ã™', en: 'put on (hat)', lesson: 22 },
            { jp: 'ã‹ã‘ã¾ã™', en: 'put on (glasses)', lesson: 22 },
            { jp: 'ã†ã¾ã‚Œã¾ã™', en: 'be born', lesson: 22 },
            { jp: 'ã‚³ãƒ¼ãƒˆ', en: 'coat', lesson: 22 },
            { jp: 'ã‚¹ãƒ¼ãƒ„', en: 'suit', lesson: 22 },
            { jp: 'ã‚»ãƒ¼ã‚¿ãƒ¼', en: 'sweater', lesson: 22 },
            { jp: 'ã¼ã†ã—', en: 'hat, cap', lesson: 22 },
            { jp: 'ã‚ãŒã­', en: 'glasses', lesson: 22 },
            { jp: 'ã‚ã—ã¤', en: 'Japanese-style room', lesson: 22 },
            { jp: 'ãŠã—ã„ã‚Œ', en: 'Japanese closet', lesson: 22 },
            { jp: 'ãµã¨ã‚“', en: 'futon, mattress', lesson: 22 },
            { jp: 'ã‚¢ãƒ‘ãƒ¼ãƒˆ', en: 'apartment', lesson: 22 },
            { jp: 'ã‚„ã¡ã‚“', en: 'house rent', lesson: 22 },
            // L23 - Roads & Directions
            { jp: 'ããã¾ã™', en: 'ask (the teacher)', lesson: 23 },
            { jp: 'ã¾ã‚ã—ã¾ã™', en: 'turn (a knob)', lesson: 23 },
            { jp: 'ã²ãã¾ã™', en: 'pull', lesson: 23 },
            { jp: 'ã‹ãˆã¾ã™', en: 'change', lesson: 23 },
            { jp: 'ã•ã‚ã‚Šã¾ã™', en: 'touch', lesson: 23 },
            { jp: 'ã§ã¾ã™', en: 'come out (change)', lesson: 23 },
            { jp: 'ã†ã”ãã¾ã™', en: 'move, work (machine)', lesson: 23 },
            { jp: 'ã‚ã‚‹ãã¾ã™', en: 'walk (along road)', lesson: 23 },
            { jp: 'ã‚ãŸã‚Šã¾ã™', en: 'cross (bridge)', lesson: 23 },
            { jp: 'ãã‚’ã¤ã‘ã¾ã™', en: 'be careful', lesson: 23 },
            { jp: 'ã²ã£ã“ã—ã—ã¾ã™', en: 'move (house)', lesson: 23 },
            { jp: 'ã¿ã¡', en: 'road, way', lesson: 23 },
            { jp: 'ã“ã†ã•ã¦ã‚“', en: 'intersection', lesson: 23 },
            { jp: 'ã—ã‚“ã”ã†', en: 'traffic light', lesson: 23 },
            { jp: 'ã‹ã©', en: 'corner', lesson: 23 },
            { jp: 'ã¯ã—', en: 'bridge', lesson: 23 },
            { jp: 'ãã‹ã„', en: 'machine', lesson: 23 },
            { jp: 'ã“ã—ã‚‡ã†', en: 'breakdown', lesson: 23 },
            { jp: 'ãŠã¨', en: 'sound', lesson: 23 },
            // L24 - Giving & Receiving
            { jp: 'ãã‚Œã¾ã™', en: 'give (to me)', lesson: 24 },
            { jp: 'ã¤ã‚Œã¦ã„ãã¾ã™', en: 'take (someone)', lesson: 24 },
            { jp: 'ã¤ã‚Œã¦ãã¾ã™', en: 'bring (someone)', lesson: 24 },
            { jp: 'ãŠãã‚Šã¾ã™', en: 'escort, see off', lesson: 24 },
            { jp: 'ã—ã‚‡ã†ã‹ã„ã—ã¾ã™', en: 'introduce', lesson: 24 },
            { jp: 'ã‚ã‚“ãªã„ã—ã¾ã™', en: 'show around, guide', lesson: 24 },
            { jp: 'ã›ã¤ã‚ã„ã—ã¾ã™', en: 'explain', lesson: 24 },
            { jp: 'ã„ã‚Œã¾ã™', en: 'make (coffee)', lesson: 24 },
            { jp: 'ãŠã˜ã„ã•ã‚“', en: 'grandfather', lesson: 24 },
            { jp: 'ãŠã°ã‚ã•ã‚“', en: 'grandmother', lesson: 24 },
            { jp: 'ã˜ã‚…ã‚“ã³', en: 'preparation', lesson: 24 },
            { jp: 'ã„ã¿', en: 'meaning', lesson: 24 },
            { jp: 'ãŠã‹ã—', en: 'sweets, snacks', lesson: 24 },
            { jp: 'ãŠã¹ã‚“ã¨ã†', en: 'box lunch', lesson: 24 },
            { jp: 'ãœã‚“ã¶', en: 'all', lesson: 24 },
            { jp: 'ã˜ã¶ã‚“ã§', en: 'by oneself', lesson: 24 },
            // L25 - Life & Conditions
            { jp: 'ã‹ã‚“ãŒãˆã¾ã™', en: 'think, consider', lesson: 25 },
            { jp: 'ã¤ãã¾ã™', en: 'arrive (station)', lesson: 25 },
            { jp: 'ã‚Šã‚…ã†ãŒãã—ã¾ã™', en: 'study abroad', lesson: 25 },
            { jp: 'ã¨ã—ã‚’ã¨ã‚Šã¾ã™', en: 'grow old', lesson: 25 },
            { jp: 'ã¦ã‚“ãã‚“ã—ã¾ã™', en: 'job transfer', lesson: 25 },
            { jp: 'ãŒã‚“ã°ã‚Šã¾ã™', en: 'do one\'s best', lesson: 25 },
            { jp: 'ã„ãªã‹', en: 'countryside', lesson: 25 },
            { jp: 'ãŸã„ã—ã‹ã‚“', en: 'embassy', lesson: 25 },
            { jp: 'ã‚°ãƒ«ãƒ¼ãƒ—', en: 'group', lesson: 25 },
            { jp: 'ãƒãƒ£ãƒ³ã‚¹', en: 'chance', lesson: 25 },
            { jp: 'ãŠã', en: 'hundred million', lesson: 25 },
            { jp: 'ã“ã¨', en: 'thing, matter', lesson: 25 },
            { jp: 'ãŠã›ã‚ã«ãªã‚Šã¾ã—ãŸ', en: 'Thank you for everything', lesson: 25 },
            { jp: 'ã©ã†ã ãŠã’ã‚“ãã§', en: 'Take care', lesson: 25 }
        ];
        
        // Grammar Data for L18-25
        const grammarData = [
            // L18 - Potential form
            { question: 'ã‚ãŸã—ã¯ ãƒ”ã‚¢ãƒã‚’ ã²ã___ãŒã‚ã‚Šã¾ã™ã€‚', answer: 'ã“ã¨', options: ['ã“ã¨', 'ã‚‚ã®', 'ã¨ã“ã‚', 'ã²ã¨'], hint: 'Experience/ability noun', lesson: 18, explanation: 'V dictionary form + ã“ã¨ãŒã§ãã¾ã™ = can do V' },
            { question: 'ã‹ã‚Œã¯ ã«ã»ã‚“ã”ãŒ ___ã€‚', answer: 'ã§ãã¾ã™', options: ['ã§ãã¾ã™', 'ã—ã¾ã™', 'ãªã‚Šã¾ã™', 'ã‚ã‚Šã¾ã™'], hint: 'Potential verb for ability', lesson: 18, explanation: 'N + ãŒã§ãã¾ã™ = can do N / N is possible' },
            // L19 - Experience & Actions
            { question: 'ãµã˜ã•ã‚“ã« ã®ã¼ã£ãŸ___ãŒã‚ã‚Šã¾ã™ã‹ã€‚', answer: 'ã“ã¨', options: ['ã“ã¨', 'ã‚‚ã®', 'ã¨ã', 'ã²ã¨'], hint: 'Experience pattern', lesson: 19, explanation: 'ã€œãŸã“ã¨ãŒã‚ã‚Šã¾ã™ = have the experience of ~' },
            { question: 'ã‚„ã™ã¿ã®ã²ã¯ ãƒ†ãƒ¬ãƒ“ã‚’ ã¿ãŸã‚Šã€ã»ã‚“ã‚’ ___ã—ã¾ã™ã€‚', answer: 'ã‚ˆã‚“ã ã‚Š', options: ['ã‚ˆã‚“ã ã‚Š', 'ã‚ˆã‚€ã“ã¨', 'ã‚ˆã¿ã¾ã™', 'ã‚ˆã‚“ã§'], hint: 'Listing activities pattern', lesson: 19, explanation: 'ã€œãŸã‚Šã€œãŸã‚Šã—ã¾ã™ = do things like ~ and ~' },
            // L20 - Plain form
            { question: 'A: ã«ã»ã‚“ã”ãŒ ã‚ã‹ã‚‹ï¼Ÿ B: ___ã€‚', answer: 'ã†ã‚“ã€ã‚ã‹ã‚‹', options: ['ã†ã‚“ã€ã‚ã‹ã‚‹', 'ã¯ã„ã€ã‚ã‹ã‚Šã¾ã™', 'ãˆãˆã€ãã†ã§ã™', 'ã¯ã„ã€ãã†'], hint: 'Casual response', lesson: 20, explanation: 'Plain form + ã‹ is used in casual speech' },
            { question: 'ã‚ã—ãŸ ã¨ã‚‚ã ã¡ã® ã„ãˆã¸ ___ã€‚', answer: 'ã„ãã‚“ã ', options: ['ã„ãã‚“ã ', 'ã„ãã¾ã™', 'ã„ãã¾ã—ãŸ', 'ã„ã£ã¦'], hint: 'Casual explanation', lesson: 20, explanation: 'ã€œã‚“ã  is casual explanatory form' },
            // L21 - Opinions
            { question: 'ã‚ã—ãŸã¯ ã‚ã‚ãŒ ãµã‚‹ã¨___ã€‚', answer: 'ãŠã‚‚ã„ã¾ã™', options: ['ãŠã‚‚ã„ã¾ã™', 'ã—ã‚Šã¾ã™', 'ã‚ã‹ã‚Šã¾ã™', 'ã§ãã¾ã™'], hint: 'Expressing opinion', lesson: 21, explanation: 'ã€œã¨ãŠã‚‚ã„ã¾ã™ = I think that ~' },
            { question: 'ã›ã‚“ã›ã„ã¯ ã€Œã¹ã‚“ãã‚‡ã†ã—ãªã•ã„ã€ã¨___ã€‚', answer: 'ã„ã„ã¾ã—ãŸ', options: ['ã„ã„ã¾ã—ãŸ', 'ãŠã‚‚ã„ã¾ã—ãŸ', 'ãã„ã¾ã—ãŸ', 'ã‚ã‹ã‚Šã¾ã—ãŸ'], hint: 'Quoting speech', lesson: 21, explanation: 'ã€œã¨ã„ã„ã¾ã™ = say that ~' },
            // L22 - Wearing
            { question: 'ã‚ãŸã¾ã« ã¼ã†ã—ã‚’ ___ã„ã¾ã™ã€‚', answer: 'ã‹ã¶ã£ã¦', options: ['ã‹ã¶ã£ã¦', 'ãã¦', 'ã¯ã„ã¦', 'ã‹ã‘ã¦'], hint: 'Verb for wearing hats', lesson: 22, explanation: 'ã‹ã¶ã‚Šã¾ã™ is used for hats/caps' },
            { question: 'ã‚ãŒã­ã‚’ ___ã„ã‚‹ ã²ã¨ã¯ ã ã‚Œã§ã™ã‹ã€‚', answer: 'ã‹ã‘ã¦', options: ['ã‹ã‘ã¦', 'ãã¦', 'ã¯ã„ã¦', 'ã‹ã¶ã£ã¦'], hint: 'Verb for wearing glasses', lesson: 22, explanation: 'ã‹ã‘ã¾ã™ is used for glasses' },
            // L23 - When/Directions
            { question: 'ã”ã¯ã‚“ã‚’ ãŸã¹ã‚‹___ã€ã¦ã‚’ ã‚ã‚‰ã„ã¾ã™ã€‚', answer: 'ã¾ãˆã«', options: ['ã¾ãˆã«', 'ã‚ã¨ã§', 'ã¨ã', 'ã‹ã‚‰'], hint: 'Before doing', lesson: 23, explanation: 'V dictionary form + ã¾ãˆã« = before doing V' },
            { question: 'ã¤ã‹ã†___ã€ã›ã¤ã‚ã„ã—ã‚‡ã‚’ ã‚ˆã‚“ã§ãã ã•ã„ã€‚', answer: 'ã¨ã', options: ['ã¨ã', 'ã¾ãˆ', 'ã‚ã¨', 'ã‹ã‚‰'], hint: 'When doing', lesson: 23, explanation: 'ã€œã¨ã = when ~' },
            // L24 - Giving/Receiving
            { question: 'ã¨ã‚‚ã ã¡ãŒ ã‚ãŸã—ã« ã»ã‚“ã‚’ ___ã€‚', answer: 'ãã‚Œã¾ã—ãŸ', options: ['ãã‚Œã¾ã—ãŸ', 'ã‚ã’ã¾ã—ãŸ', 'ã‚‚ã‚‰ã„ã¾ã—ãŸ', 'ã‚„ã‚Šã¾ã—ãŸ'], hint: 'Give to me', lesson: 24, explanation: 'ãã‚Œã¾ã™ = give (to me/my group)' },
            { question: 'ã“ã©ã‚‚ã‚’ ãˆãã¾ã§ ___ã„ãã¾ã™ã€‚', answer: 'ã¤ã‚Œã¦', options: ['ã¤ã‚Œã¦', 'ã‚‚ã£ã¦', 'ãŠãã£ã¦', 'ã¨ã£ã¦'], hint: 'Taking a person', lesson: 24, explanation: 'ã¤ã‚Œã¦ã„ãã¾ã™ = take (a person) somewhere' },
            // L25 - Conditionals
            { question: 'ã‚‚ã— 1ãŠããˆã‚“ãŒ ___ã€ã„ãˆã‚’ ã‹ã„ã¾ã™ã€‚', answer: 'ã‚ã£ãŸã‚‰', options: ['ã‚ã£ãŸã‚‰', 'ã‚ã£ã¦', 'ã‚ã‚Œã°', 'ã‚ã‚Šã¾ã™'], hint: 'If ~ (hypothetical)', lesson: 25, explanation: 'ã‚‚ã—ã€œãŸã‚‰ = if ~ (hypothetical condition)' },
            { question: 'ã„ãã‚‰ ãŸã¹___ã€ãµã¨ã‚Šã¾ã›ã‚“ã€‚', answer: 'ã¦ã‚‚', options: ['ã¦ã‚‚', 'ãŸã‚‰', 'ã‹ã‚‰', 'ã¨'], hint: 'No matter how much', lesson: 25, explanation: 'ã„ãã‚‰ã€œã¦ã‚‚ = no matter how much ~' },
            { question: 'ãˆãã« ___ã€ã§ã‚“ã‚ã—ã¦ãã ã•ã„ã€‚', answer: 'ã¤ã„ãŸã‚‰', options: ['ã¤ã„ãŸã‚‰', 'ã¤ã„ã¦', 'ã¤ãã¨', 'ã¤ã„ãŸã¨ã'], hint: 'When you arrive', lesson: 25, explanation: 'ã€œãŸã‚‰ = when/if ~ happens' },
            { question: 'ã ã„ãŒãã‚’ ___ã€ã«ã»ã‚“ã§ ã¯ãŸã‚‰ããŸã„ã§ã™ã€‚', answer: 'ãã¤ãã‚‡ã†ã—ãŸã‚‰', options: ['ãã¤ãã‚‡ã†ã—ãŸã‚‰', 'ãã¤ãã‚‡ã†ã—ã¦', 'ãã¤ãã‚‡ã†ã™ã‚‹ã¨', 'ãã¤ãã‚‡ã†ã—ã¦ã‚‚'], hint: 'After graduating', lesson: 25, explanation: 'ã€œãŸã‚‰ expresses sequence of events' }
        ];
        
        // Listening Data for L18-25
        const listeningData = [
            { dialogue: [
                { speaker: 'A', text: 'ã—ã‚…ã¿ã¯ ãªã‚“ã§ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ãƒ”ã‚¢ãƒã‚’ ã²ãã“ã¨ã§ã™ã€‚ã¾ã„ã«ã¡ ã‚Œã‚“ã—ã‚…ã†ã—ã¦ã„ã¾ã™ã€‚' }
            ], question: 'Bã•ã‚“ã® ã—ã‚…ã¿ã¯ ãªã‚“ã§ã™ã‹ã€‚', answer: 'ãƒ”ã‚¢ãƒã‚’ ã²ãã“ã¨', options: ['ãƒ”ã‚¢ãƒã‚’ ã²ãã“ã¨', 'ã†ãŸã‚’ ã†ãŸã†ã“ã¨', 'ã‚®ã‚¿ãƒ¼ã‚’ ã²ãã“ã¨', 'ãŠã‚“ãŒãã‚’ ããã“ã¨'], lesson: 18 },
            
            { dialogue: [
                { speaker: 'A', text: 'ãµã˜ã•ã‚“ã« ã®ã¼ã£ãŸã“ã¨ãŒ ã‚ã‚Šã¾ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ã„ã„ãˆã€ã„ã¡ã©ã‚‚ ã‚ã‚Šã¾ã›ã‚“ã€‚ã„ã¤ã‹ ã®ã¼ã‚ŠãŸã„ã§ã™ã€‚' }
            ], question: 'Bã•ã‚“ã¯ ãµã˜ã•ã‚“ã« ã®ã¼ã£ãŸã“ã¨ãŒ ã‚ã‚Šã¾ã™ã‹ã€‚', answer: 'ã„ã„ãˆã€ã‚ã‚Šã¾ã›ã‚“', options: ['ã„ã„ãˆã€ã‚ã‚Šã¾ã›ã‚“', 'ã¯ã„ã€ã‚ã‚Šã¾ã™', 'ã„ã¡ã© ã‚ã‚Šã¾ã™', 'ãªã‚“ã‹ã„ã‚‚ ã‚ã‚Šã¾ã™'], lesson: 19 },
            
            { dialogue: [
                { speaker: 'A', text: 'ãã‚‡ã†ã® ã‚ˆã‚‹ã€ã²ã¾ï¼Ÿ' },
                { speaker: 'B', text: 'ã†ã‚“ã€ãªã«ï¼Ÿ' },
                { speaker: 'A', text: 'ã„ã£ã—ã‚‡ã« ãˆã„ãŒã‚’ ã¿ãªã„ï¼Ÿ' }
            ], question: 'Aã•ã‚“ã¯ ãªã«ã‚’ ã—ãŸã„ã§ã™ã‹ã€‚', answer: 'ãˆã„ãŒã‚’ ã¿ã‚‹ã“ã¨', options: ['ãˆã„ãŒã‚’ ã¿ã‚‹ã“ã¨', 'ã‹ã„ã‚‚ã®ã‚’ ã™ã‚‹ã“ã¨', 'ã”ã¯ã‚“ã‚’ ãŸã¹ã‚‹ã“ã¨', 'ã•ã‚“ã½ã™ã‚‹ã“ã¨'], lesson: 20 },
            
            { dialogue: [
                { speaker: 'A', text: 'ã‚ã—ãŸã® ã—ã‚ã„ã€ã©ã† ãŠã‚‚ã„ã¾ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ã«ã»ã‚“ãƒãƒ¼ãƒ ãŒ ã‹ã¤ã¨ ãŠã‚‚ã„ã¾ã™ã€‚' }
            ], question: 'Bã•ã‚“ã¯ ã©ã¡ã‚‰ãŒ ã‹ã¤ã¨ ãŠã‚‚ã„ã¾ã™ã‹ã€‚', answer: 'ã«ã»ã‚“ãƒãƒ¼ãƒ ', options: ['ã«ã»ã‚“ãƒãƒ¼ãƒ ', 'ã‚ã„ã¦ãƒãƒ¼ãƒ ', 'ã‚ã‹ã‚Šã¾ã›ã‚“', 'ã²ãã‚ã‘'], lesson: 21 },
            
            { dialogue: [
                { speaker: 'A', text: 'ãã‚‡ã†ã¯ ã•ã‚€ã„ã§ã™ã­ã€‚' },
                { speaker: 'B', text: 'ãˆãˆã€‚ã‚³ãƒ¼ãƒˆã‚’ ãã¦ã€ã¼ã†ã—ã‚’ ã‹ã¶ã£ã¦ ã§ã‹ã‘ã¾ã—ã‚‡ã†ã€‚' }
            ], question: 'Bã•ã‚“ã¯ ãªã«ã‚’ ã™ã™ã‚ã¦ã„ã¾ã™ã‹ã€‚', answer: 'ã‚³ãƒ¼ãƒˆã¨ã¼ã†ã—ã‚’ ã¿ã«ã¤ã‘ã‚‹', options: ['ã‚³ãƒ¼ãƒˆã¨ã¼ã†ã—ã‚’ ã¿ã«ã¤ã‘ã‚‹', 'ã„ãˆã« ã„ã‚‹ã“ã¨', 'ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ ãã‚‹ã“ã¨', 'ã‚ãŒã­ã‚’ ã‹ã‘ã‚‹ã“ã¨'], lesson: 22 },
            
            { dialogue: [
                { speaker: 'A', text: 'ãˆãã¸ã® ã¿ã¡ã‚’ ãŠã—ãˆã¦ãã ã•ã„ã€‚' },
                { speaker: 'B', text: 'ã“ã® ã¿ã¡ã‚’ ã¾ã£ã™ã ã„ã£ã¦ã€ã“ã†ã•ã¦ã‚“ã‚’ ã¿ãã« ã¾ãŒã£ã¦ãã ã•ã„ã€‚' }
            ], question: 'ã“ã†ã•ã¦ã‚“ã§ ãªã«ã‚’ ã—ã¾ã™ã‹ã€‚', answer: 'ã¿ãã« ã¾ãŒã‚Šã¾ã™', options: ['ã¿ãã« ã¾ãŒã‚Šã¾ã™', 'ã²ã ã‚Šã« ã¾ãŒã‚Šã¾ã™', 'ã¾ã£ã™ã ã„ãã¾ã™', 'ã‚‚ã©ã‚Šã¾ã™'], lesson: 23 },
            
            { dialogue: [
                { speaker: 'A', text: 'ãŸã‚“ã˜ã‚‡ã†ã³ã« ãªã«ã‚’ ã‚‚ã‚‰ã„ã¾ã—ãŸã‹ã€‚' },
                { speaker: 'B', text: 'ã¡ã¡ãŒ ã¨ã‘ã„ã‚’ ãã‚Œã¾ã—ãŸã€‚' }
            ], question: 'ã ã‚ŒãŒ ã¨ã‘ã„ã‚’ ãã‚Œã¾ã—ãŸã‹ã€‚', answer: 'ãŠã¨ã†ã•ã‚“', options: ['ãŠã¨ã†ã•ã‚“', 'ãŠã‹ã‚ã•ã‚“', 'ã¨ã‚‚ã ã¡', 'ã›ã‚“ã›ã„'], lesson: 24 },
            
            { dialogue: [
                { speaker: 'A', text: 'ã‚‰ã„ã’ã¤ ã¦ã‚“ãã‚“ã™ã‚‹ã‚“ã§ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ã¯ã„ã€ãŠãŠã•ã‹ã¸ ã¦ã‚“ãã‚“ã—ã¾ã™ã€‚' },
                { speaker: 'A', text: 'ãã†ã§ã™ã‹ã€‚ãŠã›ã‚ã« ãªã‚Šã¾ã—ãŸã€‚' }
            ], question: 'Bã•ã‚“ã¯ ã©ã“ã¸ ã„ãã¾ã™ã‹ã€‚', answer: 'ãŠãŠã•ã‹', options: ['ãŠãŠã•ã‹', 'ã¨ã†ãã‚‡ã†', 'ãã‚‡ã†ã¨', 'ãµããŠã‹'], lesson: 25 },
            
            { dialogue: [
                { speaker: 'A', text: 'ã‚‚ã— ãŸã‹ã‚‰ãã˜ãŒ ã‚ãŸã£ãŸã‚‰ã€ãªã«ã‚’ ã—ã¾ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ã›ã‹ã„ã‚Šã‚‡ã“ã†ã‚’ ã—ãŸã„ã§ã™ã€‚' }
            ], question: 'Bã•ã‚“ã¯ ãªã«ã‚’ ã—ãŸã„ã§ã™ã‹ã€‚', answer: 'ã›ã‹ã„ã‚Šã‚‡ã“ã†', options: ['ã›ã‹ã„ã‚Šã‚‡ã“ã†', 'ã„ãˆã‚’ ã‹ã†', 'ãã‚‹ã¾ã‚’ ã‹ã†', 'ã¡ã‚‡ãã‚“ã™ã‚‹'], lesson: 25 },
            
            { dialogue: [
                { speaker: 'A', text: 'ã™ã‚‚ã†ã‚’ ã¿ãŸã“ã¨ãŒ ã‚ã‚Šã¾ã™ã‹ã€‚' },
                { speaker: 'B', text: 'ãƒ†ãƒ¬ãƒ“ã§ ãªã‚“ã‹ã„ã‚‚ ã¿ãŸã“ã¨ãŒ ã‚ã‚Šã¾ã™ã€‚ã§ã‚‚ã€ã¾ã  ã˜ã£ã•ã„ã« ã¿ãŸã“ã¨ã¯ ã‚ã‚Šã¾ã›ã‚“ã€‚' }
            ], question: 'Bã•ã‚“ã¯ ã™ã‚‚ã†ã‚’ ã©ã“ã§ ã¿ã¾ã—ãŸã‹ã€‚', answer: 'ãƒ†ãƒ¬ãƒ“ã§', options: ['ãƒ†ãƒ¬ãƒ“ã§', 'ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã§', 'ã¨ã‚‚ã ã¡ã® ã„ãˆã§', 'ã¿ãŸã“ã¨ãŒ ãªã„'], lesson: 19 }
        ];
        
        // Reading Data for L18-25
        const readingData = [
            { passage: 'ã‚ãŸã—ã® ã—ã‚…ã¿ã¯ ã‚¹ãƒãƒ¼ãƒ„ã§ã™ã€‚ãƒ†ãƒ‹ã‚¹ã‚’ ã™ã‚‹ã“ã¨ãŒ ã§ãã¾ã™ã€‚ã¾ã„ã—ã‚…ã† ã«ã¡ã‚ˆã†ã³ã« ã“ã†ãˆã‚“ã§ ã‚Œã‚“ã—ã‚…ã†ã—ã¦ã„ã¾ã™ã€‚ã‚‰ã„ã’ã¤ ã—ã‚ã„ã« ã§ã¾ã™ã€‚',
              question: 'ã“ã® ã²ã¨ã¯ ãªã«ãŒ ã§ãã¾ã™ã‹ã€‚',
              answer: 'ãƒ†ãƒ‹ã‚¹ã‚’ ã™ã‚‹ã“ã¨',
              options: ['ãƒ†ãƒ‹ã‚¹ã‚’ ã™ã‚‹ã“ã¨', 'ã‚µãƒƒã‚«ãƒ¼ã‚’ ã™ã‚‹ã“ã¨', 'ã‚„ãã‚…ã†ã‚’ ã™ã‚‹ã“ã¨', 'ã‚´ãƒ«ãƒ•ã‚’ ã™ã‚‹ã“ã¨'],
              lesson: 18 },
            
            { passage: 'ã«ã»ã‚“ã« ãã¦ã€ã„ã‚ã„ã‚ãª ã‘ã„ã‘ã‚“ã‚’ ã—ã¾ã—ãŸã€‚ãµã˜ã•ã‚“ã« ã®ã¼ã£ãŸã‚Šã€ãŠã‚“ã›ã‚“ã« ã¯ã„ã£ãŸã‚Š ã—ã¾ã—ãŸã€‚ãŠã™ã—ã‚‚ ãŸã¹ã¾ã—ãŸã€‚ã¨ã¦ã‚‚ ãŠã„ã—ã‹ã£ãŸã§ã™ã€‚',
              question: 'ã“ã® ã²ã¨ã¯ ãªã«ã‚’ ã—ã¾ã—ãŸã‹ã€‚',
              answer: 'ãµã˜ã•ã‚“ã« ã®ã¼ã‚Šã¾ã—ãŸ',
              options: ['ãµã˜ã•ã‚“ã« ã®ã¼ã‚Šã¾ã—ãŸ', 'ãã‚‡ã†ã¨ã« ã„ãã¾ã—ãŸ', 'ã†ã¿ã§ ãŠã‚ˆãã¾ã—ãŸ', 'ãˆã„ãŒã‚’ ã¿ã¾ã—ãŸ'],
              lesson: 19 },
            
            { passage: 'A: ãã®ã†ã€ãªã«ã‚’ ã—ãŸï¼Ÿ B: ã¨ã‚‚ã ã¡ã¨ ã‹ã„ã‚‚ã®ã« ã„ã£ãŸã‚“ã ã€‚A: ãã†ã€‚ãªã«ã‚’ ã‹ã£ãŸï¼Ÿ B: ã‚ãŸã‚‰ã—ã„ ãã¤ã‚’ ã‹ã£ãŸã€‚',
              question: 'Bã•ã‚“ã¯ ãªã«ã‚’ ã‹ã„ã¾ã—ãŸã‹ã€‚',
              answer: 'ãã¤',
              options: ['ãã¤', 'ãµã', 'ã‹ã°ã‚“', 'ã¼ã†ã—'],
              lesson: 20 },
            
            { passage: 'ãƒ‹ãƒ¥ãƒ¼ã‚¹ã« ã‚ˆã‚‹ã¨ã€ã‚ã—ãŸã¯ ã‚ã‚ãŒ ãµã‚‹ãã†ã§ã™ã€‚ã§ã‚‚ã€ãŸã¶ã‚“ ã”ã”ã‹ã‚‰ ã¯ã‚Œã‚‹ã¨ ãŠã‚‚ã„ã¾ã™ã€‚ã‹ã•ã‚’ ã‚‚ã£ã¦ã„ã£ãŸ ã»ã†ãŒ ã„ã„ã§ã™ã­ã€‚',
              question: 'ã‚ã—ãŸã® ã¦ã‚“ãã¯ ã©ã†ã§ã™ã‹ã€‚',
              answer: 'ã‚ã‚ã€ã§ã‚‚ ã”ã”ã‹ã‚‰ ã¯ã‚Œã‚‹',
              options: ['ã‚ã‚ã€ã§ã‚‚ ã”ã”ã‹ã‚‰ ã¯ã‚Œã‚‹', 'ã„ã¡ã«ã¡ ã‚ã‚', 'ã„ã¡ã«ã¡ ã¯ã‚Œ', 'ã‚†ã'],
              lesson: 21 },
            
            { passage: 'ã‚ãŸã—ã® ãŠã¨ã†ã¨ã¯ ã„ã¤ã‚‚ ã‚»ãƒ¼ã‚¿ãƒ¼ã‚’ ãã¦ã€ã‚¸ãƒ¼ãƒ³ã‚ºã‚’ ã¯ã„ã¦ã„ã¾ã™ã€‚ã¼ã†ã—ã¯ ã‚ã¾ã‚Š ã‹ã¶ã‚Šã¾ã›ã‚“ã€‚ã‚ãŒã­ã‚’ ã‹ã‘ã¦ã„ã¾ã™ã€‚',
              question: 'ãŠã¨ã†ã¨ã•ã‚“ã¯ ãªã«ã‚’ ã‹ã‘ã¦ã„ã¾ã™ã‹ã€‚',
              answer: 'ã‚ãŒã­',
              options: ['ã‚ãŒã­', 'ã¼ã†ã—', 'ãƒãƒ•ãƒ©ãƒ¼', 'ãƒã‚¯ã‚¿ã‚¤'],
              lesson: 22 },
            
            { passage: 'ãˆãã¸ ã„ã ã¿ã¡ã‚’ ãŠã—ãˆã¾ã™ã€‚ã¾ãšã€ã“ã® ã¿ã¡ã‚’ ã¾ã£ã™ã ã‚ã‚‹ã„ã¦ãã ã•ã„ã€‚ã—ã‚“ã”ã†ã‚’ ã‚ãŸã£ã¦ã€ãµãŸã¤ã‚ã® ã‹ã©ã‚’ ã²ã ã‚Šã« ã¾ãŒã£ã¦ãã ã•ã„ã€‚ãˆãã¯ ã¿ããŒã‚ã« ã‚ã‚Šã¾ã™ã€‚',
              question: 'ãµãŸã¤ã‚ã® ã‹ã©ã§ ãªã«ã‚’ ã—ã¾ã™ã‹ã€‚',
              answer: 'ã²ã ã‚Šã« ã¾ãŒã‚Šã¾ã™',
              options: ['ã²ã ã‚Šã« ã¾ãŒã‚Šã¾ã™', 'ã¿ãã« ã¾ãŒã‚Šã¾ã™', 'ã¾ã£ã™ã ã„ãã¾ã™', 'ã—ã‚“ã”ã†ã‚’ ã‚ãŸã‚Šã¾ã™'],
              lesson: 23 },
            
            { passage: 'ãã®ã†ã€ã¯ã¯ã¯ã®ã² ã§ã—ãŸã€‚ã‚ãŸã—ã¯ ãŠã‹ã‚ã•ã‚“ã« ã¯ãªã‚’ ã‚ã’ã¾ã—ãŸã€‚ãŠã‹ã‚ã•ã‚“ã¯ ã¨ã¦ã‚‚ ã‚ˆã‚ã“ã‚“ã§ã€ã€Œã‚ã‚ŠãŒã¨ã†ã€ã¨ ã„ã„ã¾ã—ãŸã€‚',
              question: 'ã ã‚ŒãŒ ã¯ãªã‚’ ã‚‚ã‚‰ã„ã¾ã—ãŸã‹ã€‚',
              answer: 'ãŠã‹ã‚ã•ã‚“',
              options: ['ãŠã‹ã‚ã•ã‚“', 'ãŠã¨ã†ã•ã‚“', 'ã‚ãŸã—', 'ãŠã°ã‚ã•ã‚“'],
              lesson: 24 },
            
            { passage: 'ã‚‚ã— ã„ã¡ãŠããˆã‚“ãŒ ã‚ã£ãŸã‚‰ã€ãªã«ã‚’ ã—ã¾ã™ã‹ã€‚ã‚ãŸã—ã¯ ã¾ãš ã„ãˆã‚’ ã‹ã„ã¾ã™ã€‚ãã—ã¦ã€ã‚Šã‚‡ã“ã†ã‚’ ã—ã¾ã™ã€‚ã›ã‹ã„ã˜ã‚…ã†ã‚’ ã¾ã‚ã‚ŠãŸã„ã§ã™ã€‚',
              question: 'ã¾ãš ãªã«ã‚’ ã—ã¾ã™ã‹ã€‚',
              answer: 'ã„ãˆã‚’ ã‹ã„ã¾ã™',
              options: ['ã„ãˆã‚’ ã‹ã„ã¾ã™', 'ã‚Šã‚‡ã“ã†ã‚’ ã—ã¾ã™', 'ãã‚‹ã¾ã‚’ ã‹ã„ã¾ã™', 'ã¡ã‚‡ãã‚“ã—ã¾ã™'],
              lesson: 25 },
            
            { passage: 'ã‚‰ã„ã­ã‚“ ã ã„ãŒãã‚’ ãã¤ãã‚‡ã†ã—ãŸã‚‰ã€ã«ã»ã‚“ã® ã‹ã„ã—ã‚ƒã§ ã¯ãŸã‚‰ããŸã„ã§ã™ã€‚ã„ãã‚‰ ãŸã„ã¸ã‚“ã§ã‚‚ã€ãŒã‚“ã°ã‚Šã¾ã™ã€‚ã‚†ã‚ã‚’ ã‚ãã‚‰ã‚ã¾ã›ã‚“ã€‚',
              question: 'ãã¤ãã‚‡ã†ã—ãŸã‚‰ ãªã«ã‚’ ã—ãŸã„ã§ã™ã‹ã€‚',
              answer: 'ã«ã»ã‚“ã§ ã¯ãŸã‚‰ã',
              options: ['ã«ã»ã‚“ã§ ã¯ãŸã‚‰ã', 'ã ã„ãŒãã„ã‚“ã« ã„ã', 'ã‚Šã‚…ã†ãŒãã™ã‚‹', 'ã„ãªã‹ã« ã‹ãˆã‚‹'],
              lesson: 25 },
            
            { passage: 'ãã®ã†ã® ã‚ˆã‚‹ã€ã‚ãŸã¾ãŒ ã„ãŸã‹ã£ãŸã®ã§ã€ãã™ã‚Šã‚’ ã®ã‚“ã§ã€ã¯ã‚„ã ã­ã¾ã—ãŸã€‚ã‘ã•ã¯ ã¡ã‚‡ã†ã—ãŒ ã„ã„ã§ã™ã€‚ã§ã‚‚ã€ã‚€ã‚Šã‚’ ã—ãªã„ã»ã†ãŒ ã„ã„ã¨ ãŠã‚‚ã„ã¾ã™ã€‚',
              question: 'ã‘ã•ã® ã¡ã‚‡ã†ã—ã¯ ã©ã†ã§ã™ã‹ã€‚',
              answer: 'ã„ã„ã§ã™',
              options: ['ã„ã„ã§ã™', 'ã‚ã‚‹ã„ã§ã™', 'ã¾ã‚ã¾ã‚ã§ã™', 'ã‹ã‚ã‚Šã¾ã›ã‚“'],
              lesson: 19 }
        ];
        
        // Quiz State
        let currentSection = 'vocab';
        let currentQuestion = 0;
        let totalScore = 0;
        let questionsAnswered = 0;
        const totalQuestions = 40;
        
        let sectionStatus = {
            vocab: { completed: false, correct: 0, total: 10, questions: [] },
            grammar: { completed: false, correct: 0, total: 10, questions: [] },
            listening: { completed: false, correct: 0, total: 10, questions: [] },
            reading: { completed: false, correct: 0, total: 10, questions: [] }
        };
        
        // Shuffle function
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // Get wrong options
        function getWrongOptions(correct, pool, count = 3) {
            const filtered = pool.filter(opt => opt !== correct);
            return shuffleArray(filtered).slice(0, count);
        }
        
        // Generate vocabulary questions
        function generateVocabQuestions() {
            const allVocab = shuffleArray([...vocabularyData]);
            const selected = allVocab.slice(0, 10);
            
            sectionStatus.vocab.questions = selected.map((vocab, index) => {
                const isJpToEn = index < 5;
                if (isJpToEn) {
                    const allEn = vocabularyData.map(v => v.en);
                    const wrongOptions = getWrongOptions(vocab.en, allEn);
                    return {
                        type: 'jp-en',
                        prompt: vocab.jp,
                        answer: vocab.en,
                        options: shuffleArray([vocab.en, ...wrongOptions]),
                        lesson: vocab.lesson
                    };
                } else {
                    const allJp = vocabularyData.map(v => v.jp);
                    const wrongOptions = getWrongOptions(vocab.jp, allJp);
                    return {
                        type: 'en-jp',
                        prompt: vocab.en,
                        answer: vocab.jp,
                        options: shuffleArray([vocab.jp, ...wrongOptions]),
                        lesson: vocab.lesson
                    };
                }
            });
        }
        
        // Generate grammar questions
        function generateGrammarQuestions() {
            const selected = shuffleArray([...grammarData]).slice(0, 10);
            sectionStatus.grammar.questions = selected.map(q => ({
                ...q,
                options: shuffleArray([...q.options])
            }));
        }
        
        // Generate listening questions
        function generateListeningQuestions() {
            const selected = shuffleArray([...listeningData]).slice(0, 10);
            sectionStatus.listening.questions = selected.map(q => ({
                ...q,
                options: shuffleArray([...q.options])
            }));
        }
        
        // Generate reading questions
        function generateReadingQuestions() {
            const selected = shuffleArray([...readingData]).slice(0, 10);
            sectionStatus.reading.questions = selected.map(q => ({
                ...q,
                options: shuffleArray([...q.options])
            }));
        }
        
        // Initialize quiz
        function init() {
            generateVocabQuestions();
            generateGrammarQuestions();
            generateListeningQuestions();
            generateReadingQuestions();
            updateScoreBoard();
            loadVocabQuestion();
        }
        
        // Update score board
        function updateScoreBoard() {
            document.getElementById('score').textContent = `${totalScore}/${totalQuestions}`;
            const percent = Math.round((totalScore / questionsAnswered) * 100) || 0;
            document.getElementById('percentage').textContent = `${percent}%`;
            document.getElementById('progressFill').style.width = `${(questionsAnswered / totalQuestions) * 100}%`;
        }
        
        // Load vocabulary question
        function loadVocabQuestion() {
            const questions = sectionStatus.vocab.questions;
            if (currentQuestion >= questions.length) {
                completeSection('vocab');
                return;
            }
            
            const q = questions[currentQuestion];
            const typeBadge = q.type === 'jp-en' ? 'ã«ã»ã‚“ã”â†’ãˆã„ã”' : 'ãˆã„ã”â†’ã«ã»ã‚“ã”';
            document.getElementById('vocab-type-badge').textContent = typeBadge;
            document.getElementById('vocab-lesson-tag').textContent = `L${q.lesson}`;
            
            const container = document.getElementById('vocab-question');
            container.innerHTML = `
                <div class="question-container">
                    <div class="question-number">ã‚‚ã‚“ã ã„ ${currentQuestion + 1} / 10</div>
                    <div class="question-text">${q.prompt}</div>
                </div>
                <div class="options-grid" id="vocabOptions">
                    ${q.options.map((opt, i) => `
                        <button class="option-btn" onclick="checkVocabAnswer('${opt.replace(/'/g, "\\'")}', this)">
                            ${opt}
                        </button>
                    `).join('')}
                </div>
                <div class="feedback" id="vocabFeedback"></div>
                <div class="navigation">
                    <button class="nav-btn prev" onclick="prevVocabQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>ã¾ãˆ</button>
                    <button class="nav-btn next" onclick="nextVocabQuestion()" id="vocabNextBtn" disabled>ã¤ã</button>
                </div>
            `;
        }
        
        // Check vocabulary answer
        function checkVocabAnswer(selected, btn) {
            const q = sectionStatus.vocab.questions[currentQuestion];
            const buttons = document.querySelectorAll('#vocabOptions .option-btn');
            const feedback = document.getElementById('vocabFeedback');
            
            buttons.forEach(b => b.disabled = true);
            
            if (selected === q.answer) {
                btn.classList.add('correct');
                sectionStatus.vocab.correct++;
                totalScore++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<span class="feedback-icon">â­•</span> ã›ã„ã‹ã„! Great job!`;
            } else {
                btn.classList.add('incorrect');
                buttons.forEach(b => {
                    if (b.textContent.trim() === q.answer) b.classList.add('correct');
                });
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<span class="feedback-icon">âŒ</span> ã–ã‚“ã­ã‚“! ã“ãŸãˆ: ${q.answer}`;
            }
            
            questionsAnswered++;
            updateScoreBoard();
            document.getElementById('vocabNextBtn').disabled = false;
        }
        
        // Navigation for vocab
        function nextVocabQuestion() {
            currentQuestion++;
            loadVocabQuestion();
        }
        
        function prevVocabQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadVocabQuestion();
            }
        }
        
        // Complete section
        function completeSection(section) {
            sectionStatus[section].completed = true;
            
            // Update tab
            const tab = document.getElementById(`tab-${section}`);
            const check = document.getElementById(`check-${section}`);
            tab.classList.add('completed');
            check.classList.remove('hidden');
            
            // Unlock next section
            const sections = ['vocab', 'grammar', 'listening', 'reading'];
            const currentIndex = sections.indexOf(section);
            
            if (currentIndex < sections.length - 1) {
                const nextSection = sections[currentIndex + 1];
                const nextTab = document.getElementById(`tab-${nextSection}`);
                const nextLock = document.getElementById(`lock-${nextSection}`);
                nextTab.classList.remove('locked');
                nextTab.disabled = false;
                nextLock.classList.add('hidden');
                
                // Auto-switch to next section
                currentQuestion = 0;
                switchSection(nextSection);
            } else {
                // All sections complete - show results
                showResults();
            }
        }
        
        // Switch section
        function switchSection(section) {
            if (sectionStatus[section.replace('-section', '')]) {
                // Hide all sections
                document.querySelectorAll('.practice-section').forEach(s => s.classList.remove('active'));
                document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
                
                // Show selected section
                document.getElementById(`${section}-section`).classList.add('active');
                document.getElementById(`tab-${section}`).classList.add('active');
                
                currentSection = section;
                currentQuestion = 0;
                
                // Load appropriate question
                switch(section) {
                    case 'vocab': loadVocabQuestion(); break;
                    case 'grammar': loadGrammarQuestion(); break;
                    case 'listening': loadListeningQuestion(); break;
                    case 'reading': loadReadingQuestion(); break;
                }
            }
        }
        
        // Load grammar question
        function loadGrammarQuestion() {
            const questions = sectionStatus.grammar.questions;
            if (currentQuestion >= questions.length) {
                completeSection('grammar');
                return;
            }
            
            const q = questions[currentQuestion];
            document.getElementById('grammar-lesson-tag').textContent = `L${q.lesson}`;
            
            const container = document.getElementById('grammar-question');
            container.innerHTML = `
                <div class="question-container">
                    <div class="question-number">ã‚‚ã‚“ã ã„ ${currentQuestion + 1} / 10</div>
                    <div class="question-text">${q.question}</div>
                    <div class="question-hint">ğŸ’¡ ${q.hint}</div>
                </div>
                <div class="options-grid" id="grammarOptions">
                    ${q.options.map(opt => `
                        <button class="option-btn" onclick="checkGrammarAnswer('${opt}', this)">
                            ${opt}
                        </button>
                    `).join('')}
                </div>
                <div class="feedback" id="grammarFeedback"></div>
                <div class="navigation">
                    <button class="nav-btn prev" onclick="prevGrammarQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>ã¾ãˆ</button>
                    <button class="nav-btn next" onclick="nextGrammarQuestion()" id="grammarNextBtn" disabled>ã¤ã</button>
                </div>
            `;
        }
        
        function checkGrammarAnswer(selected, btn) {
            const q = sectionStatus.grammar.questions[currentQuestion];
            const buttons = document.querySelectorAll('#grammarOptions .option-btn');
            const feedback = document.getElementById('grammarFeedback');
            
            buttons.forEach(b => b.disabled = true);
            
            if (selected === q.answer) {
                btn.classList.add('correct');
                sectionStatus.grammar.correct++;
                totalScore++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<span class="feedback-icon">â­•</span> ã›ã„ã‹ã„!<div class="explanation">${q.explanation}</div>`;
            } else {
                btn.classList.add('incorrect');
                buttons.forEach(b => {
                    if (b.textContent.trim() === q.answer) b.classList.add('correct');
                });
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<span class="feedback-icon">âŒ</span> ã“ãŸãˆ: ${q.answer}<div class="explanation">${q.explanation}</div>`;
            }
            
            questionsAnswered++;
            updateScoreBoard();
            document.getElementById('grammarNextBtn').disabled = false;
        }
        
        function nextGrammarQuestion() {
            currentQuestion++;
            loadGrammarQuestion();
        }
        
        function prevGrammarQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadGrammarQuestion();
            }
        }
        
        // Load listening question
        function loadListeningQuestion() {
            const questions = sectionStatus.listening.questions;
            if (currentQuestion >= questions.length) {
                completeSection('listening');
                return;
            }
            
            const q = questions[currentQuestion];
            document.getElementById('listening-lesson-tag').textContent = `L${q.lesson}`;
            
            const dialogueHTML = q.dialogue.map(line => 
                `<div class="dialogue-line"><span class="speaker">${line.speaker}:</span> ${line.text}</div>`
            ).join('');
            
            const container = document.getElementById('listening-question');
            container.innerHTML = `
                <div class="question-container">
                    <div class="question-number">ã‚‚ã‚“ã ã„ ${currentQuestion + 1} / 10</div>
                    <div class="dialogue-box">
                        <div class="dialogue-title">ğŸ§ ã‹ã„ã‚</div>
                        <div class="dialogue-content">${dialogueHTML}</div>
                    </div>
                    <div class="question-text" style="font-size: clamp(16px, 2.5vw, 22px);">${q.question}</div>
                </div>
                <div class="options-grid" id="listeningOptions">
                    ${q.options.map(opt => `
                        <button class="option-btn" onclick="checkListeningAnswer('${opt.replace(/'/g, "\\'")}', this)">
                            ${opt}
                        </button>
                    `).join('')}
                </div>
                <div class="feedback" id="listeningFeedback"></div>
                <div class="navigation">
                    <button class="nav-btn prev" onclick="prevListeningQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>ã¾ãˆ</button>
                    <button class="nav-btn next" onclick="nextListeningQuestion()" id="listeningNextBtn" disabled>ã¤ã</button>
                </div>
            `;
        }
        
        function checkListeningAnswer(selected, btn) {
            const q = sectionStatus.listening.questions[currentQuestion];
            const buttons = document.querySelectorAll('#listeningOptions .option-btn');
            const feedback = document.getElementById('listeningFeedback');
            
            buttons.forEach(b => b.disabled = true);
            
            if (selected === q.answer) {
                btn.classList.add('correct');
                sectionStatus.listening.correct++;
                totalScore++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<span class="feedback-icon">â­•</span> ã›ã„ã‹ã„! ã‚ˆã ãã‘ã¾ã—ãŸã­!`;
            } else {
                btn.classList.add('incorrect');
                buttons.forEach(b => {
                    if (b.textContent.trim() === q.answer) b.classList.add('correct');
                });
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<span class="feedback-icon">âŒ</span> ã“ãŸãˆ: ${q.answer}`;
            }
            
            questionsAnswered++;
            updateScoreBoard();
            document.getElementById('listeningNextBtn').disabled = false;
        }
        
        function nextListeningQuestion() {
            currentQuestion++;
            loadListeningQuestion();
        }
        
        function prevListeningQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadListeningQuestion();
            }
        }
        
        // Load reading question
        function loadReadingQuestion() {
            const questions = sectionStatus.reading.questions;
            if (currentQuestion >= questions.length) {
                completeSection('reading');
                return;
            }
            
            const q = questions[currentQuestion];
            document.getElementById('reading-lesson-tag').textContent = `L${q.lesson}`;
            
            const container = document.getElementById('reading-question');
            container.innerHTML = `
                <div class="question-container">
                    <div class="question-number">ã‚‚ã‚“ã ã„ ${currentQuestion + 1} / 10</div>
                    <div class="reading-passage">
                        <div class="passage-title">ğŸ“– ã¶ã‚“ã—ã‚‡ã†</div>
                        <div class="passage-text">${q.passage}</div>
                    </div>
                    <div class="question-text" style="font-size: clamp(16px, 2.5vw, 22px);">${q.question}</div>
                </div>
                <div class="options-grid" id="readingOptions">
                    ${q.options.map(opt => `
                        <button class="option-btn" onclick="checkReadingAnswer('${opt.replace(/'/g, "\\'")}', this)">
                            ${opt}
                        </button>
                    `).join('')}
                </div>
                <div class="feedback" id="readingFeedback"></div>
                <div class="navigation">
                    <button class="nav-btn prev" onclick="prevReadingQuestion()" ${currentQuestion === 0 ? 'disabled' : ''}>ã¾ãˆ</button>
                    <button class="nav-btn next" onclick="nextReadingQuestion()" id="readingNextBtn" disabled>ã¤ã</button>
                </div>
            `;
        }
        
        function checkReadingAnswer(selected, btn) {
            const q = sectionStatus.reading.questions[currentQuestion];
            const buttons = document.querySelectorAll('#readingOptions .option-btn');
            const feedback = document.getElementById('readingFeedback');
            
            buttons.forEach(b => b.disabled = true);
            
            if (selected === q.answer) {
                btn.classList.add('correct');
                sectionStatus.reading.correct++;
                totalScore++;
                feedback.className = 'feedback correct';
                feedback.innerHTML = `<span class="feedback-icon">â­•</span> ã›ã„ã‹ã„! ã‚ˆã ã‚ˆã‚ã¾ã—ãŸã­!`;
            } else {
                btn.classList.add('incorrect');
                buttons.forEach(b => {
                    if (b.textContent.trim() === q.answer) b.classList.add('correct');
                });
                feedback.className = 'feedback incorrect';
                feedback.innerHTML = `<span class="feedback-icon">âŒ</span> ã“ãŸãˆ: ${q.answer}`;
            }
            
            questionsAnswered++;
            updateScoreBoard();
            document.getElementById('readingNextBtn').disabled = false;
        }
        
        function nextReadingQuestion() {
            currentQuestion++;
            loadReadingQuestion();
        }
        
        function prevReadingQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadReadingQuestion();
            }
        }
        
        // Show results
        function showResults() {
            document.querySelectorAll('.practice-section').forEach(s => s.classList.remove('active'));
            document.getElementById('results-section').classList.add('active');
            
            const percent = Math.round((totalScore / totalQuestions) * 100);
            const passed = percent >= 80;
            
            document.getElementById('results-icon').textContent = passed ? 'ğŸ‰' : 'ğŸ’ª';
            document.getElementById('results-title').textContent = passed ? 'ã”ã†ã‹ã!' : 'ã‚‚ã†ã„ã¡ã© ãŒã‚“ã°ã‚Šã¾ã—ã‚‡ã†!';
            document.getElementById('results-title').className = `results-title ${passed ? 'pass' : 'fail'}`;
            document.getElementById('final-score').textContent = `${percent}%`;
            document.getElementById('final-score').className = `results-score ${passed ? 'pass' : 'fail'}`;
            document.getElementById('results-message').textContent = passed 
                ? 'ã™ã°ã‚‰ã—ã„! ãƒ¬ãƒƒã‚¹ãƒ³18-25ã® ãªã„ã‚ˆã†ã‚’ ã‚ˆã ã‚Šã‹ã„ã—ã¦ã„ã¾ã™!'
                : 'ã‚ãã‚‰ã‚ãªã„ã§! ã‚‚ã†ã„ã¡ã© ãµãã—ã‚…ã†ã—ã¦ ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¾ã—ã‚‡ã†!';
            
            // Section breakdowns
            document.getElementById('vocab-score').textContent = `${sectionStatus.vocab.correct}/10`;
            document.getElementById('grammar-score').textContent = `${sectionStatus.grammar.correct}/10`;
            document.getElementById('listening-score').textContent = `${sectionStatus.listening.correct}/10`;
            document.getElementById('reading-score').textContent = `${sectionStatus.reading.correct}/10`;
            
            // Color code breakdowns
            ['vocab', 'grammar', 'listening', 'reading'].forEach(section => {
                const item = document.getElementById(`breakdown-${section}`);
                const sectionPassed = (sectionStatus[section].correct / 10) >= 0.8;
                item.className = `breakdown-item ${sectionPassed ? 'pass' : 'fail'}`;
            });
        }
        
        // Restart quiz
        function restartQuiz() {
            currentSection = 'vocab';
            currentQuestion = 0;
            totalScore = 0;
            questionsAnswered = 0;
            
            sectionStatus = {
                vocab: { completed: false, correct: 0, total: 10, questions: [] },
                grammar: { completed: false, correct: 0, total: 10, questions: [] },
                listening: { completed: false, correct: 0, total: 10, questions: [] },
                reading: { completed: false, correct: 0, total: 10, questions: [] }
            };
            
            // Reset tabs
            document.querySelectorAll('.tab-btn').forEach((tab, i) => {
                tab.classList.remove('completed', 'active');
                if (i > 0) {
                    tab.classList.add('locked');
                    tab.disabled = true;
                }
            });
            
            document.querySelectorAll('.tab-check').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-lock').forEach((l, i) => {
                if (i > 0) l.classList.remove('hidden');
            });
            
            document.getElementById('tab-vocab').classList.add('active');
            
            // Reset sections
            document.querySelectorAll('.practice-section').forEach(s => s.classList.remove('active'));
            document.getElementById('vocab-section').classList.add('active');
            
            init();
        }
        
        // Toggle reference
        function toggleReference() {
            const card = document.getElementById('referenceCard');
            card.classList.toggle('show');
        }
        
        // Start quiz
        init();
    </script>
</body>
</html>
